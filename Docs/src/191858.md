---
is_dir: False    # True for dir; False for doc
status: 1    # 1 for online; 0 for offline
keywords: 实时音视频    # use ',' as separator
---
# 方法
## 引擎管理
| 方法 | 描述 |
| --- | --- |
| [CreateRTCVideo](191859#IRTCVideo-creatertcvideo) | 创建 RTCVideoEngine 实例。<br/>RTCVideoEngine 实例成功创建后，你才可以使用 SDK 提供的其他能力。 |
| [GetSDKVersion](191859#IRTCVideo-getsdkversion) | 获取 SDK 当前的版本号。 |
| [Feedback](191859#IRTCVideo-feedback) | 通话结束，将用户反馈的问题上报到 RTC。 |
| [GetErrorDescription](191859#IRTCVideo-geterrordescription) | 获取 SDK 内各种错误码、警告码的描述文字 |
| [SetBusinessId](191859#IRTCVideo-setbusinessid) | 设置业务标识参数。<br/>可通过 businessId 区分不同的业务场景。businessId 由客户自定义，相当于一个“标签”，可以分担和细化现在 AppId 的逻辑划分的功能，但不需要鉴权。 |
| [SetRuntimeParameters](191859#IRTCVideo-setruntimeparameters) | 设置运行时的参数。 |
## 房间管理
| 方法 | 描述 |
| --- | --- |
| [CreateRTCRoom](191859#IRTCVideo-creatertcroom) | 创建房间 |
| [Destroy](191859#IRTCVideoRoom-destroy) | 退出并销毁调用 [CreateRTCRoom](191859#IRTCVideo-creatertcroom) 所创建的房间。 |
| [JoinRoom](191859#IRTCVideoRoom-joinroom) | 加入房间。<br/>调用 [CreateRTCRoom](191859#IRTCVideo-creatertcroom) 创建房间后，调用此方法加入房间，同房间内其他用户进行音视频通话。 |
| [LeaveRoom](191859#IRTCVideoRoom-leaveroom) | 离开房间。<br/>用户调用此方法离开房间，结束通话过程，释放所有通话相关的资源。 |
| [SetUserVisibility](191859#IRTCVideoRoom-setuservisibility) | 设置用户可见性。默认可见。 |
| [UpdateToken](191859#IRTCVideoRoom-updatetoken) | 更新 Token。<br/>收到 [OnTokenWillExpireEventHandler](191860#ontokenwillexpireeventhandler) 时，你必须重新获取 Token，并调用此方法更新 Token，以保证通话的正常进行。 |
## 音频管理
| 方法 | 描述 |
| --- | --- |
| [SetAudioRoute](191859#IRTCVideo-setaudioroute) | 设置当前音频播放路由。<br/>音频播放路由发生变化时，会收到 [OnAudioRouteChangedEventHandler](191860#onaudioroutechangedeventhandler) 回调。 |
| [SetDefaultAudioRoute](191859#IRTCVideo-setdefaultaudioroute) | 将默认的音频播放设备设置为听筒或扬声器。 |
| [GetAudioRoute](191859#IRTCVideo-getaudioroute) | 获取当前使用的音频播放路由。 |
| [EnumerateAudioPlaybackDevices](191859#IAudioDeviceManager-enumerateaudioplaybackdevices) | 获取当前系统内音频播放设备列表。如果后续设备有变更，你需要重新调用本接口以获得新的设备列表。 |
| [EnumerateAudioCaptureDevices](191859#IAudioDeviceManager-enumerateaudiocapturedevices) | 获取当前系统内音频采集设备列表。如果后续设备有变更，你需要重新调用本接口以获得新的设备列表。 |
| [SetAudioPlaybackDevice](191859#IAudioDeviceManager-setaudioplaybackdevice) | 设置音频播放设备。 |
| [SetAudioCaptureDevice](191859#IAudioDeviceManager-setaudiocapturedevice) | 设置音频采集设备。 |
| [MuteAudioCapture](191859#IRTCVideo-muteaudiocapture) | 设置是否将录音信号静音（不改变本端硬件）。 |
| [GetAudioPlaybackDevice](191859#IAudioDeviceManager-getaudioplaybackdevice) | 获取当前音频播放设备 ID。 |
| [GetAudioCaptureDevice](191859#IAudioDeviceManager-getaudiocapturedevice) | 获取当前音频采集设备 ID。 |
| [FollowSystemPlaybackDevice](191859#IAudioDeviceManager-followsystemplaybackdevice) | 设置音频播放路由是否跟随系统。 |
| [FollowSystemCaptureDevice](191859#IAudioDeviceManager-followsystemcapturedevice) | 设置音频采集路由是否跟随系统。 |
| [SetAudioPlaybackDeviceVolume](191859#IAudioDeviceManager-setaudioplaybackdevicevolume) | 设置当前音频播放设备音量 |
| [GetAudioPlaybackDeviceVolume](191859#IAudioDeviceManager-getaudioplaybackdevicevolume) | 获取当前音频播放设备音量 |
| [SetAudioCaptureDeviceVolume](191859#IAudioDeviceManager-setaudiocapturedevicevolume) | 设置当前音频采集设备音量 |
| [GetAudioCaptureDeviceVolume](191859#IAudioDeviceManager-getaudiocapturedevicevolume) | 获取当前音频采集设备音量 |
| [SetAudioPlaybackDeviceMute](191859#IAudioDeviceManager-setaudioplaybackdevicemute) | 设置当前音频播放设备静音状态，默认为非静音。 |
| [GetAudioPlaybackDeviceMute](191859#IAudioDeviceManager-getaudioplaybackdevicemute) | 获取当前音频播放设备是否静音的信息。 |
| [SetAudioCaptureDeviceMute](191859#IAudioDeviceManager-setaudiocapturedevicemute) | 设置当前音频采集设备静音状态，默认为非静音。 |
| [GetAudioCaptureDeviceMute](191859#IAudioDeviceManager-getaudiocapturedevicemute) | 获取当前音频采集设备是否静音的信息。 |
| [SetCaptureVolume](191859#IRTCVideo-setcapturevolume) | 调节音频采集音量 |
| [SetPlaybackVolume](191859#IRTCVideo-setplaybackvolume) | 调节本地播放的所有远端用户音频混音后的音量，混音内容包括远端人声、音乐、音效等。 |
| [SetRemoteAudioPlaybackVolume](191859#IRTCVideo-setremoteaudioplaybackvolume) | 调节来自指定远端用户的音频播放音量，默认为 100。 |
| [EnableAudioPropertiesReport](191859#IRTCVideo-enableaudiopropertiesreport) | 启用音频信息提示。 |
| [StartAudioCapture](191859#IRTCVideo-startaudiocapture) | 开启内部音频采集。默认为关闭状态。<br/>内部采集是指：使用 RTC SDK 内置的视频采集机制进行视频采集。<br/>调用该方法开启后，本地用户会收到 [OnAudioDeviceStateChangedEventHandler](191860#onaudiodevicestatechangedeventhandler) 的回调。<br/>可见用户进房后调用该方法，房间中的其他用户会收到 [OnUserStartAudioCaptureEventHandler](191860#onuserstartaudiocaptureeventhandler) 的回调。 |
| [StopAudioCapture](191859#IRTCVideo-stopaudiocapture) | 立即关闭内部音频采集。默认为关闭状态。<br/>内部采集是指：使用 RTC SDK 内置的视频采集机制进行视频采集。<br/>调用该方法，本地用户会收到 [OnAudioDeviceStateChangedEventHandler](191860#onaudiodevicestatechangedeventhandler) 的回调。<br/>可见用户进房后调用该方法，房间中的其他用户会收到 [OnUserStopAudioCaptureEventHandler](191860#onuserstopaudiocaptureeventhandler) 的回调。 |
| [SetAudioScenario](191859#IRTCVideo-setaudioscenario) | 设置音频场景类型 |
| [StartScreenAudioCapture](191859#IRTCVideo-startscreenaudiocapture) | 在屏幕共享时，开始使用 RTC SDK 内部采集方式，采集屏幕音频 |
| [StopScreenAudioCapture](191859#IRTCVideo-stopscreenaudiocapture) | 在屏幕共享时，停止使用 RTC SDK 内部采集方式，采集屏幕音频。 |
| [SetAudioProfile](191859#IRTCVideo-setaudioprofile) | 设置音质档位。你应根据业务场景需要选择适合的音质档位。 |
| [GetAudioDeviceManager](191859#IRTCVideo-getaudiodevicemanager) | 获取音频设备管理接口，该接口依赖引擎 |
## 视频管理
| 方法 | 描述 |
| --- | --- |
| [StartVideoCapture](191859#IRTCVideo-startvideocapture) | 立即开启内部视频采集。默认为关闭状态。<br/>内部视频采集指：使用 RTC SDK 内置视频采集模块，进行采集。<br/>调用该方法后，本地用户会收到 [OnVideoDeviceStateChangedEventHandler](191860#onvideodevicestatechangedeventhandler) 的回调。<br/>本地用户在非隐身状态下调用该方法后，房间中的其他用户会收到 [OnUserStartVideoCaptureEventHandler](191860#onuserstartvideocaptureeventhandler) 的回调。 |
| [StopVideoCapture](191859#IRTCVideo-stopvideocapture) | 立即关闭内部视频采集。默认为关闭状态。<br/>内部视频采集指：使用 RTC SDK 内置视频采集模块，进行采集。<br/>调用该方法，本地用户会收到 [OnVideoDeviceStateChangedEventHandler](191860#onvideodevicestatechangedeventhandler) 的回调。<br/>可见用户进房后调用该方法，房间中的其他用户会收到 [OnUserStopVideoCaptureEventHandler](191860#onuserstopvideocaptureeventhandler) 的回调。 |
| [SetVideoCaptureConfig](191859#IRTCVideo-setvideocaptureconfig) | 设置 RTC SDK 内部采集时的视频采集参数。<br/>如果你的项目使用了 SDK 内部采集模块，可以通过本接口指定视频采集参数包括模式、分辨率、帧率。 |
| [SetVideoRotationMode](191859#IRTCVideo-setvideorotationmode) | 设置采集视频的旋转模式。默认以 App 方向为旋转参考系。<br/>接收端渲染视频时，将按照和发送端相同的方式进行旋转。 |
| [SwitchCamera](191859#IRTCVideo-switchcamera) | 切换视频内部采集时使用的前置/后置摄像头<br/>调用此接口后，在本地会触发 [OnVideoDeviceStateChangedEventHandler](191860#onvideodevicestatechangedeventhandler) 回调。 |
| [EnumerateVideoCaptureDevices](191859#IVideoDeviceManager-enumeratevideocapturedevices) | 获取当前系统内视频采集设备列表。 |
| [SetVideoCaptureDevice](191859#IVideoDeviceManager-setvideocapturedevice) | 设置当前视频采集设备 |
| [GetVideoDeviceManager](191859#IRTCVideo-getvideodevicemanager) | 获取视频设备管理接口 |
| [GetVideoCaptureDevice](191859#IVideoDeviceManager-getvideocapturedevice) | 获取当前 SDK 正在使用的视频采集设备信息 |
| [SetVideoEncoderConfig1](191859#IRTCVideo-setvideoencoderconfig1) | 视频发布端设置期望发布的最大分辨率视频流参数，包括分辨率、帧率、码率、缩放模式、网络不佳时的回退策略等。 |
## 音视频传输
| 方法 | 描述 |
| --- | --- |
| [PublishStream](191859#IRTCVideoRoom-publishstream) | 在当前所在房间内发布本地通过摄像头/麦克风采集的媒体流 |
| [UnpublishStream](191859#IRTCVideoRoom-unpublishstream) | 停止将本地摄像头/麦克风采集的媒体流发布到当前所在房间中 |
| [SubscribeStream](191859#IRTCVideoRoom-subscribestream) | 订阅房间内指定的通过摄像头/麦克风采集的媒体流，或更新对指定远端用户的订阅选项。 |
| [UnsubscribeStream](191859#IRTCVideoRoom-unsubscribestream) | 取消订阅房间内指定的通过摄像头/麦克风采集的媒体流。<br/>该方法对自动订阅和手动订阅模式均适用。 |
| [SubscribeAllStreams](191859#IRTCVideoRoom-subscribeallstreams) | 订阅房间内所有通过摄像头/麦克风采集的媒体流，或更新订阅选项。 |
| [UnsubscribeAllStreams](191859#IRTCVideoRoom-unsubscribeallstreams) | 取消订阅房间内所有的通过摄像头/麦克风采集的媒体流。<br/>自动订阅和手动订阅的流都可以通过本方法取消订阅。 |
| [PauseAllSubscribedStream](191859#IRTCVideoRoom-pauseallsubscribedstream) | 暂停接收来自远端的媒体流。 |
| [ResumeAllSubscribedStream](191859#IRTCVideoRoom-resumeallsubscribedstream) | 恢复接收来自远端的媒体流 |
| [SetDummyCaptureImagePath](191859#IRTCVideo-setdummycaptureimagepath) | 摄像头处于关闭状态时，使用静态图片填充本地推送的视频流。<br/>调用 `stopVideoCapture` 接口时，会开始推静态图片。若要停止发送图片，可传入空字符串或启用内部摄像头采集。<br/>可重复调用该接口来更新图片。 |
| [StartForwardStreamToRooms](191859#IRTCVideoRoom-startforwardstreamtorooms) | 开始跨房间转发媒体流。<br/>在调用 [JoinRoom](191859#IRTCVideoRoom-joinroom) 后调用本接口，实现向多个房间转发媒体流，适用于跨房间连麦等场景。 |
| [StopForwardStreamToRooms](191859#IRTCVideoRoom-stopforwardstreamtorooms) | 停止跨房间媒体流转发。<br/>通过 [StartForwardStreamToRooms](191859#IRTCVideoRoom-startforwardstreamtorooms) 发起媒体流转发后，可调用本方法停止向所有目标房间转发媒体流。 |
| [UpdateForwardStreamToRooms](191859#IRTCVideoRoom-updateforwardstreamtorooms) | 更新跨房间媒体流转发信息。<br/>通过 [StartForwardStreamToRooms](191859#IRTCVideoRoom-startforwardstreamtorooms) 发起媒体流转发后，可调用本方法增加或者减少目标房间，或更新房间密钥。<br/>调用本方法增加或删减房间后，将在本端触发 [OnForwardStreamStateChangedEventHandler](191860#onforwardstreamstatechangedeventhandler) 回调，包含发生了变动的目标房间中媒体流转发状态。 |
| [PauseForwardStreamToAllRooms](191859#IRTCVideoRoom-pauseforwardstreamtoallrooms) | 暂停跨房间媒体流转发。<br/>通过 [StartForwardStreamToRooms](191859#IRTCVideoRoom-startforwardstreamtorooms) 发起媒体流转发后，可调用本方法暂停向所有目标房间转发媒体流。<br/>调用本方法暂停向所有目标房间转发后，你可以随时调用 [ResumeForwardStreamToAllRooms](191859#IRTCVideoRoom-resumeforwardstreamtoallrooms) 快速恢复转发。 |
| [ResumeForwardStreamToAllRooms](191859#IRTCVideoRoom-resumeforwardstreamtoallrooms) | 恢复跨房间媒体流转发。<br/>调用 [PauseForwardStreamToAllRooms](191859#IRTCVideoRoom-pauseforwardstreamtoallrooms) 暂停转发之后，调用本方法恢复向所有目标房间转发媒体流。 |
| [SetMultiDeviceAVSync](191859#IRTCVideoRoom-setmultideviceavsync) | 设置发流端音画同步。<br/>当同一用户同时使用两个通话设备分别采集发送音频和视频时，有可能会因两个设备所处的网络环境不一致而导致发布的流不同步，此时你可以在视频发送端调用该接口，SDK 会根据音频流的时间戳自动校准视频流，以保证接收端听到音频和看到视频在时间上的同步性。 |
## 视频处理
| 方法 | 描述 |
| --- | --- |
| [SetLocalVideoMirrorType](191859#IRTCVideo-setlocalvideomirrortype) | 为采集到的视频流开启镜像 |
| [SetVideoCaptureRotation](191859#IRTCVideo-setvideocapturerotation) | 设置本端采集的视频帧的旋转角度。<br/>当摄像头倒置或者倾斜安装时，可调用本接口进行调整。 |
| [SetVideoWatermark](191859#IRTCVideo-setvideowatermark) | 在指定视频流上添加水印。 |
| [ClearVideoWatermark](191859#IRTCVideo-clearvideowatermark) | 移除指定视频流的水印。 |
| [EnableEffectBeauty](191859#IRTCVideo-enableeffectbeauty) | 开启/关闭基础美颜。 |
| [SetBeautyIntensity](191859#IRTCVideo-setbeautyintensity) | 调整基础美颜强度。 |
| [GetAuthMessage](191859#IRTCVideo-getauthmessage) | 从特效 SDK 获取授权消息，用于获取在线许可证。 |
| [FreeAuthMessage](191859#IRTCVideo-freeauthmessage) | 使用完授权消息字符串后，释放内存。 |
| [InitCVResource](191859#IRTCVideo-initcvresource) | 检查视频特效证书，设置算法模型路径，并初始化特效模块。 |
| [EnableVideoEffect](191859#IRTCVideo-enablevideoeffect) | 开启高级美颜、滤镜等视频特效。 |
| [DisableVideoEffect](191859#IRTCVideo-disablevideoeffect) | 关闭视频特效。 |
| [SetEffectNodes](191859#IRTCVideo-seteffectnodes) | 设置视频特效素材包。 |
| [UpdateEffectNode](191859#IRTCVideo-updateeffectnode) | 设置特效强度。 |
| [SetColorFilter](191859#IRTCVideo-setcolorfilter) | 设置颜色滤镜。 |
| [SetColorFilterIntensity](191859#IRTCVideo-setcolorfilterintensity) | 设置已启用颜色滤镜的强度。 |
| [EnableVirtualBackground](191859#IRTCVideo-enablevirtualbackground) | 将摄像头采集画面中的人像背景替换为指定图片或纯色背景。 |
| [DisableVirtualBackground](191859#IRTCVideo-disablevirtualbackground) | 关闭虚拟背景。 |
| [VideoSDKEnableFaceDetection](191859#IRTCVideo-videosdkenablefacedetection) | 开启人脸识别功能，并设置人脸检测结果回调观察者。<br/>此观察者后，你会周期性收到 [OnFaceDetectResultEventHandler](191860#onfacedetectresulteventhandler) 回调。 |
| [VideoSDKDisableFaceDetection](191859#IRTCVideo-videosdkdisablefacedetection) | 关闭人脸识别功能。 |
| [SetVideoDigitalZoomConfig](191859#IRTCVideo-setvideodigitalzoomconfig) | 设置本地摄像头数码变焦参数，包括缩放倍数，移动步长。 |
| [SetVideoDigitalZoomControl](191859#IRTCVideo-setvideodigitalzoomcontrol) | 控制本地摄像头数码变焦，缩放或移动一次。设置对本地预览画面和发布到远端的视频都生效。 |
| [StartVideoDigitalZoomControl](191859#IRTCVideo-startvideodigitalzoomcontrol) | 开启本地摄像头持续数码变焦，缩放或移动。设置对本地预览画面和发布到远端的视频都生效。 |
| [StopVideoDigitalZoomControl](191859#IRTCVideo-stopvideodigitalzoomcontrol) | 停止本地摄像头持续数码变焦。 |
## 音频处理
| 方法 | 描述 |
| --- | --- |
| [SetVoiceReverbType](191859#IRTCVideo-setvoicereverbtype) | 设置混响特效类型 |
| [SetVoiceChangerType](191859#IRTCVideo-setvoicechangertype) | 设置变声特效类型 |
| [SetLocalVoicePitch](191859#IRTCVideo-setlocalvoicepitch) | 开启本地语音变调功能，多用于 K 歌场景。<br/>使用该方法，你可以对本地语音的音调进行升调或降调等调整。 |
| [SetLocalVoiceEqualization](191859#IRTCVideo-setlocalvoiceequalization) | 设置本地采集语音的均衡效果。包含内部采集和外部采集，但不包含混音音频文件。 |
| [SetLocalVoiceReverbParam](191859#IRTCVideo-setlocalvoicereverbparam) | 设置本地采集音频的混响效果。包含内部采集和外部采集，但不包含混音音频文件。 |
| [EnableLocalVoiceReverb](191859#IRTCVideo-enablelocalvoicereverb) | 开启本地音效混响效果 |
## 自定义流处理
| 方法 | 描述 |
| --- | --- |
| [SetVideoSourceType](191859#IRTCVideo-setvideosourcetype) | 设置向 SDK 输入的视频源，包括屏幕流。<br/>默认使用内部采集。内部采集指：使用 RTC SDK 内置的视频采集机制进行视频采集。 |
| [PushExternalVideoFrame](191859#IRTCVideo-pushexternalvideoframe) | 推送外部视频帧。 |
| [SetLocalVideoSink](191859#IRTCVideo-setlocalvideosink) | 将本地视频流与自定义渲染器绑定。 |
| [SetRemoteVideoSink](191859#IRTCVideo-setremotevideosink) | 将远端视频流与自定义渲染器绑定。 |
| [SetAudioSourceType](191859#IRTCVideo-setaudiosourcetype) | 切换音频采集方式 |
| [PushExternalAudioFrame](191859#IRTCVideo-pushexternalaudioframe) | 推送自定义采集的音频数据到 RTC SDK。 |
| [EnableAudioProcessor](191859#IRTCVideo-enableaudioprocessor) | 设置并开启指定的音频帧回调，进行自定义处理。 |
| [DisableAudioProcessor](191859#IRTCVideo-disableaudioprocessor) | 关闭自定义音频处理。 |
| [EnableAudioFrameCallback](191859#IRTCVideo-enableaudioframecallback) | 设置并开启指定的音频数据帧回调 |
| [DisableAudioFrameCallback](191859#IRTCVideo-disableaudioframecallback) | 关闭音频回调 |
## 消息
| 方法 | 描述 |
| --- | --- |
| [SendRoomMessage](191859#IRTCVideoRoom-sendroommessage) | 给房间内的所有其他用户群发文本消息。 |
| [SendUserMessage](191859#IRTCVideoRoom-sendusermessage) | 给房间内指定的用户发送点对点文本消息（P2P）。 |
| [SendStreamSyncInfo](191859#IRTCVideo-sendstreamsyncinfo) | 发送音频流同步信息。将消息通过音频流发送到远端，并实现与音频流同步，该接口调用成功后，远端用户会收到 [OnStreamSyncInfoReceivedEventHandler](191860#onstreamsyncinforeceivedeventhandler) 回调。 |
| [SendSEIMessage](191859#IRTCVideo-sendseimessage) | 通过视频帧发送 SEI 数据。<br/>在视频通话场景下，SEI 数据会随视频帧发送；在语音通话场景下，SDK 会自动生成一路 16px × 16px 的黑帧视频流用来发送 SEI 数据。 |
## 混音
| 方法 | 描述 |
| --- | --- |
| [EnableVocalInstrumentBalance](191859#IRTCVideo-enablevocalinstrumentbalance) | 开启/关闭音量均衡功能。<br/>开启音量均衡功能后，人声的响度会调整为 -16lufs。 |
## 屏幕分享
| 方法 | 描述 |
| --- | --- |
| [StartScreenCapture](191859#IRTCVideo-startscreencapture) | 使用 RTC SDK 内部采集模块开始采集屏幕音频流和（或）视频流。 |
| [GetScreenCaptureSourceList](191859#IRTCVideo-getscreencapturesourcelist) | 获取共享对象(应用窗口和桌面)列表, 使用完之后需要调用对应的 release 接口释放 |
| [StartScreenVideoCapture](191859#IRTCVideo-startscreenvideocapture) | 使用 RTC SDK 提供的采集模块，采集当前屏幕视频流，用于共享。 |
| [UpdateScreenCaptureHighlightConfig](191859#IRTCVideo-updatescreencapturehighlightconfig) | 通过 RTC SDK 提供的采集模块采集屏幕视频流时，更新边框高亮设置。默认展示表框。 |
| [UpdateScreenCaptureMouseCursor](191859#IRTCVideo-updatescreencapturemousecursor) | 通过 RTC SDK 提供的采集模块采集屏幕视频流时，更新对鼠标的处理设置。默认采集鼠标。 |
| [UpdateScreenCaptureFilterConfig](191859#IRTCVideo-updatescreencapturefilterconfig) | 通过 RTC SDK 提供的采集模块采集屏幕视频流时，设置需要过滤的窗口。 |
| [UpdateScreenCaptureRegion](191859#IRTCVideo-updatescreencaptureregion) | 通过 RTC SDK 提供的采集模块采集屏幕视频流时，更新采集区域。 |
| [StopScreenVideoCapture](191859#IRTCVideo-stopscreenvideocapture) | 停止屏幕视频流采集。 |
| [PublishScreen](191859#IRTCVideoRoom-publishscreen) | 在当前所在房间内发布本地屏幕共享音视频流 |
| [UnpublishScreen](191859#IRTCVideoRoom-unpublishscreen) | 停止将本地屏幕共享音视频流发布到当前所在房间中 |
| [GetThumbnail](191859#IRTCVideo-getthumbnail) | 获取共享对象缩略图 |
| [SetScreenAudioSourceType](191859#IRTCVideo-setscreenaudiosourcetype) | 在屏幕共享时，设置屏幕音频的采集方式（内部采集/自定义采集） |
| [SetScreenAudioStreamIndex](191859#IRTCVideo-setscreenaudiostreamindex) | 在屏幕共享时，设置屏幕音频流和麦克风采集到的音频流的混流方式 |
| [PushScreenAudioFrame](191859#IRTCVideo-pushscreenaudioframe) | 使用自定义采集方式，采集屏幕共享时的屏幕音频时，将音频帧推送至 RTC SDK 处进行编码等处理。 |
| [PushScreenVideoFrame](191859#IRTCVideo-pushscreenvideoframe) | 推送屏幕视频帧 |
| [SetScreenVideoEncoderConfig](191859#IRTCVideo-setscreenvideoencoderconfig) | 为发布的屏幕共享视频流设置期望的编码参数，包括分辨率、帧率、码率、缩放模式、网络不佳时的回退策略等。 |
| [SubscribeScreen](191859#IRTCVideoRoom-subscribescreen) | 订阅房间内指定的远端屏幕共享音视频流，或更新对指定远端用户的订阅选项 |
| [UnsubscribeScreen](191859#IRTCVideoRoom-unsubscribescreen) | 取消订阅房间内指定的远端屏幕共享音视频流。<br/>该方法对自动订阅和手动订阅模式均适用。 |
## 高级功能
| 方法 | 描述 |
| --- | --- |
| [StartAudioRecording](191859#IRTCVideo-startaudiorecording) | 开启录制语音通话，生成本地文件。 |
| [StopAudioRecording](191859#IRTCVideo-stopaudiorecording) | 停止音频文件录制 |
| [SetEarMonitorMode](191859#IRTCVideo-setearmonitormode) | 打开/关闭耳返功能。 |
| [SetEarMonitorVolume](191859#IRTCVideo-setearmonitorvolume) | 设置耳返音量。 |
| [GetSpatialAudio](191859#IRTCVideoRoom-getspatialaudio) | 获取空间音频接口。 |
| [EnableSpatialAudio](191859#ISpatialAudio-enablespatialaudio) | 设置是否开启空间语音 |
| [UpdatePosition](191859#ISpatialAudio-updateposition) | 更新本地用户发声时，在房间内空间直角坐标系中的位置坐标。 |
| [UpdateSelfOrientation](191859#ISpatialAudio-updateselforientation) | 更新自己的朝向。本地朝向的设置只影响本地听到的音频效果，不影响本地发出的音频效果。 |
| [DisableRemoteOrientation](191859#ISpatialAudio-disableremoteorientation) | 关闭本地用户朝向对本地用户发声效果的影响。<br/>调用此接口后，房间内的其他用户收听本地发声时，声源都在收听者正面。 |
| [GetRangeAudio](191859#IRTCVideoRoom-getrangeaudio) | 获取范围语音接口。 |
| [EnableRangeAudio](191859#IRangeAudio-enablerangeaudio) | 开启/关闭范围语音功能。<br/>范围语音是指，在同一 RTC 房间中设定的音频接收距离范围内，本地用户收听到的远端用户音频音量会随着远端用户的靠近/远离而放大/衰减；若远端用户在房间内的位置超出设定范围，则本地用户无法接收其音频。音频接收范围设置参看 [UpdateReceiveRange](191859#IRangeAudio-updatereceiverange)。 |
| [SetAttenuationModel](191859#IRangeAudio-setattenuationmodel) | 设置范围语音的音量衰减模式。 |
| [SetNoAttenuationFlags](191859#IRangeAudio-setnoattenuationflags) | 添加标签组，用于标记相互之间通话不衰减的用户组。<br/>在同一个 RTC 房间中，如果多个用户的标签组之间有交集，那么，他们之间互相通话时，通话不衰减。<br/>比如，用户身处多个队伍，队伍成员间通话不衰减。那么，可以为每个队伍绑定专属标签，每个用户的标签组包含用户所属各个队伍的标签。 |
| [UpdatePosition](191859#IRangeAudio-updateposition) | 更新本地用户在房间内空间直角坐标系中的位置坐标。 |
| [UpdateReceiveRange](191859#IRangeAudio-updatereceiverange) | 更新本地用户的音频收听范围。 |
# 回调
## 引擎管理
| 回调 | 描述 |
| --- | --- |
| [OnLogReportEventHandler](191860#onlogreporteventhandler) | 上报日志时回调该事件。 |
| [OnSysStatsEventHandler](191860#onsysstatseventhandler) | 每 2 秒发生回调，通知当前 CPU 及内存使用的信息。 |
| [OnWarningEventHandler](191860#onwarningeventhandler) | 发生警告回调。 |
| [OnErrorEventHandler](191860#onerroreventhandler) | 发生错误回调。 |
| [OnTokenWillExpireEventHandler](191860#ontokenwillexpireeventhandler) | 当 SDK 检测到 Token 的进房权限将在 30 秒内过期时，触发该回调。<br/>调用 [UpdateToken](191859#IRTCVideoRoom-updatetoken) 更新 Token。否则 Token 过期后，用户将被移出房间无法继续进行音视频通话。 |
## 房间管理
| 回调 | 描述 |
| --- | --- |
| [OnRoomStateChangedEventHandler](191860#onroomstatechangedeventhandler) | 房间状态改变回调，加入房间、异常退出房间、发生房间相关的警告或错误时会收到此回调。 |
| [OnCreateRoomStateChangedEventHandler](191860#oncreateroomstatechangedeventhandler) | 创建房间失败回调。 |
| [OnLeaveRoomEventHandler](191860#onleaveroomeventhandler) | 离开房间成功回调。<br/>用户调用 [LeaveRoom](191859#IRTCVideoRoom-leaveroom) 方法后，SDK 会停止所有的发布订阅流，并在释放所有通话相关的音视频资源后，通过此回调通知用户离开房间成功。 |
| [OnUserJoinedEventHandler](191860#onuserjoinedeventhandler) | 远端可见用户加入房间，或房内不可见用户切换为可见的回调。<br/>+ 远端可见用户调用 [SetUserVisibility](191859#IRTCVideoRoom-setuservisibility) 方法将自身设为可见后加入房间时，房间内其他用户将收到该事件。<br/>+ 远端可见用户断网后重新连入房间时，房间内其他用户将收到该事件。<br/>+ 房间内不可见远端用户调用 [SetUserVisibility](191859#IRTCVideoRoom-setuservisibility) 方法切换至可见时，房间内其他用户将收到该事件。<br/>+ 新进房用户也会收到进房前已在房内的可见用户的进房回调通知。 |
| [OnUserLeaveEventHandler](191860#onuserleaveeventhandler) | 远端用户离开房间，或切至不可见时，本地用户会收到此事件 |
## 音频管理
| 回调 | 描述 |
| --- | --- |
| [OnAudioDeviceWarningEventHandler](191860#onaudiodevicewarningeventhandler) | 媒体设备警告回调。媒体设备包括：音频采集设备、音频渲染设备、和视频采集设备。 |
| [OnAudioDeviceStateChangedEventHandler](191860#onaudiodevicestatechangedeventhandler) | 音频设备状态回调。提示音频采集、音频播放等媒体设备的状态。 |
| [OnAudioRouteChangedEventHandler](191860#onaudioroutechangedeventhandler) | 音频播放路由变化时，收到该回调。 |
| [OnLocalAudioPropertiesReportEventHandler](191860#onlocalaudiopropertiesreporteventhandler) | 调用 [EnableAudioPropertiesReport](191859#IRTCVideo-enableaudiopropertiesreport) 后，根据设置的 Interval 值，你会周期性地收到此回调，了解本地音频的相关信息。<br/>本地音频包括使用 RTC SDK 内部机制采集的麦克风音频和屏幕音频。 |
| [OnRemoteAudioPropertiesReportEventHandler](191860#onremoteaudiopropertiesreporteventhandler) | 远端用户进房后，本地调用 [EnableAudioPropertiesReport](191859#IRTCVideo-enableaudiopropertiesreport) ，根据设置的 interval 值，本地会周期性地收到此回调，了解订阅的远端用户的瞬时音频信息。<br/>远端用户的音频包括使用 RTC SDK 内部机制/自定义机制采集的麦克风音频和屏幕音频。 |
| [OnUserStartAudioCaptureEventHandler](191860#onuserstartaudiocaptureeventhandler) | 房间内的可见用户调用 [StartAudioCapture](191859#IRTCVideo-startaudiocapture) 开启音频采集时，房间内其他用户会收到此回调。 |
| [OnUserStopAudioCaptureEventHandler](191860#onuserstopaudiocaptureeventhandler) | 房间内的可见用户调用 [StopAudioCapture](191859#IRTCVideo-stopaudiocapture) 关闭音频采集时，房间内其他用户会收到此回调。 |
| [OnStreamSyncInfoReceivedEventHandler](191860#onstreamsyncinforeceivedeventhandler) | 音频流同步信息回调。可以通过此回调，在远端用户调用 [SendStreamSyncInfo](191859#IRTCVideo-sendstreamsyncinfo) 发送音频流同步消息后，收到远端发送的音频流同步信息。 |
| [OnAudioStreamBannedEventHandler](191860#onaudiostreambannedeventhandler) | 通过调用服务端 MuteUser/UnmuteUser 方法禁用/解禁指定房间内指定用户视音频流的发送时，触发此回调。 |
| [OnLocalAudioStateChangedEventHandler](191860#onlocalaudiostatechangedeventhandler) | 本地音频流的状态发生改变时，该回调通知当前的本地音频流状态。 |
## 视频管理
| 回调 | 描述 |
| --- | --- |
| [OnUserStartVideoCaptureEventHandler](191860#onuserstartvideocaptureeventhandler) | 房间内的可见用户调用 [StartVideoCapture](191859#IRTCVideo-startvideocapture) 开启内部视频采集时，房间内其他用户会收到此回调。 |
| [OnUserStopVideoCaptureEventHandler](191860#onuserstopvideocaptureeventhandler) | 房间内的可见用户调用 [StopVideoCapture](191859#IRTCVideo-stopvideocapture) 关闭内部视频采集时，房间内其他用户会收到此回调。 |
| [OnVideoDeviceStateChangedEventHandler](191860#onvideodevicestatechangedeventhandler) | 视频设备状态回调。提示摄像头视频采集、屏幕视频采集等媒体设备的状态。 |
| [OnVideoDeviceWarningEventHandler](191860#onvideodevicewarningeventhandler) | 视频设备警告回调，包括视频采集等设备。 |
## 音视频传输
| 回调 | 描述 |
| --- | --- |
| [OnStreamStateChangedEventHandler](191860#onstreamstatechangedeventhandler) | 流状态改变回调，发生流相关的警告或错误时会收到此回调。 |
| [OnUserPublishStreamEventHandler](191860#onuserpublishstreameventhandler) | 房间内新增远端摄像头/麦克风采集的媒体流的回调。 |
| [OnUserUnPublishStreamEventHandler](191860#onuserunpublishstreameventhandler) | 房间内远端摄像头/麦克风采集的媒体流移除的回调。 |
| [OnStreamSubscribedEventHandler](191860#onstreamsubscribedeventhandler) | 关于订阅媒体流状态改变的回调 |
| [OnAudioFrameSendStateChangedEventHandler](191860#onaudioframesendstatechangedeventhandler) | 本地音频首帧发送状态发生改变时，收到此回调。 |
| [OnVideoFrameSendStateChangedEventHandler](191860#onvideoframesendstatechangedeventhandler) | 本地视频首帧发送状态发生改变时，收到此回调。 |
| [OnAudioFramePlayStateChangedEventHandler](191860#onaudioframeplaystatechangedeventhandler) | 音频首帧播放状态发生改变时，收到此回调 |
| [OnVideoFramePlayStateChangedEventHandler](191860#onvideoframeplaystatechangedeventhandler) | 视频首帧播放状态发生改变时，收到此回调。 |
| [OnLocalStreamStatsEventHandler](191860#onlocalstreamstatseventhandler) | 本地流数据统计以及网络质量回调。<br/>本地用户发布流成功后，SDK 会周期性（2s）的通过此回调事件通知用户发布的流在此次统计周期内的质量统计信息。<br/>统计信息通过 [LocalStreamStats](191862#localstreamstats) 类型的回调参数传递给用户，其中包括发送音视频比特率、发送帧率、编码帧率，网络质量等。 |
| [OnRemoteStreamStatsEventHandler](191860#onremotestreamstatseventhandler) | 本地订阅的远端音/视频流数据统计以及网络质量回调。<br/>本地用户订阅流成功后，SDK 会周期性（2s）的通过此回调事件通知用户订阅的流在此次统计周期内的质量统计信息，包括：发送音视频比特率、发送帧率、编码帧率，网络质量等。 |
| [OnNetworkQualityEventHandler](191860#onnetworkqualityeventhandler) | 加入房间后， 以 2 秒 1 次的频率，报告用户的网络质量信息 |
| [OnForwardStreamStateChangedEventHandler](191860#onforwardstreamstatechangedeventhandler) | 跨房间媒体流转发状态和错误回调 |
| [OnForwardStreamEventEventHandler](191860#onforwardstreameventeventhandler) | 跨房间媒体流转发事件回调 |
| [OnFirstLocalAudioFrameEventHandler](191860#onfirstlocalaudioframeeventhandler) | 本地采集到第一帧音频帧时，收到该回调。 |
| [OnFirstRemoteAudioFrameEventHandler](191860#onfirstremoteaudioframeeventhandler) | 接收到来自远端某音频流的第一帧时，收到该回调。 |
| [OnFirstLocalVideoFrameCapturedEventHandler](191860#onfirstlocalvideoframecapturedeventhandler) | RTC SDK 在本地完成第一帧视频帧或屏幕视频帧采集时，收到此回调。 |
| [OnLocalVideoSizeChangedEventHandler](191860#onlocalvideosizechangedeventhandler) | 本地视频大小或旋转信息发生改变时，收到此回调。 |
| [OnLocalVideoStateChangedEventHandler](191860#onlocalvideostatechangedeventhandler) | 本地视频流的状态发生改变时，收到该事件。 |
| [OnRemoteVideoSizeChangedEventHandler](191860#onremotevideosizechangedeventhandler) | 远端视频大小或旋转信息发生改变时，房间内订阅此视频流的用户会收到此回调。 |
| [OnRemoteVideoStateChangedEventHandler](191860#onremotevideostatechangedeventhandler) | 远端视频流的状态发生改变时，房间内订阅此流的用户会收到该事件。 |
| [OnRemoteAudioStateChangedEventHandler](191860#onremoteaudiostatechangedeventhandler) | 用户订阅来自远端的音频流状态发生改变时，会收到此回调，了解当前的远端音频流状态。 |
| [OnFirstRemoteVideoFrameRenderedEventHandler](191860#onfirstremotevideoframerenderedeventhandler) | SDK 内部渲染成功远端视频流首帧后，收到此回调。 |
| [OnVideoStreamBannedEventHandler](191860#onvideostreambannedeventhandler) | 通过调用服务端 MuteUser/UnmuteUser 方法禁用/解禁指定房间内指定用户视频流的发送时，触发此回调。 |
| [OnFirstRemoteVideoFrameDecodedEventHandler](191860#onfirstremotevideoframedecodedeventhandler) | SDK 接收并解码远端视频流首帧后，收到此回调。 |
| [OnAVSyncStateChangeCallback](191860#onavsyncstatechangecallback) | 发布端调用 [SetMultiDeviceAVSync](191859#IRTCVideoRoom-setmultideviceavsync) 后音视频同步状态发生改变时，会收到此回调。 |
## 视频处理
| 回调 | 描述 |
| --- | --- |
| [OnFaceDetectResultEventHandler](191860#onfacedetectresulteventhandler) | 特效 SDK 进行人脸检测结果的回调。<br/>调用 [VideoSDKEnableFaceDetection](191859#IRTCVideo-videosdkenablefacedetection) 开启本回调，并使用 RTC SDK 中包含的特效 SDK 进行视频特效处理时，你会收到此回调。 |
## 自定义流处理
| 回调 | 描述 |
| --- | --- |
| [OnProcessEarMonitorAudioFrameEventHandler](191860#onprocessearmonitoraudioframeeventhandler) | 回调耳返数据的音频帧地址，供自定义音频处理。 |
| [OnProcessPlaybackAudioFrameEventHandler](191860#onprocessplaybackaudioframeeventhandler) | 回调远端音频混音的音频帧地址，供自定义音频处理。 |
| [OnProcessRecordAudioFrameEventHandler](191860#onprocessrecordaudioframeeventhandler) | 回调本地采集的音频帧地址，供自定义音频处理。 |
| [OnProcessRemoteUserAudioFrameEventHandler](191860#onprocessremoteuseraudioframeeventhandler) | 回调单个远端用户的音频帧地址，供自定义音频处理。 |
| [OnProcessScreenAudioFrameEventHandler](191860#onprocessscreenaudioframeeventhandler) | 屏幕共享的音频帧地址回调。你可根据此回调自定义处理音频。 |
| [OnRecordAudioFrameEventHandler](191860#onrecordaudioframeeventhandler) | 返回麦克风录制的音频数据 |
| [OnPlaybackAudioFrameEventHandler](191860#onplaybackaudioframeeventhandler) | 返回订阅的所有远端用户混音后的音频数据。 |
| [OnRemoteUserAudioFrameEventHandler](191860#onremoteuseraudioframeeventhandler) | 返回远端单个用户的音频数据 |
| [OnMixedAudioFrameEventHandler](191860#onmixedaudioframeeventhandler) | 返回本地麦克风录制和订阅的所有远端用户混音后的音频数据 |
| [OnRecordScreenAudioFrameEventHandler](191860#onrecordscreenaudioframeeventhandler) | 返回本地屏幕录制的音频数据 |
| [OnLocalVideoSinkOnFrameEventHandler](191860#onlocalvideosinkonframeeventhandler) | 自定义渲染器本地视频帧回调。 |
| [OnLocalVideoSinkGetRenderElapseEventHandler](191860#onlocalvideosinkgetrenderelapseeventhandler) | 自定义渲染本地视频帧耗时。 |
| [OnLocalVideoSinkReleaseEventHandler](191860#onlocalvideosinkreleaseeventhandler) | 释放本地自定义渲染器。 |
| [OnRemoteVideoSinkOnFrameEventHandler](191860#onremotevideosinkonframeeventhandler) | 自定义渲染器远端视频帧回调。 |
| [OnRemoteVideoSinkGetRenderElapseEventHandler](191860#onremotevideosinkgetrenderelapseeventhandler) | 自定义渲染远端视频帧耗时。 |
| [OnRemoteVideoSinkReleaseEventHandler](191860#onremotevideosinkreleaseeventhandler) | 释放远端自定义渲染器。 |
## 网络管理
| 回调 | 描述 |
| --- | --- |
| [OnConnectionStateChangedEventHandler](191860#onconnectionstatechangedeventhandler) | 回调 SDK 与信令服务器连接状态相关事件。当 SDK 与信令服务器的网络连接状态改变时回调该事件。 |
| [OnNetworkTypeChangedEventHandler](191860#onnetworktypechangedeventhandler) | SDK 当前网络连接类型改变回调。当 SDK 的当前网络连接类型发生改变时回调该事件。 |
| [OnSEIMessageReceivedEventHandler](191860#onseimessagereceivedeventhandler) | 收到通过调用 [SendSEIMessage](191859#IRTCVideo-sendseimessage) 发送带有 SEI 消息的视频帧时，收到此回调。 |
| [OnSEIMessageUpdateEventHandler](191860#onseimessageupdateeventhandler) | 黑帧视频流发布状态回调。<br/>在语音通话场景下，本地用户调用 [SendSEIMessage](191859#IRTCVideo-sendseimessage) 通过黑帧视频流发送 SEI 数据时，流的发送状态会通过该回调通知远端用户。<br/>你可以通过此回调判断携带 SEI 数据的视频帧为黑帧，从而不对该视频帧进行渲染。 |
## 消息
| 回调 | 描述 |
| --- | --- |
| [OnRoomMessageReceivedEventHandler](191860#onroommessagereceivedeventhandler) | 接收到房间内广播消息的回调。<br/>房间内其他用户调用 [SendRoomMessage](191859#IRTCVideoRoom-sendroommessage) 发送广播消息时，收到此回调。 |
| [OnUserMessageReceivedEventHandler](191860#onusermessagereceivedeventhandler) | 收到来自房间中其他用户通过 [SendUserMessage](191859#IRTCVideoRoom-sendusermessage) 发来的点对点文本消息时，会收到此回调。 |
| [OnUserMessageSendResultEventHandler](191860#onusermessagesendresulteventhandler) | 向房间内单个用户发送点对点文本或点对点二进制消息后，消息发送方会收到该消息发送结果回调。 |
| [OnRoomMessageSendResultEventHandler](191860#onroommessagesendresulteventhandler) | 调用 [SendRoomMessage](191859#IRTCVideoRoom-sendroommessage) 向房间内群发文本或二进制消息后，消息发送方会收到该消息发送结果回调。 |
## 屏幕分享
| 回调 | 描述 |
| --- | --- |
| [OnUserPublishScreenEventHandler](191860#onuserpublishscreeneventhandler) | 房间内新增远端屏幕共享音视频流的回调。 |
| [OnUserUnPublishScreenEventHandler](191860#onuserunpublishscreeneventhandler) | 房间内远端屏幕共享音视频流移除的回调。 |
| [OnScreenVideoFrameSendStateChangedEventHandler](191860#onscreenvideoframesendstatechangedeventhandler) | 屏幕共享流的视频首帧发送状态发生改变时，收到此回调。 |
## 高级功能
| 回调 | 描述 |
| --- | --- |
| [OnAudioRecordingStateUpdateEventHandler](191860#onaudiorecordingstateupdateeventhandler) | 调用 [StartAudioRecording](191859#IRTCVideo-startaudiorecording) 或 [StopAudioRecording](191859#IRTCVideo-stopaudiorecording) 改变音频文件录制状态时，收到此回调。 |
