---
is_dir: False    # True for dir; False for doc
status: 4    # 0 for offline; 1 for online; 2 for whitelist; 4 for online but hidden in TOC
keywords:     # use ',' as separator
---

在实时音视频场景中，若你希望启动智能体提供语音聊天服务，可以通过调用此接口实现。

你可以根据需要设定应用标识、房间 ID、订阅用户 ID 以及 ASR、TTS 和 LLM 相关高级配置，个性化定制智能体的行为和交互方式。
## 注意事项
请求频率：QPS 不得超过 60。

### 前提条件
前提条件参看[开通服务](1315561)。
## 请求说明
- 请求方式：**POST**
- 请求地址：**https://rtc.volcengineapi.com?Action=StartVoiceChat&Version=2024-06-01**
## 请求参数
下表仅列出该接口特有的请求参数和部分公共参数。更多信息请见[公共参数](1178321)。
### Query
```mixin-react
const columns = [
  {
    "title": "参数",
    "dataIndex": "name",
    "width": "15%"
  },
  {
    "title": "类型",
    "dataIndex": "type",
    "width": "15%"
  },
  {
    "title": "是否必选",
    "dataIndex": "required",
    "width": "10%"
  },
  {
    "title": "示例值",
    "dataIndex": "example",
    "width": "20%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  },
  {
    "title": "描述",
    "dataIndex": "description",
    "width": "40%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  }
];
    
const data = [
  {
    "name": "Action",
    "type": "String",
    "required": "是",
    "example": "<code>StartVoiceChat</code>",
    "description": "接口名称。当前 API 的名称为 <code>StartVoiceChat</code>。",
    "key": "Action"
  },
  {
    "name": "Version",
    "type": "String",
    "required": "是",
    "example": "<code>2024-06-01</code>",
    "description": "接口版本。当前 API 的版本为 <code>2024-06-01</code>。",
    "key": "Version"
  }
];

return (<Table
  defaultExpandAllRows={true}
  columns={columns}
  data={data}
  border={{ cell: true, wrapper: true }}
  pagination={false}
/>);
```
### Body
```mixin-react
const columns = [
  {
    "title": "参数",
    "dataIndex": "name",
    "width": "20%"
  },
  {
    "title": "类型",
    "dataIndex": "type",
    "width": "10%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  },
  {
    "title": "是否必选",
    "dataIndex": "required",
    "width": "10%"
  },
  {
    "title": "示例值",
    "dataIndex": "example",
    "width": "15%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  },
  {
    "title": "描述",
    "dataIndex": "title",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  }
];
    
const data = [
  {
    "name": "AppId",
    "key": "0-0",
    "title": "你的音视频应用的唯一标志，参看<a href=\"https://www.volcengine.com/docs/6348/69865#%E6%AD%A5%E9%AA%A44%EF%BC%9A%E5%88%9B%E5%BB%BA-rtc-%E5%BA%94%E7%94%A8%EF%BC%8C%E8%8E%B7%E5%8F%96-appid\" target=\"_blank\" class=\"external\">获取 AppId</a>",
    "example": "<code>661e****543cf</code>",
    "required": "是",
    "type": "String"
  },
  {
    "name": "BusinessId",
    "key": "0-1",
    "title": "业务标识。<br>\n你可以使用此参数进一步划分业务场景（角色/策略等）。<br>\n添加 <code>BusinessId</code> 后，你可以在控制台上查看根据 <code>BusinessId</code> 划分的质量和用量数据。",
    "example": "<code>B****23</code>",
    "required": "否",
    "type": "String"
  },
  {
    "name": "RoomId",
    "key": "0-2",
    "title": "房间的 ID，是房间的唯一标志",
    "example": "<code>Room1</code>",
    "required": "是",
    "type": "String"
  },
  {
    "name": "TaskId",
    "key": "0-3",
    "title": "订阅用户的 UserId",
    "example": "<code>User1</code>",
    "required": "是",
    "type": "String"
  },
  {
    "name": "Config",
    "key": "0-4",
    "title": "ASR、TTS 和 LLM 相关高级配置",
    "example": "<code>-</code>",
    "required": "是",
    "type": "Object",
    "children": [
      {
        "name": "BotName",
        "key": "0-4-0",
        "title": "智能体名称。默认值为<code>audiobot_$(TaskId)_$(unixtimestamp_now)</code>",
        "example": "<code>audiobot_user1_1611736812853</code>",
        "required": "否",
        "type": "String"
      },
      {
        "name": "ASRConfig",
        "key": "0-4-1",
        "title": "流式语音识别相关配置",
        "example": "<code>-</code>",
        "required": "否",
        "type": "Object",
        "children": [
          {
            "name": "AppId",
            "key": "0-4-1-0",
            "title": "开通流式语音服务的 AppId",
            "example": "<code>93****21</code>",
            "required": "是",
            "type": "String"
          },
          {
            "name": "Cluster",
            "key": "0-4-1-1",
            "title": "流式语音识别 Cluster ID，默认为<code>办公-中文</code>的 Cluster ID： <code>volcengine_streaming_common</code>。",
            "example": "<code>volcengine_streaming_common</code>",
            "required": "否",
            "type": "String"
          }
        ]
      },
      {
        "name": "TTSConfig",
        "key": "0-4-2",
        "title": "语音合成相关配置",
        "example": "<code>-</code>",
        "required": "否",
        "type": "Object",
        "children": [
          {
            "name": "AppId",
            "key": "0-4-2-0",
            "title": "开通语音合成服务的 AppId",
            "example": "<code>94****11</code>",
            "required": "是",
            "type": "String"
          },
          {
            "name": "Cluster",
            "key": "0-4-2-1",
            "title": "<p>具体语音合成服务 Cluster ID</p>\n<ul>\n<li>语音合成服务：<code>volcano_tts</code></li>\n<li>大模型声音复刻服务：<code>volcano_mega</code></li>\n</ul>\n默认值为 <code>volcano_tts</code>。",
            "example": "<code>volcano_tts</code>",
            "required": "否",
            "type": "String"
          },
          {
            "name": "VoiceType",
            "key": "0-4-2-2",
            "title": "<p>音色种类。</p>\n<ul>\n<li>语音合成服务：所选音色的 Voice_type</li>\n<li>大模型声音复刻服务：所选音色的声音 ID</li>\n</ul>\n默认值为语音合通用女声 <code>BV002_streaming</code>。",
            "example": "<code>BV002_streaming</code>",
            "required": "否",
            "type": "String"
          }
        ]
      },
      {
        "name": "LLMConfig",
        "key": "0-4-3",
        "title": "火山大模型相关配置",
        "example": "<code>-</code>",
        "required": "否",
        "type": "Object",
        "children": [
          {
            "name": "ModelName",
            "key": "0-4-3-1",
            "title": "<p>大模型名称。当前可取值为：</p>\n<ul>\n<li><code>skylark-lite-public</code></li>\n<li><code>Skylark2-lite-8k</code></li>\n<li><code>Skylark2-pro-4k</code></li>\n<li><code>Skylark2-pro-32k</code></li>\n<li><code>Moonshot-v1-8k</code></li>\n<li><code>Moonshot-v1-32k</code></li>\n<li><code>Moonshot-v1-128k</code></li>\n</ul>",
            "example": "<code>skylark-lite-public</code>",
            "required": "否",
            "type": "String"
          },
          {
            "name": "ModelVersion",
            "key": "0-4-3-2",
            "title": "大模型版本。当前取值为 <code>1.0</code>。",
            "example": "<code>1.0</code>",
            "required": "否",
            "type": "String"
          },
          {
            "name": "Host",
            "key": "0-4-3-4",
            "title": "大模型 Host。当前取值为 <code>maas-api.ml-platform-cn-beijing.volces.com</code>。",
            "example": "<code>maas-api.ml-platform-cn-beijing.volces.com</code>",
            "required": "否",
            "type": "String"
          },
          {
            "name": "Region",
            "key": "0-4-3-5",
            "title": "大模型 Region。当前取值为 <code>cn-beijing</code>。",
            "example": "<code>cn-beijing</code>",
            "required": "否",
            "type": "String"
          },
          {
            "name": "MaxTokens",
            "key": "0-4-3-6",
            "title": "输出文本的最大 token 限制。默认值为 <code>1024</code>。",
            "example": "<code>1024</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "MinTokens",
            "key": "0-4-3-7",
            "title": "输出文本的最小 token 限制。默认值为 <code>1</code>。",
            "example": "<code>1</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "Temperature",
            "key": "0-4-3-8",
            "title": "采样温度，用于控制生成文本的随机性和创造性，值越大随机性越高。取值范围为<code>（0,1]</code>，默认值为 <code>0.1</code>。",
            "example": "<code>0.1</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "TopP",
            "key": "0-4-3-9",
            "title": "采样的选择范围，控制输出 token 的多样性。模型将从概率分布中累计概率超过该取值的标记中进行采样，以确保采样的选择范围不会过宽，值越大输出的 token 类型越丰富。<br>\n取值范围为<code>[0,1]</code>，默认值为 <code>0.3</code>。",
            "example": "<code>0.3</code>",
            "required": "否",
            "type": "Float"
          },
          {
            "name": "TopK",
            "key": "0-4-3-10",
            "title": "采样的选择范围。模型将只从概率分布的前 <code>TopK</code> 个最高概率的标记中进行采样，取值范围为<code>[0,100]</code>，<code>0</code>表示不生效。",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Float"
          },
          {
            "name": "MaxPromptTokens",
            "key": "0-4-3-11",
            "title": "最大输入 token 数，默认值为 <code>8192</code>。取值范围各模型不同，具体请参看<a href=\"https://www.volcengine.com/docs/82379/1263594\" target=\"_blank\" class=\"external\">调用指南</a>。",
            "example": "<code>8192</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "SystemMessages",
            "key": "0-4-3-12",
            "title": "大模型 System 角色预设指令，可用于控制模型输出。",
            "example": "<code>[&quot;You are a helpful assistant&quot;]</code>",
            "required": "是",
            "type": "String[]",
            "children": []
          },
          {
            "name": "UserMessages",
            "key": "0-4-3-13",
            "title": "大模型 User 角色预设 Prompt，可用于增强模型的回复质量，模型回复时会优先参考此处内容。",
            "example": "<code>[&quot;Prompt1&quot;]</code>",
            "required": "是",
            "type": "String[]",
            "children": []
          },
          {
            "name": "HistoryLength",
            "key": "0-4-3-14",
            "title": "历史问题长度，不包含预设System角色、User角色内容。取值范围为 <code>[1,20)</code>，默认值为 <code>3</code>。",
            "example": "<code>3</code>",
            "required": "是",
            "type": "Integer"
          },
          {
            "name": "WelcomeSpeech",
            "key": "0-4-3-15",
            "title": "智能体启动后的欢迎词。",
            "example": "<code>Hello</code>",
            "required": "是",
            "type": "String"
          }
        ]
      }
    ]
  }
];

return (<Table
  defaultExpandAllRows={true}
  columns={columns}
  data={data}
  border={{ cell: true, wrapper: true }}
  pagination={false}
/>);
```
## 返回参数
本接口无特有的返回参数。公共返回参数请见[返回结构](1178322)。
其中返回值 `Result` 仅在请求成功时返回 `ok`,失败时为空。
## 请求示例
```json
POST https://rtc.volcengineapi.com?Action=StartVoiceChat&Version=2024-06-01
{
    "AppId": "661e****543cf",
    "RoomId": "Room1",
    "TaskId": "User1",
    "Config": {
        "BotName": "audiobot_user1_1611736812853",
        "ASRConfig": {
            "AppId": "93****21",
            "Cluster": "volcengine_streaming_common"
        },
        "TTSConfig": {
            "AppId": "94****11",
            "Cluster": "volcano_tts",
            "VoiceType": "BV002_streaming"
        },
        "LLMConfig": {
            "ModelName": "skylark-lite-public",
            "ModelVersion": "1.0",
            "Host": "maas-api.ml-platform-cn-beijing.volces.com",
            "Region": "cn-beijing",
            "MaxTokens": 1024,
            "MinTokens": 1,
            "Temperature": 0,
            "TopP": 0.3,
            "TopK": 0,
            "MaxPromptTokens": 8192,
            "SystemMessages": [
                "You are a helpful assistant"
            ],
            "UserMessages": [
                "Prompt1"
            ],
            "HistoryLength": 3,
            "WelcomeSpeech": "Hello"
        }
    }
}
```
## 返回示例
```json
{
    "Result": "ok",
    "ResponseMetadata": {
        "RequestId": "20230****10420",
        "Action": "StartVoiceChat",
        "Version": "2024-06-01",
        "Service": "rtc",
        "Region": "cn-north-1"
        }
}
```

<div data-source="api-doc-hub" style="display: none"></div>
