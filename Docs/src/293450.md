# BIMClient
```java
public class com.bytedance.im.core.api.BIMClient
```

IM SDK 对外接口类，通过此类提供所有 IM SDK 能力接口。


## 静态函数

| 返回 | 名称 |
| --- | --- |
| **static BIMClient** | [getInstance](#BIMClient-getinstance) |


## 成员函数

| 返回 | 名称 |
| --- | --- |
| **boolean** | [initSDK](#BIMClient-initsdk) |
| **void** | [unInitSDK](#BIMClient-uninitsdk) |
| **void** | [login](#BIMClient-login) |
| **void** | [logout](#BIMClient-logout) |
| **void** | [addConnectListener](#BIMClient-addconnectlistener) |
| **void** | [removeConnectListener](#BIMClient-removeconnectlistener) |
| **long** | [getCurrentUserID](#BIMClient-getcurrentuserid) |
| **String** | [getToken](#BIMClient-gettoken) |
| **String** | [getVersion](#BIMClient-getversion) |
| **BIMConnectStatus** | [getConnectStatus](#BIMClient-getconnectstatus) |
| **Long** | [getServerTime](#BIMClient-getservertime) |
| **int** | [getAppID](#BIMClient-getappid) |
| **void** | [getConversationList](#BIMClient-getconversationlist) |
| **void** | [getConversation](#BIMClient-getconversation) |
| **void** | [addConversationListener](#BIMClient-addconversationlistener) |
| **void** | [removeConversationListener](#BIMClient-removeconversationlistener) |
| **void** | [createGroupConversation](#BIMClient-creategroupconversation) |
| **void** | [getConversationMemberList](#BIMClient-getconversationmemberlist) |
| **void** | [addGroupMemberList](#BIMClient-addgroupmemberlist) |
| **void** | [removeGroupMemberList](#BIMClient-removegroupmemberlist) |
| **void** | [setGroupMemberRole](#BIMClient-setgroupmemberrole) |
| **void** | [dissolveGroup](#BIMClient-dissolvegroup) |
| **void** | [leaveGroup](#BIMClient-leavegroup) |
| **void** | [setGroupName](#BIMClient-setgroupname) |
| **void** | [setGroupNotice](#BIMClient-setgroupnotice) |
| **void** | [createSingleConversation](#BIMClient-createsingleconversation) |
| **void** | [deleteConversation](#BIMClient-deleteconversation) |
| **void** | [deleteConversation](#deleteconversation-2) |
| **void** | [markConversationRead](#BIMClient-markconversationread) |
| **void** | [stickTopConversation](#BIMClient-sticktopconversation) |
| **void** | [muteConversation](#BIMClient-muteconversation) |
| **void** | [setConversationDraft](#BIMClient-setconversationdraft) |
| **void** | [getHistoryMessageList](#BIMClient-gethistorymessagelist) |
| **void** | [sendMessage](#BIMClient-sendmessage) |
| **void** | [addLocalMessage](#BIMClient-addlocalmessage) |
| **void** | [addMessageListener](#BIMClient-addmessagelistener) |
| **void** | [removeMessageListener](#BIMClient-removemessagelistener) |
| **void** | [deleteMessage](#BIMClient-deletemessage) |
| **void** | [deleteLocalMessage](#BIMClient-deletelocalmessage) |
| **void** | [recallMessage](#BIMClient-recallmessage) |
| **BIMMessage** | [createTextMessage](#BIMClient-createtextmessage) |
| **BIMMessage** | [createTextMessage](#createtextmessage-2) |
| **BIMMessage** | [createTextMessage](#createtextmessage-3) |
| **BIMMessage** | [createAudioMessage](#BIMClient-createaudiomessage) |
| **BIMMessage** | [createImageMessage](#BIMClient-createimagemessage) |
| **BIMMessage** | [createVideoMessage](#BIMClient-createvideomessage) |
| **BIMMessage** | [createFileMessage](#BIMClient-createfilemessage) |
| **BIMMessage** | [createCustomMessage](#BIMClient-createcustommessage) |
| **void** | [getTotalUnreadMessageCount](#BIMClient-gettotalunreadmessagecount) |
| **void** | [refreshMediaMessage](#BIMClient-refreshmediamessage) |


## 函数说明
<span id="BIMClient-getinstance"></span>
### getInstance
```java
public static BIMClient com.bytedance.im.core.api.BIMClient.getInstance()
```
获取 BIMClient 单例

**返回值**
BIMClient 单例


<span id="BIMClient-initsdk"></span>
### initSDK
```java
public boolean com.bytedance.im.core.api.BIMClient.initSDK(
    Application app,
    int appId,
    BIMSDKConfig config)
```
初始化 SDK。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| app | **Application** | 应用 Application 实例。 |
| appId | **int** | 从[控制台](https://console.volcengine.com/rtc/im/appManage)获取的应用 ID。<br/>不同应用 ID 无法进行互通。 |
| config | **BIMSDKConfig** | 配置信息，参看 [BIMSDKConfig](293453.md#bimsdkconfig)。 |


<span id="BIMClient-uninitsdk"></span>
### unInitSDK
```java
public void com.bytedance.im.core.api.BIMClient.unInitSDK()
```
注销 SDK, 释放内存缓存资源、注销监听等。


<span id="BIMClient-login"></span>
### login
```java
public void com.bytedance.im.core.api.BIMClient.login(
    final long uid,
    final String token,
    final BIMSimpleCallback callback)
```
登录服务器。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| uid | **final long** | 用户 ID。 |
| token | **final String** | 用户 Token。 |
| callback | **final BIMSimpleCallback** | 登录结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMClient-logout"></span>
### logout
```java
public void com.bytedance.im.core.api.BIMClient.logout()
```
登出服务器。


<span id="BIMClient-addconnectlistener"></span>
### addConnectListener
```java
public void com.bytedance.im.core.api.BIMClient.addConnectListener(
    final BIMConnectListener listener)
```
设置长链状态监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **final BIMConnectListener** | 长链状态监听方，参看 [BIMConnectListener](293451.md#bimconnectlistener)。 |


<span id="BIMClient-removeconnectlistener"></span>
### removeConnectListener
```java
public void com.bytedance.im.core.api.BIMClient.removeConnectListener(
    final BIMConnectListener listener)
```
设置长链状态监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **final BIMConnectListener** | 长链状态监听方，参看 [BIMConnectListener](293451.md#bimconnectlistener)。 |


<span id="BIMClient-getcurrentuserid"></span>
### getCurrentUserID
```java
public long com.bytedance.im.core.api.BIMClient.getCurrentUserID()
```
获取当前用户 ID。

**返回值**
用户 ID。


<span id="BIMClient-gettoken"></span>
### getToken
```java
public String com.bytedance.im.core.api.BIMClient.getToken()
```
获取当前用户 Token。

**返回值**
用户 Token。


<span id="BIMClient-getversion"></span>
### getVersion
```java
public String com.bytedance.im.core.api.BIMClient.getVersion()
```
获取 SDK 版本号。

**返回值**
SDK 版本号。


<span id="BIMClient-getconnectstatus"></span>
### getConnectStatus
```java
public BIMConnectStatus com.bytedance.im.core.api.BIMClient.getConnectStatus()
```
获取连接状态。

**返回值**
连接状态。


<span id="BIMClient-getservertime"></span>
### getServerTime
```java
public Long com.bytedance.im.core.api.BIMClient.getServerTime()
```
获取服务端时间。

**返回值**
服务端时间戳，单位为毫秒。


<span id="BIMClient-getappid"></span>
### getAppID
```java
public int com.bytedance.im.core.api.BIMClient.getAppID()
```
获取当前 appID。

**返回值**
当前 appID


<span id="BIMClient-getconversationlist"></span>
### getConversationList
```java
public void com.bytedance.im.core.api.BIMClient.getConversationList(
    long cursor,
    int count,
    BIMResultCallback<BIMConversationListResult> callback)
```
获取会话列表。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| cursor | **long** | 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextCursor。 |
| count | **int** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 100 个会话。 |
| callback | **BIMResultCallback<BIMConversationListResult>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMConversationListResult](293453.md#bimconversationlistresult)。 |


**注意**

+ 历史会话数量可能很多，因此建议采用分页查询的方式进行接口调用。
+ 该接口拉取的是本地缓存的会话。若服务器会话有更新，SDK 内部会自动同步，并通过 [BIMResultCallback](293451.md#bimresultcallback) 回调告知用户。
+ 如果会话全部拉取完毕，结果回调 [BIMResultCallback](293451.md#bimresultcallback) 中的 hasMore 获取字段值为 false。


<span id="BIMClient-getconversation"></span>
### getConversation
```java
public void com.bytedance.im.core.api.BIMClient.getConversation(
    String conversationId,
    BIMResultCallback<BIMConversation> callback)
```
获取指定单个会话。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **String** | 会话 ID。 |
| callback | **BIMResultCallback<BIMConversation>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMConversation](293453.md#bimconversation)。 |


<span id="BIMClient-addconversationlistener"></span>
### addConversationListener
```java
public void com.bytedance.im.core.api.BIMClient.addConversationListener(
    BIMConversationListListener listener)
```
添加会话监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **BIMConversationListListener** | 会话监听方，参看 [BIMConversationListListener](293451.md#bimconversationlistlistener)。 |


<span id="BIMClient-removeconversationlistener"></span>
### removeConversationListener
```java
public void com.bytedance.im.core.api.BIMClient.removeConversationListener(
    BIMConversationListListener listener)
```
移除会话监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **BIMConversationListListener** | 会话监听方，参看 [BIMConversationListListener](293451.md#bimconversationlistlistener)。 |


<span id="BIMClient-creategroupconversation"></span>
### createGroupConversation
```java
public void com.bytedance.im.core.api.BIMClient.createGroupConversation(
    List<Long> uidList,
    BIMResultCallback<BIMConversation> callback)
```
创建群聊。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| uidList | **List<Long>** | 用户 ID 列表。 |
| callback | **BIMResultCallback<BIMConversation>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMConversation](293453.md#bimconversation)。 |


<span id="BIMClient-getconversationmemberlist"></span>
### getConversationMemberList
```java
public void com.bytedance.im.core.api.BIMClient.getConversationMemberList(
    String conversationId,
    BIMResultCallback<List<BIMMember>> callback)
```
获取群成员。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **String** | 会话 ID。 |
| callback | **BIMResultCallback<List<BIMMember>>** | 群成员列表回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMMember](293453.md#bimmember)。 |


<span id="BIMClient-addgroupmemberlist"></span>
### addGroupMemberList
```java
public void com.bytedance.im.core.api.BIMClient.addGroupMemberList(
    String conversationId,
    List<Long> ids,
    BIMSimpleCallback callback)
```
添加群成员。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **String** | 会话 ID。 |
| ids | **List<Long>** | 待添加的群成员 ID 列表。 |
| callback | **BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMClient-removegroupmemberlist"></span>
### removeGroupMemberList
```java
public void com.bytedance.im.core.api.BIMClient.removeGroupMemberList(
    String conversationId,
    List<Long> ids,
    BIMSimpleCallback callback)
```
移除群成员。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **String** | 会话 ID。 |
| ids | **List<Long>** | 待移除的群成员 ID 列表。 |
| callback | **BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMClient-setgroupmemberrole"></span>
### setGroupMemberRole
```java
public void com.bytedance.im.core.api.BIMClient.setGroupMemberRole(
    String conversationId,
    List<Long> uidList,
    BIMMemberRole role,
    BIMSimpleCallback callback)
```
设置群成员角色。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **String** | 会话 ID。 |
| uidList | **List<Long>** | 群成员 ID 列表。 |
| role | **BIMMemberRole** | 群组角色，参看。 |
| callback | **BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMClient-dissolvegroup"></span>
### dissolveGroup
```java
public void com.bytedance.im.core.api.BIMClient.dissolveGroup(
    String conversationId,
    boolean isDeleteLocal,
    BIMSimpleCallback callback)
```
解散群组。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **String** | 会话 ID。 |
| isDeleteLocal | **boolean** | 是否在本地删除。 |
| callback | **BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMClient-leavegroup"></span>
### leaveGroup
```java
public void com.bytedance.im.core.api.BIMClient.leaveGroup(
    String conversationId,
    boolean isDeleteServer,
    BIMSimpleCallback callback)
```
离开群组。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **String** | 会话 ID。 |
| isDeleteServer | **boolean** | 是否在服务器删除。 |
| callback | **BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMClient-setgroupname"></span>
### setGroupName
```java
public void com.bytedance.im.core.api.BIMClient.setGroupName(
    String conversationId,
    String name,
    BIMSimpleCallback callback)
```
设置群组名称。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **String** | 会话 ID。 |
| name | **String** | 群组名称。 |
| callback | **BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMClient-setgroupnotice"></span>
### setGroupNotice
```java
public void com.bytedance.im.core.api.BIMClient.setGroupNotice(
    String conversationId,
    String notice,
    BIMSimpleCallback callback)
```
设置群公告。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **String** | 会话 ID。 |
| notice | **String** | 群公告内容。 |
| callback | **BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMClient-createsingleconversation"></span>
### createSingleConversation
```java
public void com.bytedance.im.core.api.BIMClient.createSingleConversation(
    long toUid,
    BIMResultCallback<BIMConversation> callback)
```
创建单聊会话。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| toUid | **long** | 对方用户 ID。 |
| callback | **BIMResultCallback<BIMConversation>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMConversation](293453.md#bimconversation)。 |


<span id="BIMClient-deleteconversation"></span>
### deleteConversation
```java
public void com.bytedance.im.core.api.BIMClient.deleteConversation(
    long toUid,
    BIMSimpleCallback callback)
```
通过用户 ID 删除会话。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| toUid | **long** | 对方用户 ID。 |
| callback | **BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


**注意**
调用本接口后，SDK 会从本地和服务端删除该会话及会话中的历史消息，且不可恢复。

<span id="BIMClient-deleteconversation"></span>
### deleteConversation
```java
public void com.bytedance.im.core.api.BIMClient.deleteConversation(
    String conversationId,
    BIMSimpleCallback callback)
```
通过会话 ID 删除会话。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **String** | 会话 ID。 |
| callback | **BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


**注意**
调用本接口后，SDK 会从本地和服务端删除该会话及会话中的历史消息，且不可恢复。

<span id="BIMClient-markconversationread"></span>
### markConversationRead
```java
public void com.bytedance.im.core.api.BIMClient.markConversationRead(
    String conversationId,
    BIMSimpleCallback callback)
```
标记会话已读。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **String** | 会话 ID。 |


<span id="BIMClient-sticktopconversation"></span>
### stickTopConversation
```java
public void com.bytedance.im.core.api.BIMClient.stickTopConversation(
    String conversationId,
    boolean isStickTop,
    BIMSimpleCallback callback)
```
置顶会话。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **String** | 会话 ID。 |
| isStickTop | **boolean** | 是否置顶。 |
| callback | **BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMClient-muteconversation"></span>
### muteConversation
```java
public void com.bytedance.im.core.api.BIMClient.muteConversation(
    String conversationId,
    boolean isMute,
    BIMSimpleCallback callback)
```
设置会话免打扰。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **String** | 会话 ID。 |
| isMute | **boolean** | 是否免打扰。 |
| callback | **BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMClient-setconversationdraft"></span>
### setConversationDraft
```java
public void com.bytedance.im.core.api.BIMClient.setConversationDraft(
    String draft,
    String conversationId)
```
设置会话草稿。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| draft | **String** | 草稿内容。 |
| conversationId | **String** | 会话 ID。 |


<span id="BIMClient-gethistorymessagelist"></span>
### getHistoryMessageList
```java
public void com.bytedance.im.core.api.BIMClient.getHistoryMessageList(
    String conversationId,
    BIMGetMessageOption option,
    BIMResultCallback<BIMMessageListResult> callback)
```
获取历史消息，返回消息顺序从新到旧。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **String** | 会话 ID。 |
| option | **BIMGetMessageOption** | 获取消息选项，参看 [BIMGetMessageOption](293453.md#bimgetmessageoption)。 |
| callback | **BIMResultCallback<BIMMessageListResult>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMMessageListResult](293453.md#bimmessagelistresult)。 |


<span id="BIMClient-sendmessage"></span>
### sendMessage
```java
public void com.bytedance.im.core.api.BIMClient.sendMessage(
    final BIMMessage message,
    String conversationId,
    BIMSendCallback callback)
```
发送消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| message | **final BIMMessage** | 消息体，由 `createXxxMessage` 接口创建，参看 [BIMMessage](293453.md#bimmessage)。 |
| conversationId | **String** | 会话 ID。 |
| callback | **BIMSendCallback** | 发送结果回调，参看 [BIMSendCallback](293451.md#bimsendcallback)。 |


<span id="BIMClient-addlocalmessage"></span>
### addLocalMessage
```java
public void com.bytedance.im.core.api.BIMClient.addLocalMessage(
    final BIMMessage message,
    String conversationId,
    BIMResultCallback<BIMMessage> callback)
```
添加消息到本地。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| message | **final BIMMessage** | 待添加的消息，参看 [BIMMessage](293453.md#bimmessage)。 |
| conversationId | **String** | 会话 ID。 |
| callback | **BIMResultCallback<BIMMessage>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMMessage](293453.md#bimmessage)。 |


<span id="BIMClient-addmessagelistener"></span>
### addMessageListener
```java
public void com.bytedance.im.core.api.BIMClient.addMessageListener(
    BIMMessageListener listener)
```
设置消息监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **BIMMessageListener** | 消息监听方，参看 [BIMMessageListener](293451.md#bimmessagelistener)。 |


<span id="BIMClient-removemessagelistener"></span>
### removeMessageListener
```java
public void com.bytedance.im.core.api.BIMClient.removeMessageListener(
    BIMMessageListener listener)
```
移除消息监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **BIMMessageListener** | 消息监听方，参看 [BIMMessageListener](293451.md#bimmessagelistener)。 |


<span id="BIMClient-deletemessage"></span>
### deleteMessage
```java
public void com.bytedance.im.core.api.BIMClient.deleteMessage(
    BIMMessage bimMessage,
    BIMResultCallback<BIMMessage> callback)
```
删除本地和服务端消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| bimMessage | **BIMMessage** | 待删除的消息，参看 [BIMMessage](293453.md#bimmessage)。 |
| callback | **BIMResultCallback<BIMMessage>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMMessage](293453.md#bimmessage)。 |


<span id="BIMClient-deletelocalmessage"></span>
### deleteLocalMessage
```java
public void com.bytedance.im.core.api.BIMClient.deleteLocalMessage(
    BIMMessage message,
    BIMResultCallback<BIMMessage> callback)
```
删除本地消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| message | **BIMMessage** | 待删除的消息，参看 [BIMMessage](293453.md#bimmessage)。 |
| callback | **BIMResultCallback<BIMMessage>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMMessage](293453.md#bimmessage)。 |


<span id="BIMClient-recallmessage"></span>
### recallMessage
```java
public void com.bytedance.im.core.api.BIMClient.recallMessage(
    BIMMessage message,
    final BIMResultCallback<BIMMessage> callback)
```
撤回消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| message | **BIMMessage** | 待撤回的消息，参看 [BIMMessage](293453.md#bimmessage)。 |
| callback | **final BIMResultCallback<BIMMessage>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMMessage](293453.md#bimmessage)。 |


<span id="BIMClient-createtextmessage"></span>
### createTextMessage
```java
public BIMMessage com.bytedance.im.core.api.BIMClient.createTextMessage(
    String text)
```
创建文本消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| text | **String** | 消息文本。 |

**返回值**
消息体，参看 [BIMMessage](293453.md#bimmessage)。


<span id="BIMClient-createtextmessage"></span>
### createTextMessage
```java
public BIMMessage com.bytedance.im.core.api.BIMClient.createTextMessage(
    String text,
    List<Long> uidList)
```
创建带 @ 标记的消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| text | **String** | 消息文本。 |
| uidList | **List<Long>** | 需要 @ 的用户列表。 |

**返回值**
消息体，参看 [BIMMessage](293453.md#bimmessage)。


**注意**
仅可在群组中发送带 @ 标记的消息。

<span id="BIMClient-createtextmessage"></span>
### createTextMessage
```java
public BIMMessage com.bytedance.im.core.api.BIMClient.createTextMessage(
    String text,
    List<Long> atUidList,
    BIMMessage refMessage,
    String hint)
```
创建带引用消息的文本消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| text | **String** | 消息文本。 |
| atUidList | **List<Long>** | 需要 @ 的用户列表。 |
| refMessage | **BIMMessage** | 引用的消息，参看 [BIMMessage](293453.md#bimmessage)。 |
| hint | **String** | 业务透传引用信息。 |

**返回值**
消息体，参看 [BIMMessage](293453.md#bimmessage)。


<span id="BIMClient-createaudiomessage"></span>
### createAudioMessage
```java
public BIMMessage com.bytedance.im.core.api.BIMClient.createAudioMessage(
    String path)
```
创建语音消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| path | **String** | 音频路径。 |

**返回值**
消息体，参看 [BIMMessage](293453.md#bimmessage)。


<span id="BIMClient-createimagemessage"></span>
### createImageMessage
```java
public BIMMessage com.bytedance.im.core.api.BIMClient.createImageMessage(
    String path)
```
创建图片消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| path | **String** | 图片路径。 |

**返回值**
消息体，参看 [BIMMessage](293453.md#bimmessage)。


**注意**
若图片来自系统相册，需要先把图片导入 App 目录下。

<span id="BIMClient-createvideomessage"></span>
### createVideoMessage
```java
public BIMMessage com.bytedance.im.core.api.BIMClient.createVideoMessage(
    String path)
```
创建视频消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| path | **String** | 视频路径。 |

**返回值**
消息体，参看 [BIMMessage](293453.md#bimmessage)。


**注意**
若视频来自系统相册，需要先把视频导入 App 目录下。

<span id="BIMClient-createfilemessage"></span>
### createFileMessage
```java
public BIMMessage com.bytedance.im.core.api.BIMClient.createFileMessage(
    Uri uri,
    String path,
    String fileName,
    long length)
```
创建文件消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| uri | **Uri** | 文件 URI。 |
| path | **String** | 文件路径。 |
| fileName | **String** | 文件名称。 |
| length | **long** | 文件大小。 |

**返回值**
消息体，参看 [BIMMessage](293453.md#bimmessage)。


<span id="BIMClient-createcustommessage"></span>
### createCustomMessage
```java
public BIMMessage com.bytedance.im.core.api.BIMClient.createCustomMessage(
    String data)
```
创建自定义消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| data | **String** | 自定义参数。 |

**返回值**
消息体，参看 [BIMMessage](293453.md#bimmessage)。


<span id="BIMClient-gettotalunreadmessagecount"></span>
### getTotalUnreadMessageCount
```java
public void com.bytedance.im.core.api.BIMClient.getTotalUnreadMessageCount(
    BIMResultCallback<BIMUnReadInfo> callback)
```
获取所有会话的未读消息总数。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| callback | **BIMResultCallback<BIMUnReadInfo>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMUnReadInfo](293453.md#bimunreadinfo)。 |


**注意**
会话未读消息不包括设置为免打扰会话中的未读消息。

<span id="BIMClient-refreshmediamessage"></span>
### refreshMediaMessage
```java
public void com.bytedance.im.core.api.BIMClient.refreshMediaMessage(
    BIMMessage bimMessage,
    BIMResultCallback<BIMMessage> callback)
```
刷新媒体信息，媒体 URL 过期时调用该方法。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| bimMessage | **BIMMessage** | 消息体，参看 [BIMMessage](293453.md#bimmessage)。 |
| callback | **BIMResultCallback<BIMMessage>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMMessage](293453.md#bimmessage)。 |


# BIMLiveExpandService
```java
public class com.bytedance.im.live.BIMLiveExpandService
```

IM SDK 直播群对外接口类，通过此类提供所有直播群能力接口。
获取实例方式 BIMClient.getInstance().getService(BIMLiveExpandService.class)，参看 [BIMClient](#bimclient)，直播群不提供本地数据存储。


## 成员函数

| 返回 | 名称 |
| --- | --- |
| **void** | [getOwnerLiveGroupList](#BIMLiveExpandService-getownerlivegrouplist) |
| **void** | [getAllLiveGroupList](#BIMLiveExpandService-getalllivegrouplist) |
| **void** | [getLiveGroup](#BIMLiveExpandService-getlivegroup) |
| **void** | [getLiveGroupHistoryMessageList](#BIMLiveExpandService-getlivegrouphistorymessagelist) |
| **void** | [getLiveGroupOnLineCount](#BIMLiveExpandService-getlivegrouponlinecount) |
| **void** | [createLiveGroup](#BIMLiveExpandService-createlivegroup) |
| **void** | [joinLiveGroup](#BIMLiveExpandService-joinlivegroup) |
| **void** | [addLiveGroupMessageListener](#BIMLiveExpandService-addlivegroupmessagelistener) |
| **void** | [removeLiveGroupMessageListener](#BIMLiveExpandService-removelivegroupmessagelistener) |
| **void** | [addLiveConversationListener](#BIMLiveExpandService-addliveconversationlistener) |
| **void** | [removeLiveConversationListener](#BIMLiveExpandService-removeliveconversationlistener) |
| **void** | [addLiveGroupMemberListener](#BIMLiveExpandService-addlivegroupmemberlistener) |
| **void** | [removeLiveGroupMemberListener](#BIMLiveExpandService-removelivegroupmemberlistener) |
| **void** | [leaveLiveGroup](#BIMLiveExpandService-leavelivegroup) |
| **void** | [dissolveLiveGroup](#BIMLiveExpandService-dissolvelivegroup) |
| **void** | [getLiveGroupMemberOnlineList](#BIMLiveExpandService-getlivegroupmemberonlinelist) |
| **void** | [getLiveGroupMemberList](#BIMLiveExpandService-getlivegroupmemberlist) |
| **void** | [getLiveGroupMemberSilentWhiteList](#BIMLiveExpandService-getlivegroupmembersilentwhitelist) |
| **void** | [addLiveGroupMemberSilentWhiteList](#BIMLiveExpandService-addlivegroupmembersilentwhitelist) |
| **void** | [removeLiveGroupMemberSilentWhiteList](#BIMLiveExpandService-removelivegroupmembersilentwhitelist) |
| **void** | [getLiveGroupMemberBlockList](#BIMLiveExpandService-getlivegroupmemberblocklist) |
| **void** | [addLiveGroupMemberBlockList](#BIMLiveExpandService-addlivegroupmemberblocklist) |
| **void** | [removeLiveGroupMemberBlockList](#BIMLiveExpandService-removelivegroupmemberblocklist) |
| **void** | [getLiveGroupMemberSilentList](#BIMLiveExpandService-getlivegroupmembersilentlist) |
| **void** | [setLiveGroupSilent](#BIMLiveExpandService-setlivegroupsilent) |
| **void** | [addLiveGroupMemberSilentList](#BIMLiveExpandService-addlivegroupmembersilentlist) |
| **void** | [removeLiveGroupMemberSilentList](#BIMLiveExpandService-removelivegroupmembersilentlist) |
| **void** | [kickLiveGroupMemberList](#BIMLiveExpandService-kicklivegroupmemberlist) |
| **void** | [transLiveGroupOwner](#BIMLiveExpandService-translivegroupowner) |
| **void** | [addLiveGroupAdmin](#BIMLiveExpandService-addlivegroupadmin) |
| **void** | [removeLiveGroupAdmin](#BIMLiveExpandService-removelivegroupadmin) |
| **void** | [setLiveGroupMemberRole](#BIMLiveExpandService-setlivegroupmemberrole) |
| **void** | [setLiveGroupNotice](#BIMLiveExpandService-setlivegroupnotice) |
| **void** | [setLiveGroupDescription](#BIMLiveExpandService-setlivegroupdescription) |
| **void** | [setLiveGroupName](#BIMLiveExpandService-setlivegroupname) |
| **void** | [setLiveGroupIcon](#BIMLiveExpandService-setlivegroupicon) |
| **void** | [sendLiveGroupMessage](#BIMLiveExpandService-sendlivegroupmessage) |
| **void** | [sendLiveGroupMessage](#BIMLiveExpandService-sendlivegroupmessage-2) |
| **void** | [getLiveGroupMemberOnlineInfo](#BIMLiveExpandService-getlivegroupmemberonlineinfo) |


## 函数说明
<span id="BIMLiveExpandService-getownerlivegrouplist"></span>
### getOwnerLiveGroupList
```java
public void com.bytedance.im.live.BIMLiveExpandService.getOwnerLiveGroupList(
    long cursor,
    int count,
    final BIMResultCallback<BIMLiveGroupListResult> callback)
```
获取我是群主的直播群列表。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| cursor | **long** | 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextCursor。 |
| count | **int** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 20 个会话。 |
| callback | **final BIMResultCallback<BIMLiveGroupListResult>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMLiveGroupListResult](293453.md#bimlivegrouplistresult)。 |


<span id="BIMLiveExpandService-getalllivegrouplist"></span>
### getAllLiveGroupList
```java
public void com.bytedance.im.live.BIMLiveExpandService.getAllLiveGroupList(
    long cursor,
    int count,
    final BIMResultCallback<BIMLiveGroupListResult> callback)
```
获取当前应用下的所有直播群列表。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| cursor | **long** | 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextCursor。 |
| count | **int** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 20 个会话。 |
| callback | **final BIMResultCallback<BIMLiveGroupListResult>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMLiveGroupListResult](293453.md#bimlivegrouplistresult)。 |


<span id="BIMLiveExpandService-getlivegroup"></span>
### getLiveGroup
```java
public void com.bytedance.im.live.BIMLiveExpandService.getLiveGroup(
    long conversationShortId,
    final BIMResultCallback<BIMConversation> callback)
```
获取直播群信息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群会话 shortId。 |
| callback | **final BIMResultCallback<BIMConversation>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMConversation](293453.md#bimconversation)。 |


<span id="BIMLiveExpandService-getlivegrouphistorymessagelist"></span>
### getLiveGroupHistoryMessageList
```java
public void com.bytedance.im.live.BIMLiveExpandService.getLiveGroupHistoryMessageList(
    long conversationShortId,
    long cursor,
    long limit,
    final BIMResultCallback<BIMLiveMessageListResult> callback)
```
获取直播群历史消息(从新到旧)。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群会话 shortId。 |
| cursor | **long** | 直播群历史消息拉取起点 |
| callback | **final BIMResultCallback<BIMLiveMessageListResult>** | 获取直播群历史消息，参看 [BIMResultCallback](293451#bimresultcallback),[BIMLiveMessageListResult](293453.md#bimlivemessagelistresult)。 |


<span id="BIMLiveExpandService-getlivegrouponlinecount"></span>
### getLiveGroupOnLineCount
```java
public void com.bytedance.im.live.BIMLiveExpandService.getLiveGroupOnLineCount(
    long conversationShortId,
    final BIMResultCallback<Long> callback)
```
获取直播群在线人数。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群会话 shortId。 |
| callback | **final BIMResultCallback<Long>** | 在线人数结果回调，参看 [BIMResultCallback](293451.md#bimresultcallback)。 |


<span id="BIMLiveExpandService-createlivegroup"></span>
### createLiveGroup
```java
public void com.bytedance.im.live.BIMLiveExpandService.createLiveGroup(
    BIMGroupInfo groupInfo,
    final BIMResultCallback<BIMConversation> callback)
```
创建直播群。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| groupInfo | **BIMGroupInfo** | 创建直播群参数信息，包括名称，头像等，参看 [BIMGroupInfo](293453.md#bimgroupinfo) |
| callback | **final BIMResultCallback<BIMConversation>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMConversation](293453.md#bimconversation)。 |


<span id="BIMLiveExpandService-joinlivegroup"></span>
### joinLiveGroup
```java
public void com.bytedance.im.live.BIMLiveExpandService.joinLiveGroup(
    final long conversationShortId,
    final BIMResultCallback<BIMLiveJoinGroupResult> callback)
```
加入直播群，加入直播群后可以收发当前群的信息，直播群不提供本地存储。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **final long** | 直播群 ShortId。 |
| callback | **final BIMResultCallback<BIMLiveJoinGroupResult>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMLiveJoinGroupResult](293453.md#bimlivejoingroupresult)。 |


<span id="BIMLiveExpandService-addlivegroupmessagelistener"></span>
### addLiveGroupMessageListener
```java
public void com.bytedance.im.live.BIMLiveExpandService.addLiveGroupMessageListener(
    BIMLiveMessageListener listener)
```
设置直播群消息监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **BIMLiveMessageListener** | 直播群消息事件回调监听方，参看 [BIMLiveMessageListener](293451.md#bimlivemessagelistener)。 |


<span id="BIMLiveExpandService-removelivegroupmessagelistener"></span>
### removeLiveGroupMessageListener
```java
public void com.bytedance.im.live.BIMLiveExpandService.removeLiveGroupMessageListener(
    BIMLiveMessageListener listener)
```
设置直播群消息监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **BIMLiveMessageListener** | 直播群消息事件回调监听方，参看 [BIMLiveMessageListener](293451.md#bimlivemessagelistener)。 |


<span id="BIMLiveExpandService-addliveconversationlistener"></span>
### addLiveConversationListener
```java
public void com.bytedance.im.live.BIMLiveExpandService.addLiveConversationListener(
    BIMLiveConversationListener listener)
```
设置直播群会话监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **BIMLiveConversationListener** | 直播群会话事件回调监听方，参看 [BIMLiveConversationListener](293451.md#bimliveconversationlistener)。 |


<span id="BIMLiveExpandService-removeliveconversationlistener"></span>
### removeLiveConversationListener
```java
public void com.bytedance.im.live.BIMLiveExpandService.removeLiveConversationListener(
    BIMLiveConversationListener listener)
```
移除直播群会话监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **BIMLiveConversationListener** | 直播群会话事件回调监听方，参看 [BIMLiveConversationListener](293451.md#bimliveconversationlistener)。 |


<span id="BIMLiveExpandService-addlivegroupmemberlistener"></span>
### addLiveGroupMemberListener
```java
public void com.bytedance.im.live.BIMLiveExpandService.addLiveGroupMemberListener(
    BIMLiveGroupMemberEventListener listener)
```
设置直播群成员监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **BIMLiveGroupMemberEventListener** | 直播群成员事件回调监听方，参看 [BIMLiveGroupMemberEventListener](293451.md#bimlivegroupmembereventlistener)。 |


<span id="BIMLiveExpandService-removelivegroupmemberlistener"></span>
### removeLiveGroupMemberListener
```java
public void com.bytedance.im.live.BIMLiveExpandService.removeLiveGroupMemberListener(
    BIMLiveGroupMemberEventListener listener)
```
移除直播群成员监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **BIMLiveGroupMemberEventListener** | 直播群成员事件回调监听方，参看 [BIMLiveGroupMemberEventListener](293451.md#bimlivegroupmembereventlistener)。 |


<span id="BIMLiveExpandService-leavelivegroup"></span>
### leaveLiveGroup
```java
public void com.bytedance.im.live.BIMLiveExpandService.leaveLiveGroup(
    long conversationShortId,
    BIMSimpleCallback callback)
```
离开直播群。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| callback | **BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-dissolvelivegroup"></span>
### dissolveLiveGroup
```java
public void com.bytedance.im.live.BIMLiveExpandService.dissolveLiveGroup(
    long conversationShortId,
    final BIMSimpleCallback callback)
```
解散直播群，仅群主可操作。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-getlivegroupmemberonlinelist"></span>
### getLiveGroupMemberOnlineList
```java
public void com.bytedance.im.live.BIMLiveExpandService.getLiveGroupMemberOnlineList(
    long conversationShortId,
    long cursor,
    long count,
    final BIMResultCallback<BIMLiveMemberListResult> callback)
```
获取直播群在线用户列表。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| cursor | **long** | 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextCursor。 |
| count | **long** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 20 成员。 |
| callback | **final BIMResultCallback<BIMLiveMemberListResult>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMLiveMemberListResult](293453.md#bimlivememberlistresult)。 |


<span id="BIMLiveExpandService-getlivegroupmemberlist"></span>
### getLiveGroupMemberList
```java
public void com.bytedance.im.live.BIMLiveExpandService.getLiveGroupMemberList(
    long conversationShortId,
    long cursor,
    long count,
    final BIMResultCallback<BIMLiveMemberListResult> callback)
```
获取直播群群主管理员等常驻成员列表。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| cursor | **long** | 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextCursor。 |
| count | **long** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 20 成员。 |
| callback | **final BIMResultCallback<BIMLiveMemberListResult>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMLiveMemberListResult](293453.md#bimlivememberlistresult)。 |


<span id="BIMLiveExpandService-getlivegroupmembersilentwhitelist"></span>
### getLiveGroupMemberSilentWhiteList
```java
public void com.bytedance.im.live.BIMLiveExpandService.getLiveGroupMemberSilentWhiteList(
    long conversationShortId,
    long cursor,
    long count,
    final BIMResultCallback<BIMLiveMemberListResult> callback)
```
获取会话禁言白名单。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| cursor | **long** | 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextCursor。 |
| count | **long** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 20 成员。 |
| callback | **final BIMResultCallback<BIMLiveMemberListResult>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMLiveMemberListResult](293453.md#bimlivememberlistresult)。 |


<span id="BIMLiveExpandService-addlivegroupmembersilentwhitelist"></span>
### addLiveGroupMemberSilentWhiteList
```java
public void com.bytedance.im.live.BIMLiveExpandService.addLiveGroupMemberSilentWhiteList(
    long conversationShortId,
    List<Long> uidList,
    final BIMSimpleCallback callback)
```
添加禁言会话白名单。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| uidList | **List<Long>** | 成员列表 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-removelivegroupmembersilentwhitelist"></span>
### removeLiveGroupMemberSilentWhiteList
```java
public void com.bytedance.im.live.BIMLiveExpandService.removeLiveGroupMemberSilentWhiteList(
    long conversationShortId,
    List<Long> uidList,
    final BIMSimpleCallback callback)
```
移除禁言会话白名单。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| uidList | **List<Long>** | 成员列表 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-getlivegroupmemberblocklist"></span>
### getLiveGroupMemberBlockList
```java
public void com.bytedance.im.live.BIMLiveExpandService.getLiveGroupMemberBlockList(
    long conversationShortId,
    long cursor,
    long count,
    BIMResultCallback<BIMLiveMemberListResult> callback)
```
获取直播群进群黑名单。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| cursor | **long** | 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextCursor。 |
| count | **long** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 20 成员。 |
| callback | **BIMResultCallback<BIMLiveMemberListResult>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback),[BIMLiveMemberListResult](293453.md#bimlivememberlistresult)。 |


<span id="BIMLiveExpandService-addlivegroupmemberblocklist"></span>
### addLiveGroupMemberBlockList
```java
public void com.bytedance.im.live.BIMLiveExpandService.addLiveGroupMemberBlockList(
    long conversationShortId,
    List<Long> uidList,
    long blockTime,
    final BIMSimpleCallback callback)
```
添加群进群黑名单。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| uidList | **List<Long>** | 待加入禁言成员 UID 列表。 |
| blockTime | **long** | 禁言时间(绝对时间), 单位: 秒(s) |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-removelivegroupmemberblocklist"></span>
### removeLiveGroupMemberBlockList
```java
public void com.bytedance.im.live.BIMLiveExpandService.removeLiveGroupMemberBlockList(
    long conversationShortId,
    List<Long> uidList,
    final BIMSimpleCallback callback)
```
添加群进群黑名单。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| uidList | **List<Long>** | 待移出禁言成员 UID 列表。 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-getlivegroupmembersilentlist"></span>
### getLiveGroupMemberSilentList
```java
public void com.bytedance.im.live.BIMLiveExpandService.getLiveGroupMemberSilentList(
    long conversationShortId,
    long cursor,
    long count,
    BIMResultCallback<BIMLiveMemberListResult> callback)
```
获取直播群禁言用户列表。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| cursor | **long** | 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextCursor。 |
| count | **long** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 20 成员。 |
| callback | **BIMResultCallback<BIMLiveMemberListResult>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback),[BIMLiveMemberListResult](293453.md#bimlivememberlistresult)。 |


<span id="BIMLiveExpandService-setlivegroupsilent"></span>
### setLiveGroupSilent
```java
public void com.bytedance.im.live.BIMLiveExpandService.setLiveGroupSilent(
    long conversationShortId,
    boolean isSilent,
    final BIMSimpleCallback callback)
```
设置会话禁言(所有成员禁言)。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| isSilent | **boolean** | 禁言设置为 true、取消禁言设置为 false。 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMLiveMemberListResult](293453.md#bimlivememberlistresult)。 |


<span id="BIMLiveExpandService-addlivegroupmembersilentlist"></span>
### addLiveGroupMemberSilentList
```java
public void com.bytedance.im.live.BIMLiveExpandService.addLiveGroupMemberSilentList(
    long conversationShortId,
    List<Long> uidList,
    long blockTime,
    final BIMSimpleCallback callback)
```
添加群成员禁言。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| uidList | **List<Long>** | 待添加禁言成员 UID 列表。 |
| blockTime | **long** | 禁言时间(绝对时间), 单位: 秒(s) |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-removelivegroupmembersilentlist"></span>
### removeLiveGroupMemberSilentList
```java
public void com.bytedance.im.live.BIMLiveExpandService.removeLiveGroupMemberSilentList(
    long conversationShortId,
    List<Long> uidList,
    final BIMSimpleCallback callback)
```
移出群成员禁言。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| uidList | **List<Long>** | 待添加禁言成员 UID 列表。 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-kicklivegroupmemberlist"></span>
### kickLiveGroupMemberList
```java
public void com.bytedance.im.live.BIMLiveExpandService.kickLiveGroupMemberList(
    long conversationShortId,
    List<Long> uidList,
    final BIMSimpleCallback callback)
```
踢出在线成员。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| uidList | **List<Long>** | 踢出成员 UID 列表。 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-translivegroupowner"></span>
### transLiveGroupOwner
```java
public void com.bytedance.im.live.BIMLiveExpandService.transLiveGroupOwner(
    long conversationShortId,
    long uid,
    final BIMSimpleCallback callback)
```
转让群主。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| uid | **long** | 转让群主用户 ID。 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-addlivegroupadmin"></span>
### addLiveGroupAdmin
```java
public void com.bytedance.im.live.BIMLiveExpandService.addLiveGroupAdmin(
    long conversationShortId,
    List<Long> uidList,
    final BIMSimpleCallback callback)
```
设置直播群管理员。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| uidList | **List<Long>** | 设置群管理员列表 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-removelivegroupadmin"></span>
### removeLiveGroupAdmin
```java
public void com.bytedance.im.live.BIMLiveExpandService.removeLiveGroupAdmin(
    long conversationShortId,
    List<Long> uidList,
    final BIMSimpleCallback callback)
```
移除直播群管理员。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| uidList | **List<Long>** | 移除群管理员列表 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-setlivegroupmemberrole"></span>
### setLiveGroupMemberRole
```java
public void com.bytedance.im.live.BIMLiveExpandService.setLiveGroupMemberRole(
    long conversationShortId,
    List<Long> uidList,
    BIMMemberRole role,
    final BIMSimpleCallback callback)
```
设置成员角色。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| uidList | **List<Long>** | 设置成员列表 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-setlivegroupnotice"></span>
### setLiveGroupNotice
```java
public void com.bytedance.im.live.BIMLiveExpandService.setLiveGroupNotice(
    long conversationShortId,
    String notice,
    final BIMSimpleCallback callback)
```
设置群公告。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| notice | **String** | 群公告。 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-setlivegroupdescription"></span>
### setLiveGroupDescription
```java
public void com.bytedance.im.live.BIMLiveExpandService.setLiveGroupDescription(
    long conversationShortId,
    String description,
    final BIMSimpleCallback callback)
```
设置群描述。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| description | **String** | 群描述。 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-setlivegroupname"></span>
### setLiveGroupName
```java
public void com.bytedance.im.live.BIMLiveExpandService.setLiveGroupName(
    long conversationShortId,
    String name,
    final BIMSimpleCallback callback)
```
设置群名称。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| name | **String** | 群名称。 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-setlivegroupicon"></span>
### setLiveGroupIcon
```java
public void com.bytedance.im.live.BIMLiveExpandService.setLiveGroupIcon(
    long conversationShortId,
    String url,
    final BIMSimpleCallback callback)
```
设置群头像。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationShortId | **long** | 直播群 ShortId。 |
| url | **String** | 群头像 URL。 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMLiveExpandService-sendlivegroupmessage"></span>
### sendLiveGroupMessage
```java
public void com.bytedance.im.live.BIMLiveExpandService.sendLiveGroupMessage(
    final BIMMessage message,
    BIMConversation conversation,
    final BIMSendCallback callback)
```
发送直播群消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| message | **final BIMMessage** | 发送的消息, 参看 [BIMSimpleCallback](293451.md#bimsimplecallback) 。 |
| conversation | **BIMConversation** | 会话信息, 参看 [BIMConversation](293453.md#bimconversation) |
| callback | **final BIMSendCallback** | 结果回调，参看 [BIMSendCallback](293451.md#bimsendcallback)。 |


**注意**
若需要为消息设置优先级，请调用 [sendLiveGroupMessage](293450.md#BIMLiveExpandService-sendlivegroupmessage-2)。

<span id="BIMLiveExpandService-sendlivegroupmessage"></span>
### sendLiveGroupMessage
```java
public void com.bytedance.im.live.BIMLiveExpandService.sendLiveGroupMessage(
    final BIMMessage message,
    BIMConversation conversation,
    BIMMessagePriority priority,
    final BIMSendCallback callback)
```
<span id="BIMLiveExpandService-sendlivegroupmessage-2"></span>
发送直播群消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| message | **final BIMMessage** | 发送的消息，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |
| conversation | **BIMConversation** | 会话信息，参看 [BIMConversation](293453.md#bimconversation)。 |
| priority | **BIMMessagePriority** | 设置消息优先级，参看 [BIMMessagePriority](293453.md#bimmessagepriority)。 |
| callback | **final BIMSendCallback** | 结果回调，参看 [BIMSendCallback](293451.md#bimsendcallback)。 |


<span id="BIMLiveExpandService-getlivegroupmemberonlineinfo"></span>
### getLiveGroupMemberOnlineInfo
```java
public void com.bytedance.im.live.BIMLiveExpandService.getLiveGroupMemberOnlineInfo(
    long conversationId,
    List<Long> uidList,
    final BIMResultCallback<List<BIMLiveMemberOnlineInfo>> callback)
```
获取直播群成员在线信息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **long** | 会话 ID。 |
| uidList | **List<Long>** | 成员 ID 列表。 |
| callback | **final BIMResultCallback<List<BIMLiveMemberOnlineInfo>>** | 结果回调， 参看 [BIMLiveMemberOnlineInfo](293453.md#bimlivememberonlineinfo) |


# BIMContactExpandService
```java
public class com.bytedance.im.user.BIMContactExpandService
```

IM SDK 联系人对外接口类，通过此类提供所有联系人能力接口。


## 成员函数

| 返回 | 名称 |
| --- | --- |
| **void** | [getFriendApplyList](#BIMContactExpandService-getfriendapplylist) |
| **void** | [getFriendList](#BIMContactExpandService-getfriendlist) |
| **void** | [applyFriend](#BIMContactExpandService-applyfriend) |
| **void** | [deleteFriend](#BIMContactExpandService-deletefriend) |
| **void** | [replyFriendApply](#BIMContactExpandService-replyfriendapply) |
| **void** | [markFriendApplyRead](#BIMContactExpandService-markfriendapplyread) |
| **void** | [addFriendListener](#BIMContactExpandService-addfriendlistener) |
| **void** | [getFriendApplyUnreadCount](#BIMContactExpandService-getfriendapplyunreadcount) |
| **boolean** | [removeFriendListener](#BIMContactExpandService-removefriendlistener) |


## 函数说明
<span id="BIMContactExpandService-getfriendapplylist"></span>
### getFriendApplyList
```java
public void com.bytedance.im.user.BIMContactExpandService.getFriendApplyList(
    long cursor,
    long limit,
    final BIMResultCallback<BIMFriendApplyListResult> callback)
```
获取好友申请列表，按发起申请的时间排序（从新到旧）。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| cursor | **long** | 游标，首页拉取可使用 0。 |
| limit | **long** | 查询条数。 |
| callback | **final BIMResultCallback<BIMFriendApplyListResult>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMFriendApplyListResult](293453.md#bimfriendapplylistresult)。 |


<span id="BIMContactExpandService-getfriendlist"></span>
### getFriendList
```java
public void com.bytedance.im.user.BIMContactExpandService.getFriendList(
    final BIMResultCallback<List<BIMFriendInfo>> callback)
```
获取好友列表（全量）。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| callback | **final BIMResultCallback<List<BIMFriendInfo>>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMFriendInfo](293453.md#bimfriendinfo)。 |


<span id="BIMContactExpandService-applyfriend"></span>
### applyFriend
```java
public void com.bytedance.im.user.BIMContactExpandService.applyFriend(
    BIMApplyInfo applyInfo,
    final BIMResultCallback<BIMFriendApplyInfo> callback)
```
申请添加好友。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| applyInfo | **BIMApplyInfo** | 申请信息，参看 [BIMApplyInfo](293453.md#bimapplyinfo)。 |
| callback | **final BIMResultCallback<BIMFriendApplyInfo>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback), [BIMFriendApplyInfo](293453.md#bimfriendapplyinfo)。 |


<span id="BIMContactExpandService-deletefriend"></span>
### deleteFriend
```java
public void com.bytedance.im.user.BIMContactExpandService.deleteFriend(
    long uid,
    final BIMSimpleCallback callback)
```
删除好友。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| uid | **long** | 联系人用户 ID。 |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback)。 |


<span id="BIMContactExpandService-replyfriendapply"></span>
### replyFriendApply
```java
public void com.bytedance.im.user.BIMContactExpandService.replyFriendApply(
    BIMReplyInfo replyInfo,
    final BIMResultCallback<BIMFriendApplyInfo> callback)
```
回应好友申请。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| replyInfo | **BIMReplyInfo** | 回应信息, 参看 [BIMReplyInfo](293453.md#bimreplyinfo)。 |
| callback | **final BIMResultCallback<BIMFriendApplyInfo>** | 结果回调，参看 [BIMResultCallback](293451#bimresultcallback)，[BIMFriendApplyInfo](293453.md#bimfriendapplyinfo)。 |


<span id="BIMContactExpandService-markfriendapplyread"></span>
### markFriendApplyRead
```java
public void com.bytedance.im.user.BIMContactExpandService.markFriendApplyRead(
    final BIMSimpleCallback callback)
```
标记好友申请已读。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| callback | **final BIMSimpleCallback** | 结果回调，参看 [BIMSimpleCallback](293451.md#bimsimplecallback) 。 |


<span id="BIMContactExpandService-addfriendlistener"></span>
### addFriendListener
```java
public void com.bytedance.im.user.BIMContactExpandService.addFriendListener(
    BIMFriendListener listener)
```
设置联系人监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **BIMFriendListener** | 联系人消息事件回调监听方，参看 [BIMFriendListener](293451.md#bimfriendlistener) 。 |


<span id="BIMContactExpandService-getfriendapplyunreadcount"></span>
### getFriendApplyUnreadCount
```java
public void com.bytedance.im.user.BIMContactExpandService.getFriendApplyUnreadCount(
    BIMResultCallback<Integer> callback)
```
获取好友申请未读数。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| callback | **BIMResultCallback<Integer>** | 结果回调，参看 [BIMResultCallback](293451.md#bimresultcallback) 。 |


<span id="BIMContactExpandService-removefriendlistener"></span>
### removeFriendListener
```java
public boolean com.bytedance.im.user.BIMContactExpandService.removeFriendListener(
    BIMFriendListener listener)
```
移除联系人监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **BIMFriendListener** | 结果回调，参看 [BIMFriendListener](293451.md#bimfriendlistener) 。 |