---
is_dir: False    # True for dir; False for doc
status: 1    # 0 for offline; 1 for online; 2 for whitelist; 4 for online but hidden in TOC
useHub: 1    # 0 by default for using Doc Repo; 1 for using APIHub / SDKHub.
keywords: 实时音视频    # use ',' as separator
---


如果你已使用 `StartPushMixedStreamToCDN` 启动了一个合流转推任务，你可以调用此接口 `UpdatePushMixedStreamToCDN` 来更新任务的部分参数。
## 使用说明
### 接口行为
你可以调用 `UpdatePushMixedStreamToCDN` 接口，覆盖此前在 `StartPushMixedStreamToCDN` 或 `UpdatePushMixedStreamToCDN` 中设定的以下参数：
- `TargetStreams`
- `Layout.CustomLayout.Canvas.Background` 、`Layout.CustomLayout.Canvas.BackgroundImage` 和 `Layout.CustomLayout.Regions`
- `Encode` 中，除 `audioProfile`、`videoCodec` 以外的参数。
- `Control.SpatialConfig`
- `Control.SEIConfig.UserConfigExtraInfo`
	通过此 OpenAPI，你无法更新除上述参数以外的参数。并且，对于上述参数，如果你在调用 OpenAPI 时，没有传入对应的值，那么，合流转推时使用的值将会被更新为默认值。

### 前置条件

在调用`StartPushMixedStreamToCDN`时，`Layout.LayoutMode` 必须为2。即只有自定义布局模式下，才支持调用`UpdatePushMixedStreamToCDN`更新任务的部分参数。


## 注意事项
请求频率：QPS 不得超过 150。
## 请求说明
- 请求方式：**POST**
- 请求地址：**https://rtc.volcengineapi.com?Action=UpdatePushMixedStreamToCDN&Version=2023-06-01**
## 调试

<APILink link="https://api.volcengine.com/api-explorer/debug?action=UpdatePushMixedStreamToCDN&serviceCode=rtc&version=2023-06-01&groupName=转推直播" />

## 请求参数
下表仅列出该接口特有的请求参数和部分公共参数。更多信息请见[公共参数](1178321)。
### Query
```mixin-react
const columns = [
  {
    "title": "参数",
    "dataIndex": "name",
    "width": "15%"
  },
  {
    "title": "类型",
    "dataIndex": "type",
    "width": "15%"
  },
  {
    "title": "是否必选",
    "dataIndex": "required",
    "width": "10%"
  },
  {
    "title": "示例值",
    "dataIndex": "example",
    "width": "20%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  },
  {
    "title": "描述",
    "dataIndex": "description",
    "width": "40%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  }
];
    
const data = [
  {
    "name": "Action",
    "type": "String",
    "required": "是",
    "example": "<code>UpdatePushMixedStreamToCDN</code>",
    "description": "接口名称。当前 API 的名称为 <code>UpdatePushMixedStreamToCDN</code>。",
    "key": "Action"
  },
  {
    "name": "Version",
    "type": "String",
    "required": "是",
    "example": "<code>2023-06-01</code>",
    "description": "接口版本。当前 API 的版本为 <code>2023-06-01</code>。",
    "key": "Version"
  }
];

return (<Table
  defaultExpandAllRows={true}
  columns={columns}
  data={data}
  border={{ cell: true, wrapper: true }}
  pagination={false}
/>);
```
### Body
```mixin-react
const columns = [
  {
    "title": "参数",
    "dataIndex": "name",
    "width": "28%"
  },
  {
    "title": "类型",
    "dataIndex": "type",
    "width": "10%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  },
  {
    "title": "是否必选",
    "dataIndex": "required",
    "width": "10%"
  },
  {
    "title": "示例值",
    "dataIndex": "example",
    "width": "15%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  },
  {
    "title": "描述",
    "dataIndex": "title",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  }
];
    
const data = [
  {
    "name": "AppId",
    "key": "0-0",
    "title": "你的音视频应用的唯一标志",
    "example": "<code>You****pId</code>",
    "required": "是",
    "type": "String"
  },
  {
    "name": "BusinessId",
    "key": "0-1",
    "title": "业务标识",
    "example": "<code>Your_****nessId</code>",
    "required": "否",
    "type": "String"
  },
  {
    "name": "RoomId",
    "key": "0-2",
    "title": "房间的 ID，是房间的唯一标志",
    "example": "<code>Your_RoomId</code>",
    "required": "是",
    "type": "String"
  },
  {
    "name": "TaskId",
    "key": "0-3",
    "title": "<p>合流转推任务 ID。你必须对每个合流转推任务，设定 TaskId，且在进行任务更新时也须使用该 TaskId。</p>\n<p><code>TaskId</code> 是任务的标识，在一个 <code>AppId</code> 的 <code>RoomId</code> 下 <code>taskId</code> 是唯一的，不同 <code>AppId</code> 或者不同 <code>RoomId</code> 下 <code>TaskId</code> 可以重复，因此 <code>AppId</code> + <code>RoomId</code> + <code>TaskId</code> 是任务的唯一标识，可以用来标识指定 <code>AppId</code> 下某个房间内正在运行的任务，从而能在此任务运行中进行更新或者停止此任务。</p>\n关于 TaskId 及以上 Id 字段的命名规则符合正则表达式：<code>[a-zA-Z0-9_@\\-\\.]{1,128}</code>",
    "example": "<code>Your_TaskId</code>",
    "required": "是",
    "type": "String"
  },
  {
    "name": "TargetStreams",
    "key": "0-4",
    "title": "转推包含的房间内的流。",
    "example": "",
    "required": "否",
    "type": "Object",
    "children": [
      {
        "name": "StreamList",
        "key": "0-4-0",
        "title": "由<code>Stream</code>组成的列表，可以为空。为空时，表示订阅房间内所有流。在一个 <code>StreamList</code> 中，<code>Stream.Index</code> 不能重复。",
        "example": "<code>-</code>",
        "required": "否",
        "type": "Object[]",
        "children": [
          {
            "name": "Index",
            "key": "0-4-0-0",
            "title": "在自定义布局中，使用 <code>Index</code> 对流进行标志。后续在 <code>Layout.regions.StreamIndex</code> 中，你需要使用 <code>Index</code> 指定对应流的布局设置。",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "UserId",
            "key": "0-4-0-1",
            "title": "用户Id，表示这个流所属的用户。",
            "example": "<code>Your_UserId</code>",
            "required": "是",
            "type": "String"
          },
          {
            "name": "StreamType",
            "key": "0-4-0-2",
            "title": "流的类型，值可以取<code>0</code>或<code>1</code>，默认值为<code>0</code>。<code>0</code>表示普通音视频流，<code>1</code>表示屏幕流。",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Integer"
          }
        ]
      }
    ]
  },
  {
    "name": "Layout",
    "key": "0-5",
    "title": "房间内多路流合为一路时的布局参数",
    "example": "",
    "required": "否",
    "type": "Object",
    "children": [
      {
        "name": "LayoutMode",
        "key": "0-5-0",
        "title": "<p>布局模式。默认值为 <code>0</code>，值的范围为 <code>{0, 1, 2, 3}</code>。</p>\n<ul>\n<li><code>0</code> 为自适应布局模式。参看<a href=\"1167930#adapt\">自适应布局</a>。</li>\n<li><code>1</code> 为垂直布局模式。参看<a href=\"1167930#vertical\">垂直布局</a>。</li>\n<li><code>2</code> 为自定义布局模式。</li>\n<li><code>3</code> 为并排布局模式。参看<a href=\"1167930#horizontal\">并排布局</a></li>\n</ul>",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "MainVideoStream",
        "key": "0-5-1",
        "title": "在垂直布局模式下生效，指定主画面流的属性。垂直布局时，此参数必填。",
        "example": "<code>-</code>",
        "required": "否",
        "type": "Object",
        "children": [
          {
            "name": "Index",
            "key": "0-5-1-0",
            "title": "在自定义布局中，使用 <code>Index</code> 对流进行标志。后续在 <code>Layout.regions.StreamIndex</code> 中，你需要使用 <code>Index</code> 指定对应流的布局设置。",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "UserId",
            "key": "0-5-1-1",
            "title": "用户Id，表示这个流所属的用户。",
            "example": "<code>Your_UserId</code>",
            "required": "是",
            "type": "String"
          },
          {
            "name": "StreamType",
            "key": "0-5-1-2",
            "title": "流的类型，值可以取<code>0</code>或<code>1</code>，默认值为<code>0</code>。<code>0</code>表示普通音视频流，<code>1</code>表示屏幕流。",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Integer"
          }
        ]
      },
      {
        "name": "CustomLayout",
        "key": "0-5-2",
        "title": "使用自定义布局模式时，使用此参数进行具体设置。",
        "example": "<code>-</code>",
        "required": "否",
        "type": "Object",
        "children": [
          {
            "name": "Canvas",
            "key": "0-5-2-0",
            "title": "整体屏幕（画布）的宽高以及背景色。",
            "example": "",
            "required": "否",
            "type": "Object",
            "children": [
              {
                "name": "Width",
                "key": "0-5-2-0-0",
                "title": "整体屏幕（画布）的宽度，单位为像素，范围为 <code>[2, 1920]</code>，必须是偶数。默认值为 <code>640</code>。值不合法时，自动调整为默认值。",
                "example": "<code>640</code>",
                "required": "否",
                "type": "Integer"
              },
              {
                "name": "Height",
                "key": "0-5-2-0-1",
                "title": "整体屏幕（画布）的高度，单位为像素，范围为 <code>[2, 1920]</code>，必须是偶数。默认值为 <code>480</code>。值不合法时，自动调整为默认值。",
                "example": "<code>480</code>",
                "required": "否",
                "type": "Integer"
              },
              {
                "name": "Background",
                "key": "0-5-2-0-2",
                "title": "整体屏幕（画布）的背景色，格式为 #RGB(16进制)，默认值为 <code>#000000</code>（黑色）, 范围为 <code>#000000 ~ #ffffff</code> (大小写均可)。值不合法时，自动调整为默认值。",
                "example": "<code>#000000</code>",
                "required": "否",
                "type": "String"
              },
              {
                "name": "BackgroundImage",
                "key": "0-5-2-0-3",
                "title": "背景图片的 URL。长度最大为 1024 byte。可以传入的图片的格式包括：JPG, JPEG, PNG。如果背景图片的宽高和整体屏幕的宽高不一致，背景图片会缩放到铺满屏幕。<br>\n如果你设置了背景图片，背景图片会覆盖背景色。",
                "example": "<code>-</code>",
                "required": "否",
                "type": "String"
              }
            ]
          },
          {
            "name": "Regions",
            "key": "0-5-2-1",
            "title": "<p>在自定义布局模式下，你可以使用 <code>Regions</code> 对每一路视频流进行画面布局设置。其中，每个 <code>Region</code> 对一路视频流进行画面布局设置。</p>\n<p>自定义布局模式下，对于 <code>StreamList</code> 中的每个 <code>Stream</code>，<code>Regions</code> 中都需要给出对应的布局信息，否则会返回请求不合法的错误。即 <code>Regions.Region.StreamIndex</code> 要与 <code>TargetStreams.StreamList.Stream.Index</code> 的值一一对应，否则自定义布局设置失败，返回 <code>InvalidParameter</code> 错误码。</p>\n<blockquote>\n<p>当传入的必填参数值不合法时，返回错误码 <code>InvalidParameter</code> 。<br>\n当传入的选填参数值不合法时，自动调整为默认值。</p>\n</blockquote>",
            "example": "",
            "required": "否",
            "type": "Object[]",
            "children": [
              {
                "name": "StreamIndex",
                "key": "0-5-2-1-0",
                "title": "流的标识。这个标志应和 <code>TargetStreams.StreamList.Stream.Index</code> 对应。",
                "example": "<code>0</code>",
                "required": "是",
                "type": "Integer"
              },
              {
                "name": "LocationX",
                "key": "0-5-2-1-1",
                "title": "<p>视频流对应区域左上角的横坐标相对整体画面左上角原点的横向位移，取值的范围为 <code>[0.0, Canvas.Width)</code>。默认值为 <code>0</code>。若传入该参数，服务端会对该参数进行校验，若不合法会返回错误码 <code>InvalidParameter</code>。</p>\n视频流对应区域左上角的实际坐标是通过画面尺寸和相对位置比例相乘，并四舍五入取整得到的。假如，画布尺寸为<code>1920</code>, 视频流对应区域左上角的横坐标相对整体画面的比例为 <code>0.33</code>，那么该画布左上角的横坐标为 <code>634</code>（1920*0.33=633.6，四舍五入取整）。",
                "example": "<code>0</code>",
                "required": "否",
                "type": "Integer"
              },
              {
                "name": "LocationY",
                "key": "0-5-2-1-2",
                "title": "视频流对应区域左上角的横坐标相对整体画面左上角原点的纵向位移，取值的范围为 <code>[0.0, Canvas.Height)</code>。默认值为 <code>0</code>。若传入该参数，服务端会对该参数进行校验，若不合法会返回错误码 <code>InvalidParameter</code>。",
                "example": "<code>0</code>",
                "required": "否",
                "type": "Integer"
              },
              {
                "name": "Width",
                "key": "0-5-2-1-3",
                "title": "视频流对应区域宽度的像素绝对值，取值的范围为 <code>(0.0, Canvas.Width]</code>。",
                "example": "<code>640</code>",
                "required": "是",
                "type": "Integer"
              },
              {
                "name": "Height",
                "key": "0-5-2-1-4",
                "title": "视频流对应区域高度的像素绝对值，取值的范围为 <code>(0.0, Canvas.Height]</code>。",
                "example": "<code>480</code>",
                "required": "是",
                "type": "Integer"
              },
              {
                "name": "ZOrder",
                "key": "0-5-2-1-5",
                "title": "当多个流的画面有重叠时，使用此参数设置指定画面的图层顺序。取值范围为 <code>[0, 100]</code>：<code>0</code> 表示该区域图像位于最下层，<code>100</code> 表示该区域图像位于最上层, 默认值为 <code>0</code>。值不合法时，自动调整为默认值。",
                "example": "<code>0</code>",
                "required": "否",
                "type": "Integer"
              },
              {
                "name": "Alpha",
                "key": "0-5-2-1-6",
                "title": "画面的透明度，取值范围为 <code>(0.0, 1.0]</code>。<code>0.0</code> 表示完全透明，<code>1.0</code> 表示完全不透明，默认值为 <code>1.0</code>。值不合法时，自动调整为默认值。",
                "example": "<code>1</code>",
                "required": "否",
                "type": "Float"
              },
              {
                "name": "RenderMode",
                "key": "0-5-2-1-7",
                "title": "<p>画面的渲染模式，值的范围为 <code>{0, 1, 2，3}</code>, 默认值为 <code>0</code>：</p>\n<ul>\n<li><code>0</code> 表示按照指定的宽高直接缩放。如果原始画面宽高比与指定的宽高比不同，就会导致画面变形</li>\n<li><code>1</code> 表示按照显示区域的长宽比裁减视频，然后等比拉伸或缩小视频，占满显示区域。</li>\n<li><code>2</code> 表示按照原始画面的宽高比缩放视频，在显示区域居中显示。如果原始画面宽高比与指定的宽高比不同，就会导致画面有空缺，空缺区域为填充的背景色值。</li>\n<li><code>3</code> 表示按照指定的宽高直接缩放。如果原始画面宽高比与指定的宽高比不同，就会导致画面变形<br>\n值不合法时，自动调整为默认值。<br>\n目前 <code>0</code> 和 <code>3</code> 均为按照指定的宽高直接缩放，但我们推荐你使用 <code>3</code> 以便与客户端实现相同逻辑。<br>\n不同渲染模式下，效果如下：<img src=\"https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_5e4ddbcdbefe2a108f6f9810bfa0b030.png\" alt=\"alt\" width=\"100%\"></li>\n</ul>",
                "example": "<code>0</code>",
                "required": "否",
                "type": "Integer"
              },
              {
                "name": "SourceCrop",
                "key": "0-5-2-1-8",
                "title": "源流剪切功能，可以在源视频帧渲染之前进行裁剪，即预处理一次再渲染。",
                "example": "",
                "required": "否",
                "type": "Object",
                "children": [
                  {
                    "name": "LocationX",
                    "key": "0-5-2-1-8-0",
                    "title": "裁剪后得到的视频帧左上角的横坐标相对裁剪前整体画面的比例，取值的范围为 <code>[0.0, 1.0)</code>。默认值为 <code>0.0</code>。值不合法时，自动调整为默认值。",
                    "example": "<code>0</code>",
                    "required": "否",
                    "type": "Float"
                  },
                  {
                    "name": "LocationY",
                    "key": "0-5-2-1-8-1",
                    "title": "裁剪后得到的视频帧左上角的纵坐标相对裁剪前整体画面的比例，取值的范围为 <code>[0.0, 1.0)</code>。默认值为 <code>0.0</code>。值不合法时，自动调整为默认值。",
                    "example": "<code>0</code>",
                    "required": "否",
                    "type": "Float"
                  },
                  {
                    "name": "WidthProportion",
                    "key": "0-5-2-1-8-2",
                    "title": "裁剪后得到的视频帧宽度相对裁剪前整体画面宽度的比例，取值范围为 <code>(0.0, 1.0]</code>。默认值为 <code>1.0</code>。值不合法时，自动调整为默认值。",
                    "example": "<code>0.5</code>",
                    "required": "否",
                    "type": "Float"
                  },
                  {
                    "name": "HeightProportion",
                    "key": "0-5-2-1-8-3",
                    "title": "裁剪后得到的视频帧高度相对裁剪前整体画面宽度的比例，取值范围为 <code>(0.0, 1.0]</code>。默认值为 <code>1.0</code>。值不合法时，自动调整为默认值。",
                    "example": "<code>0.5</code>",
                    "required": "否",
                    "type": "Float"
                  }
                ]
              },
              {
                "name": "AlternateImage",
                "key": "0-5-2-1-9",
                "title": "补位图片的 url。长度不超过 1024 个字符串。- 在 <code>Region.StreamIndex</code> 对应的视频流没有发布，或被暂停采集时，<code>AlternateImage</code> 对应的图片会填充 <code>Region</code> 对应的画布空间。当视频流被采集并发布时，<code>AlternateImage</code> 不造成任何影响。- 可以传入的图片的格式包括：JPG, JPEG, PNG。- 当图片和画布尺寸不一致时，图片根据 <code>RenderMode</code> 的设置，在画布中进行渲染。",
                "example": "<code>-</code>",
                "required": "否",
                "type": "String"
              },
              {
                "name": "ApplySpatialAudio",
                "key": "0-5-2-1-10",
                "title": "<p>该路流对应的用户是否开启空间音频效果。</p>\n<ul>\n<li><code>true</code>：开启空间音频效果。</li>\n<li><code>false</code>：关闭空间音频效果。</li>\n</ul>\n默认值为 <code>true</code>",
                "example": "<code>-</code>",
                "required": "否",
                "type": "Boolean"
              },
              {
                "name": "SpatialPosition",
                "key": "0-5-2-1-11",
                "title": "空间音频下，房间内指定用户所在位置的三维坐标，默认值为<code>[0,0,0]</code>。数组长度为<code>3</code>，三个值依次对应<code>X</code>,<code>Y</code>,<code>Z</code>，每个值的取值范围为<code>[-100,100]</code>。",
                "example": "<code>[0,0,0]</code>",
                "required": "否",
                "type": "Integer[]",
                "children": []
              },
              {
                "name": "CornerRadius",
                "key": "0-5-2-1-12",
                "title": "转推直播下边框圆角半径与画布宽度的比例值，取值范围为 <code>(0,1]</code>。圆角半径的像素位不能超过 Region 宽高最小值的一半，否则不会出现圆角效果。",
                "example": "<code>0.1</code>",
                "required": "否",
                "type": "Float"
              },
              {
                "name": "MediaType",
                "key": "0-5-2-1-13",
                "title": "<p>该路流参与混流的媒体类型。</p>\n<ul>\n<li><code>0</code>：音视频</li>\n<li><code>1</code>：纯音频</li>\n<li><code>2</code>：纯视频</li>\n</ul>\n默认值为 <code>0</code>。值不合法时，自动调整为默认值。<br><br>\n假如该路流为音视频流，<code>MediaType</code>设为<code>1</code>，则只混入音频内容。",
                "example": "<code>0</code>",
                "required": "否",
                "type": "Integer"
              },
              {
                "name": "AlternateImageFillMode",
                "key": "0-5-2-1-14",
                "title": "<p>画面的渲染模式。</p>\n<ul>\n<li><code>0</code>：按照用户原始视频帧比例进行缩放</li>\n<li><code>1</code>：保持图片原有比例</li>\n</ul>\n默认值为 <code>0</code>。值不合法时，自动调整为默认值。",
                "example": "<code>0</code>",
                "required": "否",
                "type": "Integer"
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "name": "Encode",
    "key": "0-6",
    "title": "音视频编码参数",
    "example": "",
    "required": "否",
    "type": "Object",
    "children": [
      {
        "name": "VideoWidth",
        "key": "0-6-0",
        "title": "输出画面的宽度。默认值为<code>640</code>，范围为 <code>[2, 1920]</code>，必须是偶数。值不合法时，自动调整为默认值。自定义布局下此参数不生效，整体画面宽度以 <code>canvas</code> 中的 <code>Width</code> 为主。",
        "example": "<code>640</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "VideoHeight",
        "key": "0-6-1",
        "title": "输出画面的高度，范围为<code>[2, 1920]</code>，必须是偶数，默认值为<code>480</code>。值不合法时，自动调整为默认值。自定义布局下此参数不生效，整体画面高度以 <code>canvas</code> 中的 <code>Height</code> 为主。",
        "example": "<code>480</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "VideoFps",
        "key": "0-6-2",
        "title": "输出视频帧率。默认为 <code>15</code>，取值范围为 <code>[1,60]</code>。值不合法时，自动调整为默认值。",
        "example": "<code>15</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "VideoBitrate",
        "key": "0-6-3",
        "title": "输出视频码率。取值范围 <code>[1,10000]</code>，单位为 Kbps，默认值为自适应。值不合法时，自动调整为默认值。<br>\n自适应码率模式下，RTC 默认不会设置超高码率。如果订阅屏幕流，建议自行设置高码率。不同场景下设置码率等视频发布参数,请参考<a href=\"70122#videoprofiles\">设置视频发布参数</a>。",
        "example": "<code>-</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "VideoCodec",
        "key": "0-6-4",
        "title": "视频编码协议。默认值为 <code>0</code>，可以取 <code>0</code> 或 <code>1</code>。取 <code>0</code> 时使用 <code>H.264</code>,取 <code>1</code> 时使用 <code>ByteVC1</code> 编码器。",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "VideoGop",
        "key": "0-6-5",
        "title": "输出视频 GOP。默认为 <code>4</code>，取值范围为 <code>[1,5]</code>，单位为秒。值不合法时，自动调整为默认值。",
        "example": "<code>4</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "AudioCodec",
        "key": "0-6-6",
        "title": "音频编码协议。默认值为 <code>0</code>，此时使用 aac 编码协议。目前只支持 aac。值不合法时，自动调整为默认值。",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "AudioProfile",
        "key": "0-6-7",
        "title": "<p>音频配置文件类型，在使用 aac 编码时生效。取值范围为 <code>{0, 1, 2}</code>。</p>\n<ul>\n<li><code>0</code> :采用 LC 规格；</li>\n<li><code>1</code>: 采用 HE-AAC v1 规格；</li>\n<li><code>2</code>: 采用 HE-AAC v2 规格。取 <code>2</code> 时，只支持输出流音频声道数为双声道。<br>\n默认值为 <code>0</code>。</li>\n</ul>",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "AudioBitrate",
        "key": "0-6-8",
        "title": "<p>音频码率。取值范围为 <code>[32,192]</code>,单位为 Kbps，默认值为 <code>64</code>，值不合法时，自动调整为默认值。</p>\n<p>当<code>AudioProfile</code>=<code>0</code>时：<br>\n若输入参数取值范围为 <code>[32,192]</code>，编码码率等于输入码率。</p>\n<p>当<code>AudioProfile</code>=<code>1</code>时：</p>\n<ul>\n<li>若输入参数取值范围为 <code>[32,128]</code>，编码码率等于输入码率。</li>\n<li>若输入参数取值范围为 <code>[128,192]</code>，编码码率固定为<code>128</code>。</li>\n</ul>\n<p>当<code>AudioProfile</code>=<code>2</code>时：</p>\n<ul>\n<li>若输入参数取值范围为 <code>[32,64]</code>，编码码率等于输入码率。</li>\n<li>若输入参数取值范围为 <code>[64,192]</code>，编码码率固定为<code>64</code>。</li>\n</ul>",
        "example": "<code>-</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "AudioSampleRate",
        "key": "0-6-9",
        "title": "音频采样率。默认值 <code>48000</code>，取值为 <code>[32000,44100,48000]</code>，单位是 Hz。值不合法时，自动调整为默认值。",
        "example": "<code>48000</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "AudioChannels",
        "key": "0-6-10",
        "title": "<p>音频声道数。</p>\n<ul>\n<li><code>1</code>：单声道</li>\n<li><code>2</code>：双声道。<br>\n默认值为 <code>2</code>。值不合法时，自动调整为默认值。</li>\n</ul>",
        "example": "<code>2</code>",
        "required": "否",
        "type": "Integer"
      }
    ]
  },
  {
    "name": "Control",
    "key": "0-7",
    "title": "配置选项。若合流转推的音频参数设置为单声道，空间音频无效。",
    "example": "",
    "required": "否",
    "type": "Object",
    "children": [
      {
        "name": "MediaType",
        "key": "0-7-0",
        "title": "流的类型，用于全局控制订阅的流的类型。默认值为<code>0</code>，可以取<code>0</code>和<code>1</code>。<code>0</code>表示音视频，<code>1</code>表示纯音频，暂不支持纯视频。值不合法时，自动调整为默认值。",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "FrameInterpolationMode",
        "key": "0-7-1",
        "title": "<p>选择补帧模式。默认值为<code>0</code>，可以取<code>0</code>和<code>1</code>。<code>0</code>为补最后一帧，<code>1</code>为补黑帧。值不合法时会自动调整为默认值。</p>\n<p>自动布局模式下，没有补帧的逻辑。</p>\n<p>补帧是指在音视频录制或合流转推时，视频的帧率通常是固定的。但是，因为网络波动或其他原因，实际帧率可能无法达到预设的帧率。此时，需要补帧以保持视频流畅。补最后一帧意味着补充的视频帧和中断前的最后一帧相同，此时看到的画面可能会有短暂静止；补黑帧意味着补充的视频帧是全黑的。</p>\n<p>使用占位图、补帧和上一帧的关系:</p>\n<p>你可以在 <code>Region</code> 中传入 <code>Alternateimage</code> 字段设置占位图,在 <code>Control</code> 中传入<code>FrameInterpolationMode</code> 字段设置补帧模式,但占位图优先级高于补帧模式。</p>\n<ul>\n<li>在 <code>Region.StreamIndex</code> 对应的视频流停止发布时, <code>Region</code> 对应的画布空间会根据设置填充占位图或补帧。但当视频流为屏幕流时，补帧模式不生效。</li>\n<li>当 <code>Region.StreamIndex</code> 对应的视频流发布后停止采集或推送时, <code>Region</code> 对应的画布空间会填充上一帧。</li>\n<li>当 <code>Region.StreamIndex</code> 对应的视频流发布时,设置的占位图或补顿模式不造成任何影响。</li>\n</ul>",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "MaxIdleTime",
        "key": "0-7-2",
        "title": "任务的空闲超时时间，超过此时间后，任务自动终止。单位为秒。取值范围为 <code>[10, 86400]</code>, 默认值为 <code>180</code>。",
        "example": "<code>180</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "MaxRecordTime",
        "key": "0-7-3",
        "title": "（仅对录制有效）最大录制时长，单位为秒。默认值为 <code>0</code>。<code>0</code> 表示不限制录制时长。",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "SpatialConfig",
        "key": "0-7-4",
        "title": "空间音频配置。若合流转推的音频参数设置为单声道，空间音频无效。",
        "example": "",
        "required": "否",
        "type": "Object",
        "children": [
          {
            "name": "EnableSpatialRender",
            "key": "0-7-4-0",
            "title": "是否开启空间音频处理功能。<li> <code>false</code>：关闭。</li><li><code>true</code>：开启",
            "example": "<code>false</code>",
            "required": "否",
            "type": "Boolean"
          },
          {
            "name": "AudienceSpatialPosition",
            "key": "0-7-4-1",
            "title": "观众所在位置的三维坐标，默认值为<code>[0,0,0]</code>。数组长度为<code>3</code>，三个值依次对应<code>X</code>,<code>Y</code>,<code>Z</code>，每个值的取值范围为<code>[-100,100]</code>。",
            "example": "<code>[0,0,0]</code>",
            "required": "否",
            "type": "Integer[]",
            "children": []
          },
          {
            "name": "AudienceSpatialOrientation",
            "key": "0-7-4-2",
            "title": "设置观众朝向。各个向量两两垂直，如果传入的值没有保证两两垂直，自动赋予默认值。默认值为：<code>forward</code> = <code>[1, 0, 0]</code>, <code>right</code> = <code>[0, 1, 0]</code>, <code>up</code> = <code>[0, 0, 1]</code>。",
            "example": "",
            "required": "否",
            "type": "Object",
            "children": [
              {
                "name": "Up",
                "key": "0-7-4-2-0",
                "title": "头顶朝向",
                "example": "<code>[0, 0, 1]</code>",
                "required": "否",
                "type": "Float[]",
                "children": []
              },
              {
                "name": "Right",
                "key": "0-7-4-2-1",
                "title": "右边朝向",
                "example": "<code>[0, -1, 0]</code>",
                "required": "否",
                "type": "Float[]",
                "children": []
              },
              {
                "name": "Forward",
                "key": "0-7-4-2-2",
                "title": "前方朝向",
                "example": "<code>[1, 0, 0]</code>",
                "required": "否",
                "type": "Float[]",
                "children": []
              }
            ]
          }
        ]
      },
      {
        "name": "PushStreamMode",
        "key": "0-7-5",
        "title": "<p>转推直播推流模式，用于控制触发推流的时机。取值为<code>0</code>或<code>1</code>。默认值为<code>0</code>。</p>\n<ul>\n<li><code>0</code>：房间内有用户推 RTC 流时即触发 CDN 推流。</li>\n<li><code>1</code>：调用接口发起推流任务后，无论房间内是否有用户推 RTC 流,均可触发 CDN 推流。<br>\n值不合法时，自动调整为默认值。</li>\n</ul>\n任务超时逻辑不变，依然是无用户推流即判定为超时。",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "SEIConfig",
        "key": "0-7-6",
        "title": "（仅对转推直播有效）SEI 相关配置。",
        "example": "",
        "required": "否",
        "type": "Object",
        "children": [
          {
            "name": "UserConfigExtraInfo",
            "key": "0-7-6-0",
            "title": "设置<a href=\"1163740#sei\">SEI数据结构</a>中 <code>app_data</code> 参数的值，最大长度为 <code>4096</code>。此参数支持动态更新。",
            "example": "<code>-</code>",
            "required": "否",
            "type": "String"
          },
          {
            "name": "PassthroughRTCSEIMessage",
            "key": "0-7-6-1",
            "title": "<p>是否透传 RTC 流里的 SEI 信息。</p>\n<ul>\n<li><code>true</code>：是。</li>\n<li><code>false</code>：否。</li>\n</ul>\n默认值为 <code>true</code>。",
            "example": "<code>true</code>",
            "required": "否",
            "type": "Boolean"
          },
          {
            "name": "VolumeIndicationInterval",
            "key": "0-7-6-2",
            "title": "用户说话音量的回调间隔，单位为秒，取值范围为<code>[0.3,60]</code>，默认值为 <code>2</code>。仅当用户说话音量发生变化时此回调才会被触发。",
            "example": "<code>2</code>",
            "required": "否",
            "type": "Float"
          },
          {
            "name": "VolumeIndicationMode",
            "key": "0-7-6-3",
            "title": "<p>(仅对转推直播有效）是否开启音量指示模式。</p>\n<ul>\n<li><code>true</code>：是。此时非关键帧中也可能携带 SEI 信息。</li>\n<li><code>false</code>：否。此时只会在关键帧中携带 SEI 信息。</li>\n</ul>\n<p>默认值为 <code>false</code>。</p>\n若 <code>VolumeIndicationMode</code> = <code>true</code> 的同时设置 <code>MediaType</code> = <code>1</code>，该流推向 CDN 地址时，服务端会补黑帧。 关于音量指示模式的用法，参看 <a href=\"1163740#volume\">音量指示模式</a>。",
            "example": "<code>false</code>",
            "required": "否",
            "type": "Boolean"
          },
          {
            "name": "AddVolumeValue",
            "key": "0-7-6-4",
            "title": "<p>SEI 中是否包含用户说话音量值。</p>\n<ul>\n<li><code>false</code>：否。</li>\n<li><code>true</code>：是。</li>\n</ul>\n默认值为 <code>false</code>。值不合法时自动调整为默认值。",
            "example": "<code>false</code>",
            "required": "否",
            "type": "Boolean"
          },
          {
            "name": "SEIContentMode",
            "key": "0-7-6-5",
            "title": "<p>开启音量指示模式后，非关键帧携带 SEI 包含的信息类型。</p>\n<ul>\n<li><code>0</code>：全量信息。</li>\n<li><code>1</code>：只有音量信息和时间戳。</li>\n</ul>\n关于 SEI 结构，参看<a href=\"1163740#sei\">服务端合流转推 SEI 结构</a>",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "SEIPayLoadType",
            "key": "0-7-6-6",
            "title": "设置 SEI 的 <code>Payload Type</code>，对 服务端合流转推 SEI 和 RTC 透传SEI 均生效。取值为 <code>5</code> 或 <code>100</code>，默认为 <code>100</code>。",
            "example": "<code>100</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "SEIPayloadUUID",
            "key": "0-7-6-7",
            "title": "<p>该字段为长度为 32 位的 16 进制字符，每个字符的范围为 <code>a-f，A-F，0-9</code>，不可包含 <code>-</code>。如果校验失败，会返回错误码 <code>InvalidParameter</code>。</p>\n<p>仅当 <code>SEIPayLoadType</code>=<code>5</code>时，该字段需要填写，<code>SEIPayLoadType</code>=<code>100</code>时，该字段内容会被忽略。</p>\n此参数仅对 RTC 透传SEI 生效。当用户设置 <code>SEIPayloadType</code> = <code>5</code> 时，服务端合流转推SEI 的 <code>SEIPayloadUUID</code> 为固定值：<code>566f6c63656e67696e65525443534549</code>，对应16位字符串 <code>VolcengineRTCSEI</code>。",
            "example": "<code>566f6c63656e67696e65525443534549</code>",
            "required": "否",
            "type": "String"
          }
        ]
      }
    ]
  },
  {
    "name": "IsUpdatePartialParam",
    "key": "0-8",
    "title": "<p>是否更新部分参数。</p>\n<ul>\n<li><code>False</code>：否。</li>\n<li><code>True</code>：是。</li>\n</ul>\n默认值为 <code>False</code>。<br>\n开启部分更新后，必须按照参数层级传入，且数组类参数需要传入该数组中所有参数。",
    "example": "<code>False</code>",
    "required": "否",
    "type": "Boolean"
  },
  {
    "name": "SequenceNumber",
    "key": "0-9",
    "title": "<p>更新请求序列号。填写该参数后，服务端会对请求进行校验，请确保最后一次更新请求的序列号大于前一次请求的序列号。</p>\n建议更新部分参数场景下传入此参数，以确保服务端按照最新请求进行更新。",
    "example": "<code>0</code>",
    "required": "否",
    "type": "Integer"
  }
];

return (<Table
  defaultExpandAllRows={true}
  columns={columns}
  data={data}
  border={{ cell: true, wrapper: true }}
  pagination={false}
/>);
```
## 返回参数
本接口无特有的返回参数。公共返回参数请见[返回结构](1178322)。
其中返回值 `Result` 仅在请求成功时返回 `ok`,失败时为空。
## 请求示例
```json
POST https://rtc.volcengineapi.com?Action=UpdatePushMixedStreamToCDN&Version=2023-06-01
{
    "AppId": "You****pId",
    "BusinessId": "Your_****nessId",
    "RoomId": "Your_RoomId",
    "TaskId": "Your_TaskId",
    "TargetStreams": {
        "StreamList": [
            {
                "Index": 0,
                "UserId": "Your_UserId_3"
            },
            {
                "Index": 1,
                "UserId": "Your_UserId_4",
                "StreamType": 1
            }
        ]
    },
    "Layout": {
        "LayoutMode": 2,
        "CustomLayout": {
            "Canvas": {
                "Width": 860,
                "Height": 340,
                "Background": "#303342"
            },
            "Regions": [
                {
                    "StreamIndex": 0,
                    "LocationX": 0,
                    "LocationY": 0,
                    "Width": 430,
                    "Height": 340,
                    "ZOrder": 0,
                    "Alpha": 1,
                    "RenderMode": 0
                },
                {
                    "StreamIndex": 1,
                    "LocationX": 430,
                    "LocationY": 0,
                    "Width": 430,
                    "Height": 340,
                    "ZOrder": 1,
                    "Alpha": 1,
                    "RenderMode": 1
                }
            ]
        }
    }
}
```
## 返回示例
```json
{
    "Result": "ok",
    "ResponseMetadata": {
        "RequestId": "Your_****estId",
        "Action": "UpdatePushMixedStreamToCDN",
        "Version": "2023-06-01",
        "Service": "rtc",
        "Region": "cn-north-1"
    }
}
```

## 错误码
您可访问[公共错误码](https://www.volcengine.com/docs/6348/70426)，获取更多错误码信息。
<div data-source="api-doc-hub" style="display: none"></div>
