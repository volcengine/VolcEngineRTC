---
is_dir: False    # True for dir; False for doc
status: 1    # 0 for offline; 1 for online; 2 for whitelist; 4 for online but hidden in TOC
keywords: 实时音视频    # use ',' as separator
---

:::tip
- 即时通讯 IM 目前支持根据业务需求选择数据存储在国内或海外，你可以前往[控制台](https://console.volcengine.com/rtc/listRTC)创建应用。详情参看[应用管理](https://www.volcengine.com/docs/6348/413716)。
:::

## 2024-07-08
### 接口变更
- [BatchSendMessage](1263587#____body)，批量发送消息请求新增 IsNormalUser 参数，响应新增 FailedReceiver 参数。新增接口限流。

## 2024-06-07
### 新增接口
- [BatchSendMessage](1263587)，支持批量发单聊消息。
- [P2PSendMessage](1277382)，支持发送透传消息。

## 2024-05-13
### 接口变更
- [GetMessagesReadReceipt](1223552)，支持获取群聊消息的已读回执。

## 2024-04-12
### 新增回调
- 新增 [BeforeDestroyConversation](293100#beforedestroyconversation)，群聊解散之前的回调。
- 新增 [AfterDestroyConversation](293100#afterdestroyconversation)，群聊解散之后的回调。

## 2024-04-02
### 新增回调
- 新增 [AfterModifyMessage](293100#aftermodifymessage)，消息修改之后触发此回调。

## 2024-04-01
### 新增回调
- 新增 [AfterRecallMessage](293100#afterrecallmessage)，消息撤回之后触发此回调。
- 新增 [AfterDeleteMessage](293100#afterdeletemessage)，消息删除之后触发此回调。

## 2024-03-11
### 新增接口

- 新增 [获取消息的已读回执详情 GetMessagesReadReceipt](1223552),指定AppId、会话 Id 和消息Id获得消息的已读详情(目前仅单聊支持)。

### 回调变更
- [BeforeSendMessage](293100#beforesendmessage)
    - 新增 `Header`,`ClientMessageId`,`MentionedUsers`,`MessagePriority`字段，具体字段详见回调文档

## 2024-02-28
### 接口变更
- [ModifyMessage](337137)
    - 新增 `Content`请求参数，可以对消息的内容进行更新。

## 2024-02-26
### 回调变更
- [AfterSendMessage](293100#aftersendmessage)
    - 新增 `Header` 字段，`Header`中增加了消息发送方的元信息，如`IP`,`设备类型`等字段。

## 2024-01-24
### 新增接口

- 新增 [获取 Token GetAppToken](1208779)，你可以指定你所属的 AppId，UserId 和 Token 过期时间来生成 Token进行鉴权，以进行通讯。

## 2023-12-28


### 新增功能
* 新增用户注册功能，你可以调用接口进行用户注册和注销，后续进行广播或资料更新。
    - 新增 [RegisterUsers](1125993)，你可以使用此接口对用户进行注册。
    - 新增 [UnRegisterUsers](1125994)，你可以使用此接口对已注册的用户进行注销。

* 新增全员广播功能，你可以调用接口管理广播用户，对符合筛选标签的用户进行全员广播。
    - 新增 [UserBroadcast](1125997)，你可以使用此接口对符合标签的用户进行全员广播。
    - 新增 [BatchUpdateUserTags](1125995)，你可以使用此接口对已注册的广播用户进行标签更新。

 * 新增用户资料功能，你可以调用接口对用户资料进行查询和更新。 
    - 新增 [BatchGetUser](1125996)，你可以使用此接口对已注册的用户进行资料查询。
    - 新增 [BatchUpdateUser](1187901)，你可以调用此接口对用户资料进行更新。

* 新增标记会话功能，你可以对会话进行标记，并对会话标记进行查询。
    - 新增 [MarkConversation](1187904)，你可以使用此接口对会话进行标记。
    - 新增 [GetConversationMarks](1187905)，你可以使用此接口对会话标记进行查询。

### 接口变更

- [BatchUpdateLiveParticipants](1162951)
    - 新增 `Marks` 和 `MarkAction` 请求参数，可以对直播群成员标记进行更新。
- [ScanConversationParticipantList](336993)
    - 新增 `MarkType` 请求参数，支持查询群成员标记。
- [BatchGetWhitelistParticipant](1051347)
    - 新增 `Marks` 请求参数，支持查询全员禁言下白名单成员标记。
- [BatchGetBlockParticipants](788464)
    - 新增 `Marks` 请求参数，支持查询禁言/拉黑群成员标记。

## 2023-12-22

### 新增回调
- 新增 [AfterSetProperty](293100#aftersetproperty)，消息属性修改后触发此回调。

### 接口变更
- [GetConversationMessages](337138)
    - `Result.Messages` 中增加 `Property`结构，增加返回消息修改后的消息属性。
- [GetMessages](337136)
    - `Result.Messages` 中增加 `Property`结构，增加返回消息修改后的消息属性。


## 2023-12-15

### 回调变更
- [BeforeUpdateParticipant](293100#beforeupdateparticipant)
    - 新增 `UpdateParticipants` 字段，返回群成员修改详情。

## 2023-10-30

### 新增接口

- 新增 [BatchUpdateLiveParticipants](1162951)，你可以使用此接口更新直播群成员资料。
- 新增 [UpdateFriend](1125752)，你可以使用此接口更新好友列表。

### 接口变更
- [ScanConversationParticipantList](336993)
    - Result 结构中 `Participants` 参数增加 `AvatarUrl`，新增返回群成员头像。
- [BatchGetWhitelistParticipant](1051347)
    - Result 结构中 `Participants` 参数增加 `NickName`、`Ext`、`AvatarUrl`，新增返回白名单成员资料。
- [BatchGetBlockParticipants](788464)
    - Result 结构中 `Participants` 参数增加 `NickName`、`Ext`、`AvatarUrl`，新增返回禁言/拉黑成员资料。
- [ListFriend](1125753)
    - Result 结构中 `FriendInfo` 参数增加 `Alias`，返回好友备注。
- [GetBlackList](1152122)
    - Result 结构中 `FriendInfo` 参数增加 `FriendUserInfo`，若黑名单用户为查询用户好友，则返回该好友详细信息。


## 2023-10-12
### 新增回调
- 新增 [AfterSendMessage](293100#aftersendmessage)，消息发送成功且存入数据库后触发此回调。



## 2023-09-25

### 新增功能
新增黑名单管理功能。

- 新增 [AddBlackList](1152119)，你可以使用此接口添加用户至黑名单。
- 新增 [RemoveBlackList](1152120)，你可以使用此接口将用户移出黑名单。
- 新增 [UpdateBlackList](1152121)，你可以使用此接口更新黑名单中用户的扩展信息。
- 新增 [GetBlackList](1152122)，你可以使用此接口查询黑名单列表。
- 新增 [IsInBlackList](1152123)，你可以使用此接口校验用户是否在黑名单中。

## 2023-08-25

### 新增功能
新增好友关系管理功能，你可以调用接口添加、删除好友，也可查询好友列表和校验好友关系。

- 新增 [AddFriend](1125662)，你可以使用此接口添加好友。
- 新增 [DeleteFriend](1125751)，你可以使用此接口删除好友。
- 新增 [ListFriend](1125753)，你可以使用此接口查询指定用户的好友列表。
- 新增 [IsFriend](1125754)，你可以使用此接口校验两个用户之间的好友关系。

<!--
## 2023-08-15

### 新增功能
新增全员广播功能，你可以调用接口管理广播用户，对符合筛选标签的用户进行全员广播。
- 新增 [RegisterUsers](1125993)，你可以使用此接口对广播用户进行注册。
 - 新增 [UnRegisterUsers](1125994)，你可以使用此接口对已注册的广播用户进行注销。
- 新增 [BatchUpdateUserTags](1125995)，你可以使用此接口对已注册的广播用户进行标签更新。
- 新增 [BatchGetUser](1125996)，你可以使用此接口对已注册的广播用户进行查询。
- 新增 [UserBroadcast](1125997)，你可以使用此接口对符合标签的用户进行全员广播。-->

## 2023-08-02
### 接口变更
- [CreateConversation](337013)
    - Result 结构中 `ConversationInfo` 参数增加 `OtherUserId`，群聊时为会话 ID，单聊时为另一个成员的 UserId
- [GetUserConversations](337049)
    - Result 结构中 `ConversationInfo` 参数增加 `OtherUserId`，群聊时为会话 ID，单聊时为另一个成员的 UserId

## 2023-07-28
### 新增回调
- 新增 [AfterPush](293100#afterpush)，将客户端发送的消息在线推送后触发此回调。

## 2023-07-25
### 新增回调
- 新增 [AfterCreateConversation](293100#aftercreateconversation)，会话创建后触发此回调。


## 2023-06-21

### 新增接口

- 新增 [BatchAddManager](1051343)，你可以使用此接口向直播群中批量添加管理员。
- 新增 [BatchRemoveManager](1051344)，你可以使用此接口批量移除直播群中的管理员。
- 新增 [BatchAddWhitelistParticipant](1051344)，你可以使用此接口批量添加全员禁言下可发言白名单成员。
- 新增 [BatchRemoveWhitelistParticipant](1051346)，你可以使用此接口批量移除全员禁言下白名单成员。
- 新增 [BatchGetWhitelistParticipant](1051347)，你可以使用此接口批量查询全员禁言下白名单成员。
- 新增 [QueryLiveParticipantStatus](1051348)，你可以使用此接口查询群成员在直播群的状态。

### 接口优化
- [SendMessage](337135) 新增 `Priority` 字段，支持设置消息优先级。

## 2023-05-25

### 新增接口
- 新增 [BatchAddBlockParticipants](788462)，你可以使用此接口在直播群中批量禁言或拉黑会话成员。
- 新增 [BatchDeleteBlockParticipants](788463)，你可以使用此接口在直播群中批量取消禁言或取消拉黑会话成员。
- 新增 [BatchGetBlockParticipants](788464)，你可以使用此接口在直播群中分批获得禁言或拉黑成员列表。
- 新增 [QueryOnlineStatus](788533)，你可以使用此接口查询用户的在线状态。

### 接口变更
- [CreateConversation](337013)
    - Body 结构中 `ConversationCoreInfo.ConversationType` 参数增加枚举值 `100`，表示直播群类型。
    - Result 结构中 `ConversationInfo` 参数增加 `OnlineCount`，表示直播群在线人数。
- [BatchGetConversations](337049)
    - Body 结构中 `DataType` 参数增加枚举值 `2`，表示获得用户创建的直播群。
    - Result 结构中 `ConversationInfo` 参数增加 `OnlineCount`，表示直播群在线人数。   
- [ScanConversationParticipantList](336993)
    - 若只查询群成员的 UserId，单次最多可查询人数变为 50；若需查询群成员详细信息，单次最多可查询人数变为 20。
    - Body 结构中新增 `ScanOnlineParticipant` 参数，判断是否获取直播群在线成员列表。
- [ScanConversationParticipantList](336993)
    - Body 结构中 `DeleteType` 参数，直播群下只允许传 `0`。

### 新增回调
- 新增 [AfterRemoveParticipant](293100#afteraddparticipant)，群成员离开会话会触发此回调。
- 新增 [AfterAddParticipant](293100#afteraddparticipant)，群成员加入会话会触发此回调。
- 新增 [ParticipantStateChange](293100#participantstatechange)，直播群成员在群状态发生变化会触发此回调。
- 新增 [OnlineStateChange](293100#onlinestatechange)，用户状态发生变化会触发此回调。

### 回调变更
- [BeforeSendMessage](293100#beforesendmessage)
    - EventData 结构中 `MessageBody.ConversationType` 参数增加枚举值 `100`，表示直播群类型。
- [BeforeUpdateConversation](293100#beforeupdateconversation)
    - EventData 结构中 `ConversationType` 参数增加枚举值 `100`，表示直播群类型。
