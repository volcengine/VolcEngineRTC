---
is_dir: False    # True for dir; False for doc
status: 1    # 0 for offline; 1 for online; 2 for whitelist; 4 for online but hidden in TOC
useHub: 1    # 0 by default for using Doc Repo; 1 for using APIHub / SDKHub.
keywords: 实时音视频    # use ',' as separator
---

> 本文档 API 接口为最新版本接口，后续相关功能的新增都会在此更新，推荐使用最新版本接口。旧版接口文档请参考[历史版本](1163751)。

在实时音视频通话场景中，若需查询特定房间下合流转推任务的详细信息，你可以通过调用此接口实现。

通过指定应用标识、房间 ID 及任务 ID，你能够获取任务的当前状态和配置详情，任务的开始与结束时间、状态、停止原因、推流状态等详细信息，以及音视频流的具体配置。此接口适用于查询 72 小时内启动的合流转推任务。

你可以查询由客户端或服务端发起的合流转推任务，但返回的参数结构均为服务端的参数结构。
## 使用说明
### 前置条件
在查询前，你必须已经在[控制台](https://console.volcengine.com/rtc/cloudRTC)上开通转推直播服务。
## 注意事项
请求频率：QPS 不得超过 60。
## 请求说明
- 请求方式：**GET**
- 请求地址：**https://rtc.volcengineapi.com?Action=GetPushMixedStreamToCDNTask&Version=2023-11-01**
## 调试

<APILink link="https://api.volcengine.com/api-explorer/debug?action=GetPushMixedStreamToCDNTask&serviceCode=rtc&version=2023-11-01&groupName=转推直播" />

## 请求参数
下表仅列出该接口特有的请求参数和部分公共参数。更多信息请见[公共参数](1178321)。
### Query
```mixin-react
const columns = [
  {
    "title": "参数",
    "dataIndex": "name",
    "width": "15%"
  },
  {
    "title": "类型",
    "dataIndex": "type",
    "width": "15%"
  },
  {
    "title": "是否必选",
    "dataIndex": "required",
    "width": "10%"
  },
  {
    "title": "示例值",
    "dataIndex": "example",
    "width": "20%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  },
  {
    "title": "描述",
    "dataIndex": "description",
    "width": "40%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  }
];
    
const data = [
  {
    "name": "Action",
    "type": "String",
    "required": "是",
    "example": "<code>GetPushMixedStreamToCDNTask</code>",
    "description": "接口名称。当前 API 的名称为 <code>GetPushMixedStreamToCDNTask</code>。",
    "key": "Action"
  },
  {
    "name": "Version",
    "type": "String",
    "required": "是",
    "example": "<code>2023-11-01</code>",
    "description": "接口版本。当前 API 的版本为 <code>2023-11-01</code>。",
    "key": "Version"
  },
  {
    "required": "是",
    "name": "AppId",
    "example": "<code>661e****543cf</code>",
    "type": "String",
    "description": "你的音视频应用的唯一标志",
    "key": "AppId"
  },
  {
    "required": "是",
    "name": "RoomId",
    "example": "<code>Room1</code>",
    "type": "String",
    "description": "房间的 ID，是房间的唯一标志",
    "key": "RoomId"
  },
  {
    "required": "否",
    "name": "TaskId",
    "example": "<code>Task1</code>",
    "type": "String",
    "description": "<p>要查询的转推直播任务 ID。通过服务端发起时，该值为调用 OpenAPI 时传入的 TaskId。通过客户端 SDK 发起时，TaskId 是按照 <code>userId</code>@@<code>taskId</code> 格式拼接而成的字符串；当传入的 taskId 为空时，这里的 TaskId 为 <code>userId</code>。</p>\n<code>TaskId</code> 和 <code>UserId</code> 均为非必填参数，但是你需要至少填一个参数以保证可以正常发起请求。",
    "key": "TaskId"
  },
  {
    "required": "否",
    "name": "UserId",
    "example": "<code>user1</code>",
    "type": "String",
    "description": "<p>客户端发起转推任务的用户 ID。</p>\n<p>你在客户端发起多个任务，当使用该接口进行查询时：</p>\n<ul>\n<li>查询第一个任务时，<code>UserId</code> 可以传入发起转推任务的用户 <code>UserId</code>，<code>TaskId</code> 传入空字符串；或直接将该用户的 <code>UserId</code> 传入 <code>TaskId</code>。</li>\n<li>查询第二个以上任务时，<code>UserId</code> 和 <code>TaskId</code> 为发起转推任务的用户 <code>UserId</code> 和 <code>TaskId</code>。</li>\n</ul>",
    "key": "UserId"
  }
];

return (<Table
  defaultExpandAllRows={true}
  columns={columns}
  data={data}
  border={{ cell: true, wrapper: true }}
  pagination={false}
/>);
```
## 返回参数
下表仅列出本接口特有的返回参数，公共返回参数请参见[返回结构](1178322)。
```mixin-react
const columns = [
  {
    "title": "参数",
    "dataIndex": "name",
    "width": "29%"
  },
  {
    "title": "类型",
    "dataIndex": "type",
    "width": "10%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  },
  {
    "title": "示例值",
    "dataIndex": "example",
    "width": "15%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  },
  {
    "title": "描述",
    "dataIndex": "title",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  }
];
    
const data = [
  {
    "name": "PushMixedStreamToCDNTask",
    "key": "0-1-0",
    "title": "合流转推任务信息",
    "example": "<code>-</code>",
    "type": "Object",
    "children": [
      {
        "name": "StartTime",
        "key": "0-1-0-0",
        "title": "任务开始时间戳，Unix 时间，单位为毫秒",
        "example": "<code>1677237518000</code>",
        "type": "Long"
      },
      {
        "name": "EndTime",
        "key": "0-1-0-1",
        "title": "任务结束时间戳，Unix 时间，单位为毫秒。<code>0</code> 表示任务未结束",
        "example": "<code>1677239022000</code>",
        "type": "Long"
      },
      {
        "name": "Status",
        "key": "0-1-0-2",
        "title": "<p>任务状态。</p>\n<ul>\n<li><code>0</code>：未知异常状态</li>\n<li><code>1</code>：未开始</li>\n<li><code>2</code>： 运行中</li>\n<li><code>3</code>： 已结束</li>\n<li><code>4</code>： 任务运行失败</li>\n</ul>",
        "example": "<code>3</code>",
        "type": "Long"
      },
      {
        "name": "StopReason",
        "key": "0-1-0-3",
        "title": "<p>任务停止的原因。</p>\n<ul>\n<li>返回为空：表示任务未结束</li>\n<li><code>UnknownStopReason</code>：未知停止原因</li>\n<li><code>StopByAPI</code>：用户主动调用 服务端 OpenAPI 停止</li>\n<li><code>StartTaskFailed</code>：任务启动失败</li>\n<li><code>IdleTimeOut</code>：任务超过最大空闲时间</li>\n<li><code>UserDisconnect</code>：客户端用户主动退房/调用停止转推接口</li>\n</ul>",
        "example": "<code>StopByAPI</code>",
        "type": "String"
      },
      {
        "name": "PushStreamState",
        "key": "0-1-0-4",
        "title": "<p>推流状态。</p>\n<ul>\n<li><code>0</code>：运行中，未获取到任务状态，建议稍后重新查询</li>\n<li><code>1</code>：未开始推流</li>\n<li><code>2</code>：首次连接 CDN 服务</li>\n<li><code>3</code>：正在重连 CDN 服务</li>\n<li><code>4</code>：连接 CDN 服务成功，正在尝试推流。</li>\n<li><code>5</code>：连接 CDN 服务成功，推流成功</li>\n<li><code>6</code>：已停止推流。</li>\n</ul>\n仅当<code>Status</code>=<code>2</code> 时，<code>PushStreamState</code> 有实际意义；当<code>Status</code>=<code>3</code> 时，<code>PushStreamState</code>=<code>6</code>; <code>status</code> 为其他值时，<code>PushStreamState</code> 均为<code>0</code>。",
        "example": "<code>6</code>",
        "type": "Integer"
      },
      {
        "name": "TargetStreams",
        "key": "0-1-0-5",
        "title": "转推任务包含的音视频流",
        "example": "<code>-</code>",
        "type": "Object",
        "children": [
          {
            "name": "StreamList",
            "key": "0-1-0-5-0",
            "title": "音视频流列表，由<code>Stream</code>组成，可以为空。为空时，表示订阅房间内所有流。在一个 <code>StreamList</code> 中，<code>Stream.Index</code> 不能重复。",
            "example": "<code>-</code>",
            "type": "Object[]",
            "children": [
              {
                "name": "Index",
                "key": "0-1-0-5-0-0",
                "title": "在自定义布局中，使用 <code>Index</code> 对流进行标志。后续在 <code>Layout.regions.StreamIndex</code> 中，你需要使用 <code>Index</code> 指定对应流的布局设置。",
                "example": "<code>0</code>",
                "type": "Integer"
              },
              {
                "name": "UserId",
                "key": "0-1-0-5-0-1",
                "title": "用户 ID，表示这个流所属的用户。",
                "example": "<code>user1</code>",
                "type": "String"
              },
              {
                "name": "StreamType",
                "key": "0-1-0-5-0-2",
                "title": "<p>流的类型。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：普通音视频流，</li>\n<li><code>1</code>：屏幕流。</li>\n</ul>\n默认值为<code>0</code>。",
                "example": "<code>0</code>",
                "type": "Integer"
              }
            ]
          }
        ]
      },
      {
        "name": "ExcludeStreams",
        "key": "0-1-0-6",
        "title": "转推任务排除的音视频流",
        "example": "<code>-</code>",
        "type": "Object",
        "children": [
          {
            "name": "StreamList",
            "key": "0-1-0-6-0",
            "title": "音视频流列表，由<code>Stream</code>组成，可以为空。为空时，表示订阅房间内所有流。在一个 <code>StreamList</code> 中，<code>Stream.Index</code> 不能重复。",
            "example": "<code>-</code>",
            "type": "Object[]",
            "children": [
              {
                "name": "Index",
                "key": "0-1-0-6-0-0",
                "title": "在自定义布局中，使用 <code>Index</code> 对流进行标志。后续在 <code>Layout.regions.StreamIndex</code> 中，你需要使用 <code>Index</code> 指定对应流的布局设置。",
                "example": "<code>0</code>",
                "type": "Integer"
              },
              {
                "name": "UserId",
                "key": "0-1-0-6-0-1",
                "title": "用户 ID，表示这个流所属的用户。",
                "example": "<code>user1</code>",
                "type": "String"
              },
              {
                "name": "StreamType",
                "key": "0-1-0-6-0-2",
                "title": "<p>流的类型。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：普通音视频流，</li>\n<li><code>1</code>：屏幕流。</li>\n</ul>\n默认值为<code>0</code>。",
                "example": "<code>0</code>",
                "type": "Integer"
              }
            ]
          }
        ]
      },
      {
        "name": "PushURL",
        "key": "0-1-0-7",
        "title": "推流 CDN 地址。仅支持 RTMP 协议。",
        "example": "<code>rtmp://xxxxxx</code>",
        "type": "String"
      },
      {
        "name": "Encode",
        "key": "0-1-0-8",
        "title": "输出的音视频编码参数。",
        "example": "<code>-</code>",
        "type": "Object",
        "children": [
          {
            "name": "VideoWidth",
            "key": "0-1-0-8-0",
            "title": "画面宽度。取值范围为 <code>[2, 1920]</code>，必须是偶数，单位为像素，默认值为 <code>640</code>。该参数在垂直布局和并排布局下生效，自定义布局下请使用 <code>canvas.Width</code> 设置画面宽度。",
            "example": "<code>640</code>",
            "type": "Integer"
          },
          {
            "name": "VideoHeight",
            "key": "0-1-0-8-1",
            "title": "画面高度，取值范围为 <code>[2, 1920]</code>，必须是偶数，单位为像素，默认值为 <code>480</code>。该参数在垂直布局和并排布局下生效，自定义布局下请使用 <code>canvas.Height</code> 设置画面宽度。",
            "example": "<code>480</code>",
            "type": "Integer"
          },
          {
            "name": "VideoFps",
            "key": "0-1-0-8-2",
            "title": "视频帧率。取值范围为 <code>[1,60]</code>，单位为 <code>FPS</code>，默认值为 <code>15</code>。",
            "example": "<code>15</code>",
            "type": "Integer"
          },
          {
            "name": "VideoBitrate",
            "key": "0-1-0-8-3",
            "title": "视频码率。取值范围为 <code>[0,10000]</code>，单位为 Kbps，默认值为 <code>0</code>。<br>\n<code>0</code> 表示自适应码率，会自动根据 <code>VideoFps</code> , <code>VideoWidth</code> 以及<code>VideoHeight</code> 计算出合理的码率。<br>\n自适应码率模式下，RTC 默认不会设置超高码率。如果订阅屏幕流，建议自行设置高码率。不同场景下设置码率等视频发布参数,请参考<a href=\"70122#videoprofiles\">设置视频发布参数</a>。",
            "example": "<code>0</code>",
            "type": "Integer"
          },
          {
            "name": "VideoCodec",
            "key": "0-1-0-8-4",
            "title": "<p>视频编码协议。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：<code>H.264</code></li>\n<li><code>1</code>：<code>ByteVC1</code></li>\n</ul>\n默认值为 <code>0</code>。",
            "example": "<code>0</code>",
            "type": "Integer"
          },
          {
            "name": "VideoGop",
            "key": "0-1-0-8-5",
            "title": "输出视频 GOP。取值范围为 <code>[1,5]</code>，单位为秒，默认值为 <code>4</code>。",
            "example": "<code>4</code>",
            "type": "Integer"
          },
          {
            "name": "AudioCodec",
            "key": "0-1-0-8-6",
            "title": "音频编码协议。仅支持取 <code>0</code>，表示 AAC 编码协议。",
            "example": "<code>0</code>",
            "type": "Integer"
          },
          {
            "name": "AudioProfile",
            "key": "0-1-0-8-7",
            "title": "<p>音频配置文件类型。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code> :采用 LC 规格；</li>\n<li><code>1</code>: 采用 HE-AAC v1 规格；</li>\n<li><code>2</code>: 采用 HE-AAC v2 规格。此时，只支持输出流音频声道数为双声道。</li>\n</ul>\n默认值为 <code>0</code>。",
            "example": "<code>0</code>",
            "type": "Integer"
          },
          {
            "name": "AudioBitrate",
            "key": "0-1-0-8-8",
            "title": "<p>音频码率。取值范围为 <code>[32,192]</code>,单位为 <code>Kbps</code>。</p>\n<ul>\n<li>该参数若不填，RTC 会根据音频配置文件类型、采样率、声道数的配置生成音频码率取值。</li>\n<li>该参数若填写，实际生效的码率也会随着音频配置文件类型、采样率、声道数的配置而变化。若你发现生效的码率值没有达到你设定的值，可能是该值已经超过该场景下的极限码率。</li>\n</ul>",
            "example": "<code>64</code>",
            "type": "Integer"
          },
          {
            "name": "AudioSampleRate",
            "key": "0-1-0-8-9",
            "title": "音频采样率。可取值为：<code>{32000,44100，48000}</code>，单位为 Hz，默认值为 <code>48000</code>。",
            "example": "<code>48000</code>",
            "type": "Integer"
          },
          {
            "name": "AudioChannels",
            "key": "0-1-0-8-10",
            "title": "<p>音频声道数。支持取值及含义如下：</p>\n<ul>\n<li><code>1</code>：单声道。</li>\n<li><code>2</code>：双声道。</li>\n</ul>\n默认值为 <code>2</code>。",
            "example": "<code>2</code>",
            "type": "Integer"
          }
        ]
      },
      {
        "name": "Layout",
        "key": "0-1-0-9",
        "title": "房间内多路流合为一路时的布局参数",
        "example": "<code>-</code>",
        "type": "Object",
        "children": [
          {
            "name": "LayoutMode",
            "key": "0-1-0-9-0",
            "title": "<p>布局模式。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：<a href=\"1167930#adapt\">自适应布局</a>。</li>\n<li><code>1</code>：<a href=\"1167930#vertical\">垂直布局</a></li>\n<li><code>2</code> ：自定义布局。</li>\n<li><code>3</code> ：<a href=\"1167930#horizontal\">并排布局</a></li>\n</ul>\n默认值为<code>0</code>",
            "example": "<code>0</code>",
            "type": "Integer"
          },
          {
            "name": "MainVideoStream",
            "key": "0-1-0-9-1",
            "title": "在垂直布局模式下生效，指定主画面流的属性。垂直布局时，此参数必填。",
            "example": "<code>-</code>",
            "type": "Object",
            "children": [
              {
                "name": "Index",
                "key": "0-1-0-9-1-0",
                "title": "在自定义布局中，使用 <code>Index</code> 对流进行标志。后续在 <code>Layout.regions.StreamIndex</code> 中，你需要使用 <code>Index</code> 指定对应流的布局设置。",
                "example": "<code>0</code>",
                "type": "Integer"
              },
              {
                "name": "UserId",
                "key": "0-1-0-9-1-1",
                "title": "用户 ID，表示这个流所属的用户。",
                "example": "<code>user1</code>",
                "type": "String"
              },
              {
                "name": "StreamType",
                "key": "0-1-0-9-1-2",
                "title": "<p>流的类型。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：普通音视频流，</li>\n<li><code>1</code>：屏幕流。</li>\n</ul>\n默认值为<code>0</code>。",
                "example": "<code>0</code>",
                "type": "Integer"
              }
            ]
          },
          {
            "name": "CustomLayout",
            "key": "0-1-0-9-2",
            "title": "使用自定义布局模式时，使用此参数进行具体设置。",
            "example": "<code>-</code>",
            "type": "Object",
            "children": [
              {
                "name": "Canvas",
                "key": "0-1-0-9-2-0",
                "title": "整体屏幕（画布）的宽高以及背景色。",
                "example": "<code>-</code>",
                "type": "Object",
                "children": [
                  {
                    "name": "Width",
                    "key": "0-1-0-9-2-0-0",
                    "title": "整体屏幕（画布）的宽度，取值范围为 <code>[2, 1920]</code>，必须是偶数，单位为像素，默认值为 <code>640</code>。",
                    "example": "<code>640</code>",
                    "type": "Integer"
                  },
                  {
                    "name": "Height",
                    "key": "0-1-0-9-2-0-1",
                    "title": "整体屏幕（画布）的高度，取值范围为 <code>[2, 1920]</code>，必须是偶数，单位为像素，默认值为 <code>480</code>。",
                    "example": "<code>480</code>",
                    "type": "Integer"
                  },
                  {
                    "name": "Background",
                    "key": "0-1-0-9-2-0-2",
                    "title": "整体屏幕（画布）的背景色, 范围为 <code>#000000 ~ #ffffff</code> (大小写均可)，格式为 #RGB(16进制)，默认值为 <code>#000000</code>（黑色）。",
                    "example": "<code>#000000</code>",
                    "type": "String"
                  },
                  {
                    "name": "BackgroundImage",
                    "key": "0-1-0-9-2-0-3",
                    "title": "背景图片的 URL。长度最大为 1024 byte。可以传入的图片的格式包括：<code>JPG</code>, <code>JPEG</code>, <code>PNG</code>。<br>\n如果背景图片的宽高和整体屏幕的宽高不一致，背景图片会缩放到铺满屏幕。<br>\n如果你设置了背景图片，背景图片会覆盖背景色。",
                    "example": "<code>-</code>",
                    "type": "String"
                  }
                ]
              },
              {
                "name": "Regions",
                "key": "0-1-0-9-2-1",
                "title": "<p>在自定义布局模式下，你可以使用 <code>Regions</code> 对每一路视频流进行画面布局设置。其中，每个 <code>Region</code> 对一路视频流进行画面布局设置。</p>\n<p>自定义布局模式下，对于 <code>StreamList</code> 中的每个 <code>Stream</code>，<code>Regions</code> 中都需要给出对应的布局信息，否则会返回请求不合法的错误。即 <code>Regions.Region.StreamIndex</code> 要与 <code>TargetStreams.StreamList.Stream.Index</code> 的值一一对应，否则自定义布局设置失败，返回 <code>InvalidParameter</code> 错误码。</p>\n<blockquote>\n<p>当传入的必填参数值不合法时，返回错误码 <code>InvalidParameter</code> 。</p>\n</blockquote>",
                "example": "<code>-</code>",
                "type": "Object[]",
                "children": [
                  {
                    "name": "StreamIndex",
                    "key": "0-1-0-9-2-1-0",
                    "title": "流的标识。这个标志应和 <code>TargetStreams.StreamList.Stream.Index</code> 对应。",
                    "example": "<code>0</code>",
                    "type": "Integer"
                  },
                  {
                    "name": "LocationX",
                    "key": "0-1-0-9-2-1-1",
                    "title": "<p>视频流对应区域左上角的横坐标相对整体画面左上角原点的横向位移，取值的范围为 <code>[0.0, Canvas.Width)</code>。默认值为 <code>0</code>。若传入该参数，服务端会对该参数进行校验，若不合法会返回错误码 <code>InvalidParameter</code>。</p>\n视频流对应区域左上角的实际坐标是通过画面尺寸和相对位置比例相乘，并四舍五入取整得到的。假如，画布尺寸为<code>1920</code>, 视频流对应区域左上角的横坐标相对整体画面的比例为 <code>0.33</code>，那么该画布左上角的横坐标为 <code>634</code>（1920*0.33=633.6，四舍五入取整）。",
                    "example": "<code>0</code>",
                    "type": "Integer"
                  },
                  {
                    "name": "LocationY",
                    "key": "0-1-0-9-2-1-2",
                    "title": "视频流对应区域左上角的横坐标相对整体画面左上角原点的纵向位移，取值的范围为 <code>[0.0, Canvas.Height)</code>。默认值为 <code>0</code>。若传入该参数，服务端会对该参数进行校验，若不合法会返回错误码 <code>InvalidParameter</code>。",
                    "example": "<code>0</code>",
                    "type": "Integer"
                  },
                  {
                    "name": "Width",
                    "key": "0-1-0-9-2-1-3",
                    "title": "视频流对应区域宽度的像素绝对值，取值的范围为 <code>(0.0, Canvas.Width]</code>。",
                    "example": "<code>640</code>",
                    "type": "Integer"
                  },
                  {
                    "name": "Height",
                    "key": "0-1-0-9-2-1-4",
                    "title": "视频流对应区域高度的像素绝对值，取值的范围为 <code>(0.0, Canvas.Height]</code>。",
                    "example": "<code>480</code>",
                    "type": "Integer"
                  },
                  {
                    "name": "ZOrder",
                    "key": "0-1-0-9-2-1-5",
                    "title": "当多个流的画面有重叠时，使用此参数设置指定画面的图层顺序。取值范围为 <code>[0, 100]</code>，默认值为 <code>0</code>。<code>0</code> 表示该区域图像位于最下层，<code>100</code> 表示该区域图像位于最上层。",
                    "example": "<code>0</code>",
                    "type": "Integer"
                  },
                  {
                    "name": "Alpha",
                    "key": "0-1-0-9-2-1-6",
                    "title": "画面的透明度，取值范围为 <code>(0.0, 1.0]</code>，默认值为 <code>1.0</code>。<code>0.0</code> 表示完全透明，<code>1.0</code> 表示完全不透明。",
                    "example": "<code>1</code>",
                    "type": "Float"
                  },
                  {
                    "name": "RenderMode",
                    "key": "0-1-0-9-2-1-7",
                    "title": "<p>画面的渲染模式。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code> ：按照指定的宽高直接缩放。如果原始画面宽高比与指定的宽高比不同，就会导致画面变形</li>\n<li><code>1</code> ：按照显示区域的长宽比裁减视频，然后等比拉伸或缩小视频，占满显示区域。</li>\n<li><code>2</code> ：按照原始画面的宽高比缩放视频，在显示区域居中显示。如果原始画面宽高比与指定的宽高比不同，就会导致画面有空缺，空缺区域为填充的背景色值。</li>\n<li><code>3</code> ：按照指定的宽高直接缩放。如果原始画面宽高比与指定的宽高比不同，就会导致画面变形。</li>\n</ul>\n默认值为 <code>0</code>。<br>\n目前 <code>0</code> 和 <code>3</code> 均为按照指定的宽高直接缩放，但我们推荐你使用 <code>3</code> 以便与客户端实现相同逻辑。",
                    "example": "<code>0</code>",
                    "type": "Integer"
                  },
                  {
                    "name": "SourceCrop",
                    "key": "0-1-0-9-2-1-8",
                    "title": "源流剪切功能，可以在源视频帧渲染之前进行裁剪，即预处理一次再渲染。",
                    "example": "<code>-</code>",
                    "type": "Object",
                    "children": [
                      {
                        "name": "LocationX",
                        "key": "0-1-0-9-2-1-8-0",
                        "title": "裁剪后得到的视频帧左上角的横坐标相对裁剪前整体画面的比例，取值的范围为 <code>[0.0, 1.0)</code>。默认值为 <code>0.0</code>。",
                        "example": "<code>0</code>",
                        "type": "Float"
                      },
                      {
                        "name": "LocationY",
                        "key": "0-1-0-9-2-1-8-1",
                        "title": "裁剪后得到的视频帧左上角的纵坐标相对裁剪前整体画面的比例，取值的范围为 <code>[0.0, 1.0)</code>。默认值为 <code>0.0</code>。",
                        "example": "<code>0</code>",
                        "type": "Float"
                      },
                      {
                        "name": "WidthProportion",
                        "key": "0-1-0-9-2-1-8-2",
                        "title": "裁剪后得到的视频帧宽度相对裁剪前整体画面宽度的比例，取值范围为 <code>(0.0, 1.0]</code>。默认值为 <code>1.0</code>。",
                        "example": "<code>0.5</code>",
                        "type": "Float"
                      },
                      {
                        "name": "HeightProportion",
                        "key": "0-1-0-9-2-1-8-3",
                        "title": "裁剪后得到的视频帧高度相对裁剪前整体画面宽度的比例，取值范围为 <code>(0.0, 1.0]</code>。默认值为 <code>1.0</code>。",
                        "example": "<code>0.5</code>",
                        "type": "Float"
                      }
                    ]
                  },
                  {
                    "name": "AlternateImage",
                    "key": "0-1-0-9-2-1-9",
                    "title": "<p>补位图片的 url。长度不超过 1024 个字符串。</p>\n<ul>\n<li>在 <code>Region.StreamIndex</code> 对应的视频流没有发布，或被暂停采集时，<code>AlternateImage</code> 对应的图片会填充 <code>Region</code> 对应的画布空间。当视频流被采集并发布时，<code>AlternateImage</code> 不造成任何影响。</li>\n<li>可以传入的图片的格式包括：JPG, JPEG, PNG。</li>\n<li>当图片和画布尺寸不一致时，图片根据 <code>RenderMode</code> 的设置，在画布中进行渲染。</li>\n</ul>",
                    "example": "<code>-</code>",
                    "type": "String"
                  },
                  {
                    "name": "ApplySpatialAudio",
                    "key": "0-1-0-9-2-1-10",
                    "title": "<p>该路流对应的用户是否开启空间音频效果。</p>\n<ul>\n<li><code>true</code>：开启空间音频效果。</li>\n<li><code>false</code>：关闭空间音频效果。</li>\n</ul>\n默认值为 <code>true</code>",
                    "example": "<code>-</code>",
                    "type": "Boolean"
                  },
                  {
                    "name": "SpatialPosition",
                    "key": "0-1-0-9-2-1-11",
                    "title": "空间音频下，房间内指定用户所在位置的三维坐标，默认值为<code>[0,0,0]</code>。数组长度为<code>3</code>，三个值依次对应<code>X</code>,<code>Y</code>,<code>Z</code>，每个值的取值范围为 <code>[-100,100]</code>。",
                    "example": "<code>[0,0,0]</code>",
                    "type": "Integer[]",
                    "children": []
                  },
                  {
                    "name": "CornerRadius",
                    "key": "0-1-0-9-2-1-12",
                    "title": "转推直播下边框圆角半径与画布宽度的比例值，取值范围为 <code>[0,1]</code>。默认值为 <code>0</code>，表示没有圆角效果。<br>\n圆角半径的像素位不能超过 Region 宽高最小值的一半，否则不会出现圆角效果。",
                    "example": "<code>0.1</code>",
                    "type": "Float"
                  },
                  {
                    "name": "MediaType",
                    "key": "0-1-0-9-2-1-13",
                    "title": "<p>该路流参与混流的媒体类型。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：音视频</li>\n<li><code>1</code>：纯音频</li>\n<li><code>2</code>：纯视频</li>\n</ul>\n默认值为 <code>0</code>。<br>\n例如该路流为音视频流，<code>MediaType</code>设为<code>1</code>，则只混入音频内容。",
                    "example": "<code>0</code>",
                    "type": "Integer"
                  },
                  {
                    "name": "AlternateImageFillMode",
                    "key": "0-1-0-9-2-1-14",
                    "title": "<p>画面的渲染模式。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：按照用户原始视频帧比例进行缩放</li>\n<li><code>1</code>：保持图片原有比例</li>\n</ul>\n默认值为 <code>0</code>。",
                    "example": "<code>0</code>",
                    "type": "Integer"
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "name": "Control",
        "key": "0-1-0-10",
        "title": "",
        "example": "<code>-</code>",
        "type": "Object",
        "children": [
          {
            "name": "MediaType",
            "key": "0-1-0-10-0",
            "title": "<p>流的类型，用于全局控制订阅的流的类型。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code> ：音视频，</li>\n<li><code>1</code> ：纯音频（当前该值无效）。</li>\n</ul>\n默认值为 <code>0</code>。",
            "example": "<code>0</code>",
            "type": "Integer"
          },
          {
            "name": "FrameInterpolationMode",
            "key": "0-1-0-10-1",
            "title": "<p>选择补帧模式。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：补最后一帧。</li>\n<li><code>1</code>：补黑帧</li>\n</ul>\n<p>默认值为<code>0</code>。<br>\n自动布局模式下，没有补帧的逻辑。<br>\n补帧是指在音视频录制或合流转推时，视频的帧率通常是固定的。但是，因为网络波动或其他原因，实际帧率可能无法达到预设的帧率。此时，需要补帧以保持视频流畅。补最后一帧意味着补充的视频帧和中断前的最后一帧相同，此时看到的画面可能会有短暂静止；补黑帧意味着补充的视频帧是全黑的。<br>\n使用占位图、补帧和上一帧的关系:<br>\n你可以在 <code>Region</code> 中传入 <code>Alternateimage</code> 字段设置占位图,在 <code>Control</code> 中传入<code>FrameInterpolationMode</code> 字段设置补帧模式,但占位图优先级高于补帧模式。</p>\n<ul>\n<li>在 <code>Region.StreamIndex</code> 对应的视频流停止发布时, <code>Region</code> 对应的画布空间会根据设置填充占位图或补帧。但当视频流为屏幕流时，补帧模式不生效。</li>\n<li>当 <code>Region.StreamIndex</code> 对应的视频流发布后停止采集或推送时, <code>Region</code> 对应的画布空间会填充上一帧。</li>\n<li>当 <code>Region.StreamIndex</code> 对应的视频流发布时,设置的占位图或补顿模式不造成任何影响。</li>\n</ul>",
            "example": "<code>0</code>",
            "type": "Integer"
          },
          {
            "name": "MaxIdleTime",
            "key": "0-1-0-10-2",
            "title": "任务的空闲超时时间，超过此时间后，任务自动终止。取值范围为 <code>[10, 86400]</code>,单位为秒，默认值为 <code>180</code>。",
            "example": "<code>180</code>",
            "type": "Integer"
          },
          {
            "name": "SpatialConfig",
            "key": "0-1-0-10-3",
            "title": "空间音频配置。若合流转推的音频参数设置为单声道，空间音频无效。",
            "example": "<code>-</code>",
            "type": "Object",
            "children": [
              {
                "name": "EnableSpatialRender",
                "key": "0-1-0-10-3-0",
                "title": "<p>是否开启空间音频处理功能。</p>\n<ul>\n<li><code>false</code>：关闭。</li>\n<li><code>true</code>：开启</li>\n</ul>\n默认值为 <code>false</code>。",
                "example": "<code>false</code>",
                "type": "Boolean"
              },
              {
                "name": "AudienceSpatialPosition",
                "key": "0-1-0-10-3-1",
                "title": "观众所在位置的三维坐标，默认值为<code>[0,0,0]</code>。数组长度为<code>3</code>，三个值依次对应<code>X</code>,<code>Y</code>,<code>Z</code>，每个值的取值范围为 <code>[-100,100]</code>。",
                "example": "<code>[0,0,0]</code>",
                "type": "Integer[]",
                "children": []
              },
              {
                "name": "AudienceSpatialOrientation",
                "key": "0-1-0-10-3-2",
                "title": "设置观众朝向。各个向量两两垂直，如果传入的值没有保证两两垂直，自动赋予默认值。默认值为：<code>forward</code> = <code>[1, 0, 0]</code>, <code>right</code> = <code>[0, 1, 0]</code>, <code>up</code> = <code>[0, 0, 1]</code>。",
                "example": "<code>-</code>",
                "type": "Object",
                "children": [
                  {
                    "name": "Up",
                    "key": "0-1-0-10-3-2-0",
                    "title": "头顶朝向",
                    "example": "<code>[0, 0, 1]</code>",
                    "type": "Float[]",
                    "children": []
                  },
                  {
                    "name": "Right",
                    "key": "0-1-0-10-3-2-1",
                    "title": "右边朝向",
                    "example": "<code>[0, -1, 0]</code>",
                    "type": "Float[]",
                    "children": []
                  },
                  {
                    "name": "Forward",
                    "key": "0-1-0-10-3-2-2",
                    "title": "前方朝向",
                    "example": "<code>[1, 0, 0]</code>",
                    "type": "Float[]",
                    "children": []
                  }
                ]
              }
            ]
          },
          {
            "name": "PushStreamMode",
            "key": "0-1-0-10-4",
            "title": "<p>转推直播推流模式，用于控制触发推流的时机。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：房间内有用户推 RTC 流时即触发 CDN 推流。</li>\n<li><code>1</code>：调用接口发起推流任务后，无论房间内是否有用户推 RTC 流,均可触发 CDN 推流。</li>\n</ul>\n默认值为 <code>0</code>。<br>\n任务超时逻辑不变，依然是无用户推流即判定为超时。",
            "example": "<code>0</code>",
            "type": "Integer"
          },
          {
            "name": "SEIConfig",
            "key": "0-1-0-10-5",
            "title": "SEI 相关配置。",
            "example": "<code>-</code>",
            "type": "Object",
            "children": [
              {
                "name": "UserConfigExtraInfo",
                "key": "0-1-0-10-5-0",
                "title": "设置<a href=\"1163740#sei\">SEI数据结构</a>中 <code>app_data</code> 参数的值，最大长度为 <code>4096</code>。此参数支持动态更新。",
                "example": "<code>-</code>",
                "type": "String"
              },
              {
                "name": "PassthroughRTCSEIMessage",
                "key": "0-1-0-10-5-1",
                "title": "<p>是否透传 RTC 流里的 SEI 信息。</p>\n<ul>\n<li><code>true</code>：是。</li>\n<li><code>false</code>：否。</li>\n</ul>\n默认值为 <code>true</code>。",
                "example": "<code>true</code>",
                "type": "Boolean"
              },
              {
                "name": "VolumeIndicationInterval",
                "key": "0-1-0-10-5-2",
                "title": "用户说话音量的回调间隔。取值范围为 <code>[0.3,∞]</code>，单位为秒，默认值为 <code>2</code>。仅当用户说话音量发生变化时此回调才会被触发。",
                "example": "<code>2</code>",
                "type": "Float"
              },
              {
                "name": "VolumeIndicationMode",
                "key": "0-1-0-10-5-3",
                "title": "<p>是否开启音量指示模式。</p>\n<ul>\n<li><code>true</code>：是。此时非关键帧中也可能携带 SEI 信息。</li>\n<li><code>false</code>：否。此时只会在关键帧中携带 SEI 信息。</li>\n</ul>\n<p>默认值为 <code>false</code>。</p>\n若 <code>VolumeIndicationMode</code> = <code>true</code> 的同时设置 <code>MediaType</code> = <code>1</code>，该流推向 CDN 地址时，服务端会补黑帧。 关于音量指示模式的用法，参看 <a href=\"1163740#volume\">音量指示模式</a>。",
                "example": "<code>false</code>",
                "type": "Boolean"
              },
              {
                "name": "AddVolumeValue",
                "key": "0-1-0-10-5-4",
                "title": "<p>SEI 中是否包含用户说话音量值。</p>\n<ul>\n<li><code>false</code>：否。</li>\n<li><code>true</code>：是。</li>\n</ul>\n默认值为 <code>false</code>。",
                "example": "<code>false</code>",
                "type": "Boolean"
              },
              {
                "name": "SEIContentMode",
                "key": "0-1-0-10-5-5",
                "title": "<p>开启音量指示模式后，非关键帧携带 SEI 包含的信息类型。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：全量信息。</li>\n<li><code>1</code>：只有音量信息和时间戳。</li>\n</ul>\n默认值为 <code>0</code>。关于 SEI 结构，参看<a href=\"1163740#sei\">服务端合流转推 SEI 结构</a>",
                "example": "<code>0</code>",
                "type": "Integer"
              },
              {
                "name": "SEIPayLoadType",
                "key": "0-1-0-10-5-6",
                "title": "设置 SEI 的 <code>Payload Type</code>，对 服务端合流转推 SEI 和 RTC 透传SEI 均生效。支持取值为 <code>5</code> 或 <code>100</code>，默认为 <code>100</code>。",
                "example": "<code>100</code>",
                "type": "Integer"
              },
              {
                "name": "SEIPayloadUUID",
                "key": "0-1-0-10-5-7",
                "title": "<p>该字段为长度为 32 位的 16 进制字符，每个字符的范围为 <code>a-f，A-F，0-9</code>，不可包含 <code>-</code>。如果校验失败，会返回错误码 <code>InvalidParameter</code>。</p>\n<p>仅当 <code>SEIPayLoadType</code>=<code>5</code>时，该字段需要填写，<code>SEIPayLoadType</code>=<code>100</code>时，该字段内容会被忽略。</p>\n此参数仅对 RTC 透传SEI 生效。当用户设置 <code>SEIPayloadType</code> = <code>5</code> 时，服务端合流转推SEI 的 <code>SEIPayloadUUID</code> 为固定值：<code>566f6c63656e67696e65525443534549</code>，对应16位字符串 <code>VolcengineRTCSEI</code>。",
                "example": "<code>566f6c63656e67696e65525443534549</code>",
                "type": "String"
              }
            ]
          }
        ]
      }
    ]
  }
];

return (<Table
  defaultExpandAllRows={true}
  columns={columns}
  data={data}
  border={{ cell: true, wrapper: true }}
  pagination={false}
/>);
```
## 请求示例
```json
GET https://rtc.volcengineapi.com?Action=GetPushMixedStreamToCDNTask&Version=2023-11-01&AppId=661e****543cf&RoomId=Room1&TaskId=Task1&UserId=user1
```
## 返回示例
```json
{
    "Result": {
        "PushMixedStreamToCDNTask": {
            "StartTime": 1677237518000,
            "EndTime": 1677239022000,
            "Status": 3,
            "StopReason": "StopByAPI",
            "PushStreamState": "6",
            "TargetStreams": {
                "StreamList": [
                    {
                        "Index": 1,
                        "UserId": "user1",
                        "StreamType": 0
                    }
                ]
            },
            "ExcludeStreams": {
                "StreamList": [
                    {
                        "Index": 3,
                        "UserId": "user3",
                        "StreamType": 1
                    }
                ]
            },
            "PushURL": "rtmp://xxxxxx",
            "Layout": {
                "LayoutMode": 2,
                "CustomLayout": {
                    "Canvas": {
                        "Width": 1280,
                        "Height": 720,
                        "Background": "#303342",
                        "BackgroundImage": "http://xxxxxx"
                    },
                    "Regions": [
                        {
                            "StreamIndex": 1,
                            "LocationX": 0,
                            "LocationY": 144,
                            "WidthProportion": 640,
                            "HeightProportion": 288,
                            "ZOrder": 0,
                            "Alpha": 1,
                            "CornerRadius": 0,
                            "RenderMode": 0,
                            "SourceCrop": {
                                "LocationX": 430,
                                "LocationY": 340,
                                "WidthProportion": 430,
                                "HeightProportion": 340
                            },
                            "AlternateImage": "http://xxxxx",
                            "SpatialPosition": [
                                1,
                                1,
                                1
                            ]
                        }
                    ]
                }
            },
            "Encode": {
                "VideoCodec": 0,
                "VideoBitrate": 1600,
                "VideoWidth": 1280,
                "VideoHeight": 720,
                "VideoFps": 15,
                "VideoGop": 4,
                "AudioCodec": 0,
                "AudioProfile": 0,
                "AudioBitrate": 128,
                "AudioSampleRate": 48000,
                "AudioChannels": 2
            },
            "Control": {
                "MediaType": 0,
                "FrameInterpolationMode": 0,
                "MaxIdleTime": 180,
                "VolumeIndicationInterval": 2,
                "VolumeIndicationMode": false,
                "TalkVolume": 0,
                "SpatialConfig": {
                    "AudienceSpatialPosition": [
                        0,
                        0,
                        0
                    ]
                },
                "PushStreamMode": 0
            }
        }
    },
    "ResponseMetadata": {
        "RequestId": "Your_****estId",
        "Action": "GetPushMixedStreamToCDNTask",
        "Version": "2023-11-01",
        "Service": "rtc",
        "Region": "cn-north-1"
    }
}
```

## 错误码
您可访问[公共错误码](https://www.volcengine.com/docs/6348/70426)，获取更多错误码信息。
<div data-source="api-doc-hub" style="display: none"></div>
