# BIMClient
```objectivec
@interface BIMClient : NSObject
```

BIMClient Class
IM SDK 对外接口类，通过此类提供所有 IM SDK 能力接口。


## 静态函数

| 返回 | 名称 |
| --- | --- |
| **instancetype** | [sharedInstance](#BIMClient-sharedinstance) |


## 成员函数

| 返回 | 名称 |
| --- | --- |
| **BOOL** | [initSDK:config:](#BIMClient-initsdk-config) |
| **void** | [unInitSDK](#BIMClient-uninitsdk) |
| **void** | [addConnectListener:](#BIMClient-addconnectlistener) |
| **void** | [removeConnectListener:](#BIMClient-removeconnectlistener) |
| **NSString*** | [getVersion](#BIMClient-getversion) |
| **long long** | [getServerTime](#BIMClient-getservertime) |
| **BIMConnectStauts** | [getConnectStatus](#BIMClient-getconnectstatus) |
| **void** | [login:token:completion:](#BIMClient-login-token-completion) |
| **void** | [logoutWithCompletion:](#BIMClient-logoutwithcompletion) |
| **NSString*** | [getCurrentUserID](#BIMClient-getcurrentuserid) |
| **NSString*** | [getToken](#BIMClient-gettoken) |
| **void** | [addMessageListener:](#BIMClient-addmessagelistener) |
| **void** | [removeMessageListener:](#BIMClient-removemessagelistener) |
| **BIMMessage*** | [createTextMessage:](#BIMClient-createtextmessage) |
| **BIMMessage*** | [createTextMessage:atUserList:](#BIMClient-createtextmessage-atuserlist) |
| **BIMMessage*** | [createTextAtMessage:atUserList:refMessage:hint:](#BIMClient-createtextatmessage-atuserlist-refmessage-hint) |
| **BIMMessage*** | [createCustomMessage:](#BIMClient-createcustommessage) |
| **BIMMessage*** | [createImageMessage:](#BIMClient-createimagemessage) |
| **BIMMessage*** | [createAudioMessage:](#BIMClient-createaudiomessage) |
| **BIMMessage*** | [createVideoMessage:](#BIMClient-createvideomessage) |
| **BIMMessage*** | [createFileMessage:fileName:](#BIMClient-createfilemessage-filename) |
| **NSString*** | [sendMessage:conversationId:saved:progress:completion:](#BIMClient-sendmessage-conversationid-saved-progress-completion) |
| **NSString*** | [addLocalMessage:conversationId:saved:](#BIMClient-addlocalmessage-conversationid-saved) |
| **void** | [deleteMessage:completion:](#BIMClient-deletemessage-completion) |
| **void** | [deleteLocalMessage:completion:](#BIMClient-deletelocalmessage-completion) |
| **void** | [recallMessage:completion:](#BIMClient-recallmessage-completion) |
| **void** | [getHistoryMessageList:option:completion:](#BIMClient-gethistorymessagelist-option-completion) |
| **void** | [refreshMediaMessage:completion:](#BIMClient-refreshmediamessage-completion) |


## 函数说明
<span id="BIMClient-sharedinstance"></span>
### sharedInstance
```objectivec

+ (instancetype)sharedInstance;
```
获取 BIMClient 单例。

**返回值**
BIMClient 单例。


<span id="BIMClient-initsdk-config"></span>
### initSDK:config:
```objectivec

- (BOOL)initSDK:(int)sdkAppID config:(BIMSDKConfig *)config;
```
初始化 SDK。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| sdkAppID | **int** | 从[控制台](https://console.volcengine.com/rtc/im/appManage)获取的应用 ID。<br/>不同应用 ID 无法进行互通。 |
| config | **BIMSDKConfig*** | 配置信息，参看 [BIMSDKConfig](293486.md#bimsdkconfig)。 |

**返回值**

+ `true`: 成功。
+ `false`: 失败。


<span id="BIMClient-uninitsdk"></span>
### unInitSDK
```objectivec

- (void)unInitSDK;
```
注销 SDK，释放内存缓存资源、注销监听等。


<span id="BIMClient-addconnectlistener"></span>
### addConnectListener:
```objectivec

- (void)addConnectListener:(id<BIMConnectListener>)listener;
```
设置长链状态监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **id<BIMConnectListener>** | 长链状态监听方，参看 [BIMConnectListener](293484.md#bimconnectlistener)。 |


<span id="BIMClient-removeconnectlistener"></span>
### removeConnectListener:
```objectivec

- (void)removeConnectListener:(id<BIMConnectListener>)listener;
```
移除长链状态监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **id<BIMConnectListener>** | 长链状态监听方，参看 [BIMConnectListener](293484.md#bimconnectlistener)。 |


<span id="BIMClient-getversion"></span>
### getVersion
```objectivec

- (NSString*)getVersion;
```
获取 SDK 版本号。

**返回值**
SDK 版本号。


<span id="BIMClient-getservertime"></span>
### getServerTime
```objectivec

- (long long)getServerTime;
```
获取服务端时间。

**返回值**
服务端时间戳，单位为毫秒。


<span id="BIMClient-getconnectstatus"></span>
### getConnectStatus
```objectivec

- (BIMConnectStauts)getConnectStatus;
```
获取连接状态。

**返回值**
连接状态，参看 [BIMConnectStauts](293486.md#bimconnectstauts)。


<span id="BIMClient-login-token-completion"></span>
### login:token:completion:
```objectivec

- (void)login:(NSString *)userID token:(NSString *)token completion:(BIMCompletion)completion;
```
登录服务器。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| userID | **NSString*** | 用户 ID。 |
| token | **NSString*** | 用户 Token。 |
| completion | **BIMCompletion** | 登录完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClient-logoutwithcompletion"></span>
### logoutWithCompletion:
```objectivec

- (void)logoutWithCompletion:(BIMCompletion)completion;
```
登出服务器。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| completion | **BIMCompletion** | 登出完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClient-getcurrentuserid"></span>
### getCurrentUserID
```objectivec

- (NSString *)getCurrentUserID;
```
获取当前用户 ID。

**返回值**
用户 ID。


<span id="BIMClient-gettoken"></span>
### getToken
```objectivec

- (NSString *)getToken;
```
获取当前用户 Token。

**返回值**
用户 Token。


<span id="BIMClient-addmessagelistener"></span>
### addMessageListener:
```objectivec

- (void)addMessageListener:(id<BIMMessageListener>)listener;
```
设置消息监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **id<BIMMessageListener>** | 消息监听方，参看 [BIMMessageListener](293484.md#bimmessagelistener)。 |


<span id="BIMClient-removemessagelistener"></span>
### removeMessageListener:
```objectivec

- (void)removeMessageListener:(id<BIMMessageListener>)listener;
```
移除消息监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **id<BIMMessageListener>** | 消息监听方，参看 [BIMMessageListener](293484.md#bimmessagelistener)。 |


<span id="BIMClient-createtextmessage"></span>
### createTextMessage:
```objectivec

- (BIMMessage *)createTextMessage:(NSString *)text;
```
创建文本消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| text | **NSString*** | 消息文本。 |

**返回值**
消息体，参看 [BIMMessage](293486.md#bimmessage)。


<span id="BIMClient-createtextmessage-atuserlist"></span>
### createTextMessage:atUserList:
```objectivec

- (BIMMessage *)createTextMessage:(NSString *)text atUserList:(NSArray<NSNumber *> *)atUserList;
```
创建带 @ 标记的消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| text | **NSString*** | 消息文本。 |
| atUserList | **NSArray<NSNumber*>*** | 需要 @ 的用户列表。 |

**返回值**
消息体，参看 [BIMMessage](293486.md#bimmessage)。


**注意**
仅可在群组中发送带 @ 标记的消息。

<span id="BIMClient-createtextatmessage-atuserlist-refmessage-hint"></span>
### createTextAtMessage:atUserList:refMessage:hint:
```objectivec

- (BIMMessage *)createTextAtMessage:(NSString *)text atUserList:(NSArray<NSNumber *> *)atUserList refMessage:(BIMMessage *)refMessage hint:(NSString *)hint;
```
创建带引用消息的文本消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| text | **NSString*** | 消息文本。 |
| atUserList | **NSArray<NSNumber*>*** | 需要 @ 的用户列表。 |
| refMessage | **BIMMessage*** | 引用的消息，参看 [BIMMessage](293486.md#bimmessage)。 |
| hint | **NSString*** | 业务透传的引用信息 |

**返回值**
消息体，参看 [BIMMessage](293486.md#bimmessage)。


<span id="BIMClient-createcustommessage"></span>
### createCustomMessage:
```objectivec

- (BIMMessage *)createCustomMessage:(NSDictionary *)content;
```
创建自定义消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| content | **NSDictionary*** | 自定义参数。 |

**返回值**
消息体，参看 [BIMMessage](293486.md#bimmessage)。


<span id="BIMClient-createimagemessage"></span>
### createImageMessage:
```objectivec

- (BIMMessage *)createImageMessage:(NSString *)imagePath;
```
创建图片消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| imagePath | **NSString*** | 图片路径。 |

**返回值**
消息体，参看 [BIMMessage](293486.md#bimmessage)。
@note 若图片来自系统相册，需要先把图片导入 App 目录下。


<span id="BIMClient-createaudiomessage"></span>
### createAudioMessage:
```objectivec

- (BIMMessage *)createAudioMessage:(NSString *)audioFilePath;
```
创建语音消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| audioFilePath | **NSString*** | 音频路径。 |

**返回值**
消息体，参看 [BIMMessage](293486.md#bimmessage)。


<span id="BIMClient-createvideomessage"></span>
### createVideoMessage:
```objectivec

- (BIMMessage *)createVideoMessage:(NSString *)videoFilePath;
```
创建视频消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| videoFilePath | **NSString*** | 视频路径。 |

**返回值**
消息体，参看 [BIMMessage](293486.md#bimmessage)。
@note 若视频来自系统相册，需要先把视频导入 App 目录下。


<span id="BIMClient-createfilemessage-filename"></span>
### createFileMessage:fileName:
```objectivec

- (BIMMessage *)createFileMessage:(NSString *)filePath fileName:(NSString *)fileName;
```
创建文件消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| filePath | **NSString*** | 文件路径。 |
| fileName | **NSString*** | 文件名称。 |

**返回值**
消息体，参看 [BIMMessage](293486.md#bimmessage)。


<span id="BIMClient-sendmessage-conversationid-saved-progress-completion"></span>
### sendMessage:conversationId:saved:progress:completion:
```objectivec

- (NSString *)sendMessage:(BIMMessage *)message conversationId:(NSString *)conversationId saved:(BIMMessageCompletion)saved progress:(BIMProgress)progress completion:(BIMMessageCompletion)completion;
```
发送消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| message | **BIMMessage*** | 消息体，由 `createXxxMessage` 接口创建，参看 [BIMMessage](293486.md#bimmessage)。 |
| conversationId | **NSString*** | 会话 ID。 |
| saved | **BIMMessageCompletion** | 消息入库回调，其中message参看[BIMMessage](293486#bimmessage)， `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |
| progress | **BIMProgress** | 媒体消息上传进度回调。 |
| completion | **BIMMessageCompletion** | 发送结果回调，其中message参看[BIMMessage](293486#bimmessage)， `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClient-addlocalmessage-conversationid-saved"></span>
### addLocalMessage:conversationId:saved:
```objectivec

- (NSString *)addLocalMessage:(BIMMessage *)message conversationId:(NSString *)conversationId saved:(BIMMessageCompletion)saved;
```
添加本地消息，不会发送到服务端。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| message | **BIMMessage*** | 待发送的消息对象，需要通过对应的 createXXXMessage 接口进行创建。 |
| conversationId | **NSString*** | 回话id |
| saved | **BIMMessageCompletion** | 消息入库回调，其中message参看[BIMMessage](293486#bimmessage)， `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |

**返回值**
msgID         消息唯一标识


<span id="BIMClient-deletemessage-completion"></span>
### deleteMessage:completion:
```objectivec

- (void)deleteMessage:(BIMMessage *)message completion:(BIMCompletion)completion;
```
删除本地和服务端消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| message | **BIMMessage*** | 待删除的消息，参看 [BIMMessage](293486.md#bimmessage)。 |
| completion | **BIMCompletion** | 结果回调，其中message参看[BIMMessage](293486#bimmessage)， `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClient-deletelocalmessage-completion"></span>
### deleteLocalMessage:completion:
```objectivec

- (void)deleteLocalMessage:(BIMMessage *)message completion:(BIMCompletion)completion;
```
删除本地消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| message | **BIMMessage*** | 待删除的消息，参看 [BIMMessage](293486.md#bimmessage)。 |
| completion | **BIMCompletion** | 结果回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClient-recallmessage-completion"></span>
### recallMessage:completion:
```objectivec

- (void)recallMessage:(BIMMessage *)message completion:(BIMCompletion)completion;
```
撤回消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| message | **BIMMessage*** | 待撤回的消息，参看 [BIMMessage](293486.md#bimmessage)。 |
| completion | **BIMCompletion** | 结果回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClient-gethistorymessagelist-option-completion"></span>
### getHistoryMessageList:option:completion:
```objectivec

- (void)getHistoryMessageList:(NSString *)conversationId option:(BIMGetMessageOption *)option completion:(BIMMessageListCompletion)completion;
```
获取历史消息，返回消息顺序从新到旧。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **NSString*** | 会话 ID。 |
| option | **BIMGetMessageOption*** | 获取消息选项，参看 [BIMGetMessageOption](293486.md#bimgetmessageoption)。 |
| completion | **BIMMessageListCompletion** | 结果回调，其中message参看[BIMMessage](293486#bimmessage)， `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClient-refreshmediamessage-completion"></span>
### refreshMediaMessage:completion:
```objectivec

- (void)refreshMediaMessage:(BIMMessage *)message completion:(BIMCompletion)completion;
```
刷新媒体信息，媒体 URL 过期时调用该方法。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| message | **BIMMessage*** | 待刷新的消息，参看 [BIMMessage](293486.md#bimmessage)。 |
| completion | **BIMCompletion** | 结果回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


# BIMClient (conversation)
```objectivec
@interface BIMClient (conversation)
```

BIMClient (conversation) Class
IM SDK 会话对外接口类，通过此类提供所有会话能力接口。


## 成员函数

| 返回 | 名称 |
| --- | --- |
| **void** | [addConversationListener:](#BIMClientConversation-addconversationlistener) |
| **void** | [removeConversationListener:](#BIMClientConversation-removeconversationlistener) |
| **void** | [getConversationList:count:completion:](#BIMClientConversation-getconversationlist-count-completion) |
| **void** | [getConversation:completion:](#BIMClientConversation-getconversation-completion) |
| **void** | [deleteConversation:completion:](#BIMClientConversation-deleteconversation-completion) |
| **void** | [deleteConversationWithToUid:completion:](#BIMClientConversation-deleteconversationwithtouid-completion) |
| **void** | [setConversationDraft:draft:](#BIMClientConversation-setconversationdraft-draft) |
| **void** | [stickTopConversation:isStickTop:completion:](#BIMClientConversation-sticktopconversation-issticktop-completion) |
| **void** | [muteConversation:mute:completion:](#BIMClientConversation-muteconversation-mute-completion) |
| **void** | [getTotalUnreadMessageCount:](#BIMClientConversation-gettotalunreadmessagecount) |
| **void** | [markConversationRead:completion:](#BIMClientConversation-markconversationread-completion) |
| **void** | [createSingleConversation:completion:](#BIMClientConversation-createsingleconversation-completion) |
| **void** | [createGroupConversation:completion:](#BIMClientConversation-creategroupconversation-completion) |
| **NSArray<id<BIMMember>>*** | [getConversationMemberList:](#BIMClientConversation-getconversationmemberlist) |
| **void** | [setGroupName:name:completion:](#BIMClientConversation-setgroupname-name-completion) |
| **void** | [setGroupNotice:notice:completion:](#BIMClientConversation-setgroupnotice-notice-completion) |
| **void** | [addGroupMemberList:memberList:completion:](#BIMClientConversation-addgroupmemberlist-memberlist-completion) |
| **void** | [removeGroupMemberList:uidList:completion:](#BIMClientConversation-removegroupmemberlist-uidlist-completion) |
| **void** | [leaveGroup:completion:](#BIMClientConversation-leavegroup-completion) |
| **void** | [dissolveGroup:completion:](#BIMClientConversation-dissolvegroup-completion) |
| **void** | [setGroupMemberRole:uidList:role:completion:](#BIMClientConversation-setgroupmemberrole-uidlist-role-completion) |


## 函数说明
<span id="BIMClientConversation-addconversationlistener"></span>
### addConversationListener:
```objectivec

- (void)addConversationListener:(id<BIMConversationListListener>)listener;
```
添加会话监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **id<BIMConversationListListener>** | 会话监听方，参看 [BIMConversationListListener](293484.md#bimconversationlistlistener)。 |


<span id="BIMClientConversation-removeconversationlistener"></span>
### removeConversationListener:
```objectivec

- (void)removeConversationListener:(id<BIMConversationListListener>)listener;
```
移除会话监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **id<BIMConversationListListener>** | 会话监听方，参看 [BIMConversationListListener](293484.md#bimconversationlistlistener)。 |


<span id="BIMClientConversation-getconversationlist-count-completion"></span>
### getConversationList:count:completion:
```objectivec

- (void)getConversationList:(long long)cursor count:(int)count completion:(BIMConversationListCompletion)completion;
```
获取会话列表。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| cursor | **long long** | 分页拉取的游标，第一次默认取传 0。 |
| count | **int** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 100 个会话。 |
| completion | **BIMConversationListCompletion** | 结果回调，其中 `*conversations` 是拉取到的会话，`hasMore`标记数据库是否还有会话 ，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


**注意**

+ 历史会话数量可能很多，因此建议采用分页查询的方式进行接口调用。
+ 如果会话全部拉取完毕，结果回调 BIMConversationListCompletion 中的 `hasMore` 获取字段值为 NO。


<span id="BIMClientConversation-getconversation-completion"></span>
### getConversation:completion:
```objectivec

- (void)getConversation:(NSString *)conversationId completion:(BIMConversationCompletion)completion;
```
获取指定单个会话。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **NSString*** | 会话 ID。 |
| completion | **BIMConversationCompletion** | 结果回调，其中 `conversation` 是拉取到的会话[BIMConversation](293486#bimconversation)，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientConversation-deleteconversation-completion"></span>
### deleteConversation:completion:
```objectivec

- (void)deleteConversation:(NSString *)conversationId completion:(BIMCompletion)completion;
```
通过会话 ID 删除会话。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **NSString*** | 会话 ID。 |
| completion | **BIMCompletion** | 结果回调，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


**注意**
调用本接口后，SDK 会从本地和服务端删除该会话及会话中的历史消息，且不可恢复。

<span id="BIMClientConversation-deleteconversationwithtouid-completion"></span>
### deleteConversationWithToUid:completion:
```objectivec

- (void)deleteConversationWithToUid:(NSNumber *)toUid completion:(BIMCompletion)completion;
```
通过用户 ID 删除会话。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| toUid | **NSNumber*** | 对方用户ID。 |
| completion | **BIMCompletion** | 结果回调，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


**注意**
调用本接口后，SDK 会从本地和服务端删除该会话及会话中的历史消息，且不可恢复。

<span id="BIMClientConversation-setconversationdraft-draft"></span>
### setConversationDraft:draft:
```objectivec

- (void)setConversationDraft:(NSString *)conversationId draft:(NSString *)draft;
```
设置会话草稿。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **NSString*** | 会话 ID。 |
| draft | **NSString*** | 草稿内容。 |


<span id="BIMClientConversation-sticktopconversation-issticktop-completion"></span>
### stickTopConversation:isStickTop:completion:
```objectivec

- (void)stickTopConversation:(NSString *)conversationId isStickTop:(BOOL)isStickTop completion:(BIMCompletion)completion;
```
置顶会话。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **NSString*** | 会话 ID。 |
| isStickTop | **BOOL** | 是否置顶。 |
| completion | **BIMCompletion** | 结果回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientConversation-muteconversation-mute-completion"></span>
### muteConversation:mute:completion:
```objectivec

- (void)muteConversation:(NSString *)conversationId mute:(BOOL)mute completion:(BIMCompletion)completion;
```
设置会话免打扰。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **NSString*** | 会话 ID。 |
| mute | **BOOL** | 是否设置为免打扰。 |
| completion | **BIMCompletion** | 结果回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientConversation-gettotalunreadmessagecount"></span>
### getTotalUnreadMessageCount:
```objectivec

- (void)getTotalUnreadMessageCount:(BIMConversationUnreadCountCompletion)completion;
```
获取所有会话的未读消息总数。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| completion | **BIMConversationUnreadCountCompletion** | 结果回调，其中 `unreadCount` 是获取到的未读数，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


**注意**
会话未读消息不包括设置为免打扰会话中的未读消息。

<span id="BIMClientConversation-markconversationread-completion"></span>
### markConversationRead:completion:
```objectivec

- (void)markConversationRead:(NSString *)conversationId completion:(BIMCompletion)completion;
```
标记会话已读。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **NSString*** | 会话 ID。 |
| completion | **BIMCompletion** | 结果回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientConversation-createsingleconversation-completion"></span>
### createSingleConversation:completion:
```objectivec

- (void)createSingleConversation:(NSNumber *)toUid completion:(BIMConversationCompletion)completion;
```
创建单聊会话。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| toUid | **NSNumber*** | 对方用户 ID。 |
| completion | **BIMConversationCompletion** | 结果回调，其中 `conversation` 是拉取到的会话 参看[BIMConversation](293486#bimconversation)，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode) |


<span id="BIMClientConversation-creategroupconversation-completion"></span>
### createGroupConversation:completion:
```objectivec

- (void)createGroupConversation:(NSSet<NSNumber *> *)uidList completion:(BIMConversationCompletion)completion;
```
创建群聊。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| uidList | **NSSet<NSNumber*>*** | 用户 ID 列表。 |
| completion | **BIMConversationCompletion** | 结果回调，其中 `conversation` 是拉取到的会话 参看[BIMConversation](293486#bimconversation)，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode) |


<span id="BIMClientConversation-getconversationmemberlist"></span>
### getConversationMemberList:
```objectivec

- (NSArray<id<BIMMember>> *)getConversationMemberList:(NSString *)conversationId;
```
获取群成员。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **NSString*** | 会话 ID。 |

**返回值**
群成员列表回调，参看 [BIMMember](293486.md#bimmember)。


<span id="BIMClientConversation-setgroupname-name-completion"></span>
### setGroupName:name:completion:
```objectivec

- (void)setGroupName:(NSString *)conversationId name:(NSString *)name completion:(BIMCompletion)completion;
```
设置群组名称。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **NSString*** | 会话 ID。 |
| name | **NSString*** | 群组名称。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientConversation-setgroupnotice-notice-completion"></span>
### setGroupNotice:notice:completion:
```objectivec

- (void)setGroupNotice:(NSString *)conversationId notice:(NSString *)notice completion:(BIMCompletion)completion;
```
设置群公告。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **NSString*** | 会话 ID。 |
| notice | **NSString*** | 群公告内容。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientConversation-addgroupmemberlist-memberlist-completion"></span>
### addGroupMemberList:memberList:completion:
```objectivec

- (void)addGroupMemberList:(NSString *)conversationId memberList:(NSOrderedSet<NSNumber *> *)memberList completion:(BIMParticipantsCompletion)completion;
```
添加群成员。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **NSString*** | 会话 ID。 |
| memberList | **NSOrderedSet<NSNumber*>*** | 待添加的群成员 ID 列表。 |
| completion | **BIMParticipantsCompletion** | 结果回调，其中 `*participants` 是群成员 ID, `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientConversation-removegroupmemberlist-uidlist-completion"></span>
### removeGroupMemberList:uidList:completion:
```objectivec

- (void)removeGroupMemberList:(NSString *)conversationId uidList:(NSSet<NSNumber *> *)uidList completion:(BIMParticipantsCompletion)completion;
```
移除群成员。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **NSString*** | 会话 ID。 |
| uidList | **NSSet<NSNumber*>*** | 待移除的群成员 ID 列表。 |
| completion | **BIMParticipantsCompletion** | 结果回调，其中 `*participants` 是群成员 ID，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientConversation-leavegroup-completion"></span>
### leaveGroup:completion:
```objectivec

- (void)leaveGroup:(NSString *)conversationId completion:(BIMCompletion)completion;
```
离开群组。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **NSString*** | 会话 ID。 |
| completion | **BIMCompletion** | 结果回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientConversation-dissolvegroup-completion"></span>
### dissolveGroup:completion:
```objectivec

- (void)dissolveGroup:(NSString *)conversationId completion:(BIMCompletion)completion;
```
解散群组。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **NSString*** | 会话 ID。 |
| completion | **BIMCompletion** | 结果回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientConversation-setgroupmemberrole-uidlist-role-completion"></span>
### setGroupMemberRole:uidList:role:completion:
```objectivec

- (void)setGroupMemberRole:(NSString *)conversationId uidList:(NSSet<NSNumber *> *)uidList role:(BIMMemberRole)role completion:(BIMCompletion)completion;
```
设置群成员角色。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| conversationId | **NSString*** | 会话 ID。 |
| uidList | **NSSet<NSNumber*>*** | 需要更改身份的群成员列表。 |
| role | **BIMMemberRole** | 群组角色，参看 [BIMMemberRole](293486.md#bimmemberrole)。 |
| completion | **BIMCompletion** | 结果回调， 其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


# BIMClient (Friend)
```objectivec
@interface BIMClient (Friend)
```

BIMClient (Friend) Class
IM SDK 联系人对外接口类，通过此类提供所有联系人能力接口。


## 成员函数

| 返回 | 名称 |
| --- | --- |
| **void** | [getFriendApplyList:limit:completion:](#BIMClientFriend-getfriendapplylist-limit-completion) |
| **void** | [getFriendListCompletion:](#BIMClientFriend-getfriendlistcompletion) |
| **void** | [applyFriend:completion:](#BIMClientFriend-applyfriend-completion) |
| **void** | [replyFriendApply:completion:](#BIMClientFriend-replyfriendapply-completion) |
| **void** | [deleteFriend:completion:](#BIMClientFriend-deletefriend-completion) |
| **void** | [markFriendApplyRead:](#BIMClientFriend-markfriendapplyread) |
| **void** | [getFriendApplyUnreadCount:](#BIMClientFriend-getfriendapplyunreadcount) |
| **void** | [addFriendListener:](#BIMClientFriend-addfriendlistener) |
| **void** | [removeFriendListener:](#BIMClientFriend-removefriendlistener) |


## 函数说明
<span id="BIMClientFriend-getfriendapplylist-limit-completion"></span>
### getFriendApplyList:limit:completion:
```objectivec

- (void)getFriendApplyList:(long long)cursor limit:(long)limit completion:(BIMFriendApplyListCompletion)completion;
```
获取好友申请列表，按发起申请的时间排序（从新到旧）。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| cursor | **long long** | 游标，首页拉取可使用 0。 |
| limit | **long** | 查询条数。 |
| completion | **BIMFriendApplyListCompletion** | 完成回调，其中 `infos` 是好友申请信息，参看 [BIMFriendApplyInfo](293486#bimfriendapplyinfo)，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientFriend-getfriendlistcompletion"></span>
### getFriendListCompletion:
```objectivec

- (void)getFriendListCompletion:(BIMFriendListCompletion)completion;
```
获取好友列表（全量）。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| completion | **BIMFriendListCompletion** | 完成回调，其中 `infos` 是好友信息，参看 [BIMFriendInfo](293486#bimfriendinfo)，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientFriend-applyfriend-completion"></span>
### applyFriend:completion:
```objectivec

- (void)applyFriend:(BIMApplyInfo *)applyInfo completion:(BIMCompletion)completion;
```
申请添加好友。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| applyInfo | **BIMApplyInfo*** | 申请信息，参看 [BIMApplyInfo](293486.md#bimapplyinfo)。 |
| completion | **BIMCompletion** | 结果回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientFriend-replyfriendapply-completion"></span>
### replyFriendApply:completion:
```objectivec

- (void)replyFriendApply:(BIMReplyInfo *)replyInfo completion:(BIMCompletion)completion;
```
回应好友申请。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| replyInfo | **BIMReplyInfo*** | 回应信息, 参看 [BIMReplyInfo](293486.md#bimreplyinfo)。 |
| completion | **BIMCompletion** | 结果回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientFriend-deletefriend-completion"></span>
### deleteFriend:completion:
```objectivec

- (void)deleteFriend:(long long)uid completion:(BIMCompletion)completion;
```
删除好友。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| uid | **long long** | 联系人用户 ID。 |
| completion | **BIMCompletion** | 结果回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientFriend-markfriendapplyread"></span>
### markFriendApplyRead:
```objectivec

- (void)markFriendApplyRead:(BIMCompletion)completion;
```
标记好友申请列表已读。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| completion | **BIMCompletion** | 结果回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientFriend-getfriendapplyunreadcount"></span>
### getFriendApplyUnreadCount:
```objectivec

- (void)getFriendApplyUnreadCount:(BIMFriendApplyUnreadCompletion)completion;
```
获取好友申请未读数。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| completion | **BIMFriendApplyUnreadCompletion** | 结果回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientFriend-addfriendlistener"></span>
### addFriendListener:
```objectivec

- (void)addFriendListener:(id<BIMFriendListener>)listener;
```
设置联系人监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **id<BIMFriendListener>** | 联系人消息事件回调监听方，参看 [BIMFriendListener](293484.md#bimfriendlistener)。 |


<span id="BIMClientFriend-removefriendlistener"></span>
### removeFriendListener:
```objectivec

- (void)removeFriendListener:(id<BIMFriendListener>)listener;
```
移除联系人监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **id<BIMFriendListener>** | 结果回调，参看 [BIMFriendListener](293484.md#bimfriendlistener) 。 |


# BIMClient (liveGroup)
```objectivec
@interface BIMClient (liveGroup)
```

BIMClient (liveGroup) Class
IM SDK 直播群对外接口类，通过此类提供所有直播群能力接口。


## 成员函数

| 返回 | 名称 |
| --- | --- |
| **void** | [addLiveGroupMessageListener:](#BIMClientLiveGroup-addlivegroupmessagelistener) |
| **void** | [removeLiveGroupMessageListener:](#BIMClientLiveGroup-removelivegroupmessagelistener) |
| **void** | [addLiveConversationListener:](#BIMClientLiveGroup-addliveconversationlistener) |
| **void** | [removeLiveConversationListener:](#BIMClientLiveGroup-removeliveconversationlistener) |
| **void** | [addLiveGroupMemberListener:](#BIMClientLiveGroup-addlivegroupmemberlistener) |
| **void** | [removeLiveGroupMemberListener:](#BIMClientLiveGroup-removelivegroupmemberlistener) |
| **NSString*** | [sendLiveGroupMessage:conversation:completion:](#BIMClientLiveGroup-sendlivegroupmessage-conversation-completion) |
| **NSString*** | [sendLiveGroupMessage:conversation:priority:completion:](#BIMClientLiveGroup-sendlivegroupmessage-conversation-priority-completion) |
| **void** | [getOwnerLiveGroupList:count:completion:](#BIMClientLiveGroup-getownerlivegrouplist-count-completion) |
| **void** | [getALLLiveGroupList:count:completion:](#BIMClientLiveGroup-getalllivegrouplist-count-completion) |
| **void** | [getLiveGroup:completion:](#BIMClientLiveGroup-getlivegroup-completion) |
| **void** | [createLiveGroup:completion:](#BIMClientLiveGroup-createlivegroup-completion) |
| **void** | [joinLiveGroup:completion:](#BIMClientLiveGroup-joinlivegroup-completion) |
| **void** | [leaveLiveGroup:completion:](#BIMClientLiveGroup-leavelivegroup-completion) |
| **void** | [dissolveLiveGroup:completion:](#BIMClientLiveGroup-dissolvelivegroup-completion) |
| **void** | [getLiveGroupMemberBlockList:cursor:count:completion:](#BIMClientLiveGroup-getlivegroupmemberblocklist-cursor-count-completion) |
| **void** | [addLiveGroupMemberBlockList:uidList:completion:](#BIMClientLiveGroup-addlivegroupmemberblocklist-uidlist-completion) |
| **void** | [removeLiveGroupMemberBlockList:uidList:completion:](#BIMClientLiveGroup-removelivegroupmemberblocklist-uidlist-completion) |
| **void** | [getLiveGroupMemberOnlineList:cursor:count:completion:](#BIMClientLiveGroup-getlivegroupmemberonlinelist-cursor-count-completion) |
| **void** | [getLiveGroupMemberSilentList:cursor:count:completion:](#BIMClientLiveGroup-getlivegroupmembersilentlist-cursor-count-completion) |
| **void** | [setLiveGroupSilent:isSilent:completion:](#BIMClientLiveGroup-setlivegroupsilent-issilent-completion) |
| **void** | [addLiveGroupMemberSilentList:uidList:blockTime:completion:](#BIMClientLiveGroup-addlivegroupmembersilentlist-uidlist-blocktime-completion) |
| **void** | [removeLiveGroupMemberSilentList:uidList:completion:](#BIMClientLiveGroup-removelivegroupmembersilentlist-uidlist-completion) |
| **void** | [kickLiveGroupMemberList:uidList:completion:](#BIMClientLiveGroup-kicklivegroupmemberlist-uidlist-completion) |
| **void** | [transLiveGroupOwner:uid:completion:](#BIMClientLiveGroup-translivegroupowner-uid-completion) |
| **void** | [addLiveGroupAdmin:uidList:completion:](#BIMClientLiveGroup-addlivegroupadmin-uidlist-completion) |
| **void** | [removeLiveGroupAdmin:uidList:completion:](#BIMClientLiveGroup-removelivegroupadmin-uidlist-completion) |
| **void** | [getLiveGroupMemberList:cursor:count:completion:](#BIMClientLiveGroup-getlivegroupmemberlist-cursor-count-completion) |
| **void** | [getLiveGroupMemberSilentWhiteList:cursor:count:completion:](#BIMClientLiveGroup-getlivegroupmembersilentwhitelist-cursor-count-completion) |
| **void** | [addLiveGroupMemberSilentWhiteList:uidList:completion:](#BIMClientLiveGroup-addlivegroupmembersilentwhitelist-uidlist-completion) |
| **void** | [removeLiveGroupMemberSilentWhiteList:uidList:completion:](#BIMClientLiveGroup-removelivegroupmembersilentwhitelist-uidlist-completion) |
| **void** | [getLiveGroupOnlineMemberCount:completion:](#BIMClientLiveGroup-getlivegrouponlinemembercount-completion) |
| **void** | [setLiveGroupNotice:notice:completion:](#BIMClientLiveGroup-setlivegroupnotice-notice-completion) |
| **void** | [setLiveGroupDescription:description:completion:](#BIMClientLiveGroup-setlivegroupdescription-description-completion) |
| **void** | [setLiveGroupName:name:completion:](#BIMClientLiveGroup-setlivegroupname-name-completion) |
| **void** | [setLiveGroupIcon:url:completion:](#BIMClientLiveGroup-setlivegroupicon-url-completion) |
| **void** | [getLiveGroupMemberOnlineInfo:uidList:completion:](#BIMClientLiveGroup-getlivegroupmemberonlineinfo-uidlist-completion) |
| **void** | [getLiveGroupHistoryMessageList:cursor:limit:completion:](#BIMClientLiveGroup-getlivegrouphistorymessagelist-cursor-limit-completion) |


## 函数说明
<span id="BIMClientLiveGroup-addlivegroupmessagelistener"></span>
### addLiveGroupMessageListener:
```objectivec

- (void)addLiveGroupMessageListener:(id<BIMLiveMessageListener>)listener;
```
设置直播群消息监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **id<BIMLiveMessageListener>** | 直播群消息事件回调监听方，参看 [BIMLiveMessageListener](293484.md#bimlivemessagelistener)。 |


<span id="BIMClientLiveGroup-removelivegroupmessagelistener"></span>
### removeLiveGroupMessageListener:
```objectivec

- (void)removeLiveGroupMessageListener:(id<BIMLiveMessageListener>)listener;
```
移除直播群消息监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **id<BIMLiveMessageListener>** | 直播群消息事件回调监听方，参看 [BIMLiveMessageListener](293484.md#bimlivemessagelistener)。 |


<span id="BIMClientLiveGroup-addliveconversationlistener"></span>
### addLiveConversationListener:
```objectivec

- (void)addLiveConversationListener:(id<BIMLiveConversationListener>)listener;
```
设置直播群会话监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **id<BIMLiveConversationListener>** | 直播群会话事件回调监听方，参看 [BIMLiveConversationListener](293484.md#bimliveconversationlistener)。 |


<span id="BIMClientLiveGroup-removeliveconversationlistener"></span>
### removeLiveConversationListener:
```objectivec

- (void)removeLiveConversationListener:(id<BIMLiveConversationListener>)listener;
```
移除直播群会话监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **id<BIMLiveConversationListener>** | 直播群会话事件回调监听方，参看 [BIMLiveConversationListener](293484.md#bimliveconversationlistener)。 |


<span id="BIMClientLiveGroup-addlivegroupmemberlistener"></span>
### addLiveGroupMemberListener:
```objectivec

- (void)addLiveGroupMemberListener:(id<BIMLiveGroupMemberEventListener>)listener;
```
设置直播群成员监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **id<BIMLiveGroupMemberEventListener>** | 直播群成员事件回调监听方，参看 [BIMLiveGroupMemberEventListener](293484.md#bimlivegroupmembereventlistener)。 |


<span id="BIMClientLiveGroup-removelivegroupmemberlistener"></span>
### removeLiveGroupMemberListener:
```objectivec

- (void)removeLiveGroupMemberListener:(id<BIMLiveGroupMemberEventListener>)listener;
```
移除直播群成员监听。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| listener | **id<BIMLiveGroupMemberEventListener>** | 直播群成员事件回调监听方，参看 [BIMLiveGroupMemberEventListener](293484.md#bimlivegroupmembereventlistener)。 |


<span id="BIMClientLiveGroup-sendlivegroupmessage-conversation-completion"></span>
### sendLiveGroupMessage:conversation:completion:
```objectivec

- (NSString *)sendLiveGroupMessage:(BIMMessage *)message conversation:(NSString *)shortId completion:(BIMMessageCompletion)completion;
```
发送直播群消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| message | **BIMMessage*** | 消息体，参看 [BIMMessage](293486.md#bimmessage)。 |
| shortId | **NSString*** | 会话 shortId。 |
| completion | **BIMMessageCompletion** | 完成回调，其中`message`参看[BIMMessage](293486#bimmessage)， `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-sendlivegroupmessage-conversation-priority-completion"></span>
### sendLiveGroupMessage:conversation:priority:completion:
```objectivec

- (NSString *)sendLiveGroupMessage:(BIMMessage *)message conversation:(NSString *)shortId priority:(BIMMessagePriority)priority completion:(BIMMessageCompletion)completion;
```
发送直播群消息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| message | **BIMMessage*** | 消息体，参看 [BIMMessage](293486.md#bimmessage)。 |
| shortId | **NSString*** | 会话 shortId。 |
| priority | **BIMMessagePriority** | 设置消息优先级，参看 [BIMMessagePriority](293486.md#bimmessagepriority)。 |
| completion | **BIMMessageCompletion** | 完成回调，其中 `message` 参看 [BIMMessage](293486#bimmessage)， `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-getownerlivegrouplist-count-completion"></span>
### getOwnerLiveGroupList:count:completion:
```objectivec

- (void)getOwnerLiveGroupList:(uint64_t)cursor count:(int)count completion:(BIMLiveGroupListCompletion)completion;
```
获取我是群主和管理员的直播群列表。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| cursor | **uint64_t** | 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextCursor。 |
| count | **int** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 20 个会话。 |
| completion | **BIMLiveGroupListCompletion** | 完成回调，其中 `conversations` 是拉取到的会话参看[BIMConversation](293486#bimconversation)，`hasMore`标记数据库是否还有会话 ，`nextCursor`标记下次拉取游标的位置，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-getalllivegrouplist-count-completion"></span>
### getALLLiveGroupList:count:completion:
```objectivec

- (void)getALLLiveGroupList:(uint64_t)cursor count:(int)count completion:(BIMLiveGroupListCompletion)completion;
```
获取所有直播群列表。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| cursor | **uint64_t** | 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextCursor。 |
| count | **int** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 20 个会话。 |
| completion | **BIMLiveGroupListCompletion** | 完成回调，其中 `conversations` 是拉取到的会话参看[BIMConversation](293486#bimconversation)，`hasMore`标记数据库是否还有会话 ，`nextCursor`标记下次拉取游标的位置，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-getlivegroup-completion"></span>
### getLiveGroup:completion:
```objectivec

- (void)getLiveGroup:(NSString *)shortId completion:(BIMConversationCompletion)completion;
```
获取直播群信息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| completion | **BIMConversationCompletion** | 完成回调，其中 `conversations` 是拉取到的会话参看[BIMConversation](293486#bimconversation)， `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-createlivegroup-completion"></span>
### createLiveGroup:completion:
```objectivec

- (void)createLiveGroup:(BIMGroupInfo *)groupInfo completion:(BIMConversationCompletion)completion;
```
创建直播群。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| groupInfo | **BIMGroupInfo*** | 创建直播群参数信息，包括名称，头像等，参看 [BIMGroupInfo](293486.md#bimgroupinfo)。 |
| completion | **BIMConversationCompletion** | 完成回调，其中 `conversations` 是成功创建的会话参看[BIMConversation](293486#bimconversation)， `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-joinlivegroup-completion"></span>
### joinLiveGroup:completion:
```objectivec

- (void)joinLiveGroup:(NSString *)shortId completion:(BIMConversationJoinCompletion)completion;
```
加入直播群。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| completion | **BIMConversationJoinCompletion** | 完成回调，其中 `conversations` 是拉取到的会话参看[BIMConversation](293486#bimconversation)， `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


**注意**
同一时间只能进入一个直播群，直播群不提供本地存储

<span id="BIMClientLiveGroup-leavelivegroup-completion"></span>
### leaveLiveGroup:completion:
```objectivec

- (void)leaveLiveGroup:(NSString *)shortId completion:(BIMCompletion)completion;
```
离开直播群。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-dissolvelivegroup-completion"></span>
### dissolveLiveGroup:completion:
```objectivec

- (void)dissolveLiveGroup:(NSString *)shortId completion:(BIMCompletion)completion;
```
解散直播群（仅群主）。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-getlivegroupmemberblocklist-cursor-count-completion"></span>
### getLiveGroupMemberBlockList:cursor:count:completion:
```objectivec

- (void)getLiveGroupMemberBlockList:(NSString *)shortId cursor:(uint64_t)cursor count:(int)count completion:(BIMMemberListCompletion)completion;
```
获取直播群成员黑名单。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| cursor | **uint64_t** | 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextCursor。 |
| count | **int** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 20 个成员。 |
| completion | **BIMMemberListCompletion** | 完成回调，其中 `members` 是拉取到的成员列表参看[BIMMember](293486#bimmember)，`hasMore`标记数据库是否还有成员 ，`nextCursor`标记下次拉取游标的位置，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-addlivegroupmemberblocklist-uidlist-completion"></span>
### addLiveGroupMemberBlockList:uidList:completion:
```objectivec

- (void)addLiveGroupMemberBlockList:(NSString *)shortId uidList:(NSSet<NSNumber *> *)uidList completion:(BIMCompletion)completion;
```
添加直播群成员黑名单。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| uidList | **NSSet<NSNumber*>*** | 待加入黑名单用户UID列表。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-removelivegroupmemberblocklist-uidlist-completion"></span>
### removeLiveGroupMemberBlockList:uidList:completion:
```objectivec

- (void)removeLiveGroupMemberBlockList:(NSString *)shortId uidList:(NSSet<NSNumber *> *)uidList completion:(BIMCompletion)completion;
```
移除直播群成员黑名单。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| uidList | **NSSet<NSNumber*>*** | 待移除黑名单用户UID列表。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-getlivegroupmemberonlinelist-cursor-count-completion"></span>
### getLiveGroupMemberOnlineList:cursor:count:completion:
```objectivec

- (void)getLiveGroupMemberOnlineList:(NSString *)shortId cursor:(uint64_t)cursor count:(int)count completion:(BIMMemberListCompletion)completion;
```
获取直播群在线成员列表。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| cursor | **uint64_t** | 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextCursor。 |
| count | **int** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 20 个成员。 |
| completion | **BIMMemberListCompletion** | 完成回调，其中 `members` 是拉取到的成员列表参看[BIMMember](293486#bimmember)，`hasMore`标记数据库是否还有成员 ，`nextCursor`标记下次拉取游标的位置，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-getlivegroupmembersilentlist-cursor-count-completion"></span>
### getLiveGroupMemberSilentList:cursor:count:completion:
```objectivec

- (void)getLiveGroupMemberSilentList:(NSString *)shortId cursor:(uint64_t)cursor count:(int)count completion:(BIMMemberListCompletion)completion;
```
获取直播群被禁言成员列表。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| cursor | **uint64_t** | 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextCursor。 |
| count | **int** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 20 个成员。 |
| completion | **BIMMemberListCompletion** | 完成回调，其中 `members` 是拉取到的成员列表参看[BIMMember](293486#bimmember)，`hasMore`标记数据库是否还有成员 ，`nextCursor`标记下次拉取游标的位置，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-setlivegroupsilent-issilent-completion"></span>
### setLiveGroupSilent:isSilent:completion:
```objectivec

- (void)setLiveGroupSilent:(NSString *)shortId isSilent:(BOOL)isSilent completion:(BIMCompletion)completion;
```
设置直播群禁言(所有人)。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| isSilent | **BOOL** | 是否禁言。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-addlivegroupmembersilentlist-uidlist-blocktime-completion"></span>
### addLiveGroupMemberSilentList:uidList:blockTime:completion:
```objectivec

- (void)addLiveGroupMemberSilentList:(NSString *)shortId uidList:(NSSet<NSNumber *> *)uidList blockTime:(long long)blockTime completion:(BIMCompletion)completion;
```
设置直播群禁言(指定用户)。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| uidList | **NSSet<NSNumber*>*** | 待禁言用户UID列表。 |
| blockTime | **long long** | 禁言时间。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-removelivegroupmembersilentlist-uidlist-completion"></span>
### removeLiveGroupMemberSilentList:uidList:completion:
```objectivec

- (void)removeLiveGroupMemberSilentList:(NSString *)shortId uidList:(NSSet<NSNumber *> *)uidList completion:(BIMCompletion)completion;
```
设置直播群用户解除禁言(指定用户)。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| uidList | **NSSet<NSNumber*>*** | 待解除禁言用户UID列表。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-kicklivegroupmemberlist-uidlist-completion"></span>
### kickLiveGroupMemberList:uidList:completion:
```objectivec

- (void)kickLiveGroupMemberList:(NSString *)shortId uidList:(NSSet<NSNumber *> *)uidList completion:(BIMCompletion)completion;
```
踢出直播群成员。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| uidList | **NSSet<NSNumber*>*** | 待被踢出群用户UID列表。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-translivegroupowner-uid-completion"></span>
### transLiveGroupOwner:uid:completion:
```objectivec

- (void)transLiveGroupOwner:(NSString *)shortId uid:(long long)uid completion:(BIMCompletion)completion;
```
转让群主。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| uid | **long long** | 转让群主用户uid。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-addlivegroupadmin-uidlist-completion"></span>
### addLiveGroupAdmin:uidList:completion:
```objectivec

- (void)addLiveGroupAdmin:(NSString *)shortId uidList:(NSSet<NSNumber *> *)uidList completion:(BIMCompletion)completion;
```
设置直播群管理员。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 会话 ID。 |
| uidList | **NSSet<NSNumber*>*** | 需要更改身份的群成员列表。 |
| completion | **BIMCompletion** | 结果回调。 |


<span id="BIMClientLiveGroup-removelivegroupadmin-uidlist-completion"></span>
### removeLiveGroupAdmin:uidList:completion:
```objectivec

- (void)removeLiveGroupAdmin:(NSString *)shortId uidList:(NSSet<NSNumber *> *)uidList completion:(BIMCompletion)completion;
```
移除直播群管理员。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 会话 ID。 |
| uidList | **NSSet<NSNumber*>*** | 需要更改身份的群成员列表。 |
| completion | **BIMCompletion** | 结果回调。 |


<span id="BIMClientLiveGroup-getlivegroupmemberlist-cursor-count-completion"></span>
### getLiveGroupMemberList:cursor:count:completion:
```objectivec

- (void)getLiveGroupMemberList:(NSString *)shortId cursor:(uint64_t)cursor count:(int)count completion:(BIMMemberListCompletion)completion;
```
获取直播群群主管理员等常驻成员列表。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| cursor | **uint64_t** | 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextCursor。 |
| count | **int** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 20 个成员。 |
| completion | **BIMMemberListCompletion** | 完成回调，其中 `members` 是拉取到的成员列表参看[BIMMember](293486#bimmember)，`hasMore`标记数据库是否还有成员 ，`nextCursor`标记下次拉取游标的位置，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-getlivegroupmembersilentwhitelist-cursor-count-completion"></span>
### getLiveGroupMemberSilentWhiteList:cursor:count:completion:
```objectivec

- (void)getLiveGroupMemberSilentWhiteList:(NSString *)shortId cursor:(uint64_t)cursor count:(int)count completion:(BIMMemberListCompletion)completion;
```
获取直播群会话禁言白名单。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| cursor | **uint64_t** | 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextCursor。 |
| count | **int** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 20 个成员。 |
| completion | **BIMMemberListCompletion** | 完成回调，其中 `members` 是拉取到的成员列表参看[BIMMember](293486#bimmember)，`hasMore`标记数据库是否还有成员 ，`nextCursor`标记下次拉取游标的位置，`error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-addlivegroupmembersilentwhitelist-uidlist-completion"></span>
### addLiveGroupMemberSilentWhiteList:uidList:completion:
```objectivec

- (void)addLiveGroupMemberSilentWhiteList:(NSString *)shortId uidList:(NSSet<NSNumber *> *)uidList completion:(BIMCompletion)completion;
```
添加禁言会话白名单。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| uidList | **NSSet<NSNumber*>*** | 待禁言用户UID列表。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-removelivegroupmembersilentwhitelist-uidlist-completion"></span>
### removeLiveGroupMemberSilentWhiteList:uidList:completion:
```objectivec

- (void)removeLiveGroupMemberSilentWhiteList:(NSString *)shortId uidList:(NSSet<NSNumber *> *)uidList completion:(BIMCompletion)completion;
```
移除禁言会话白名单。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| uidList | **NSSet<NSNumber*>*** | 待解除禁言用户UID列表。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-getlivegrouponlinemembercount-completion"></span>
### getLiveGroupOnlineMemberCount:completion:
```objectivec

- (void)getLiveGroupOnlineMemberCount:(NSString *)shortId completion:(BIMOnlineMemberCountCompletion)completion;
```
获取直播群在线人数。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群会话 shortId。 |
| completion | **BIMOnlineMemberCountCompletion** | 在线人数结果回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-setlivegroupnotice-notice-completion"></span>
### setLiveGroupNotice:notice:completion:
```objectivec

- (void)setLiveGroupNotice:(NSString *)shortId notice:(NSString *)notice completion:(BIMCompletion)completion;
```
设置直播群公告。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| notice | **NSString*** | 直播群公告内容。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-setlivegroupdescription-description-completion"></span>
### setLiveGroupDescription:description:completion:
```objectivec

- (void)setLiveGroupDescription:(NSString *)shortId description:(NSString *)description completion:(BIMCompletion)completion;
```
设置直播群描述。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| description | **NSString*** | 直播群描述内容。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-setlivegroupname-name-completion"></span>
### setLiveGroupName:name:completion:
```objectivec

- (void)setLiveGroupName:(NSString *)shortId name:(NSString *)name completion:(BIMCompletion)completion;
```
设置直播群名称。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| name | **NSString*** | 直播群名称。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-setlivegroupicon-url-completion"></span>
### setLiveGroupIcon:url:completion:
```objectivec

- (void)setLiveGroupIcon:(NSString *)shortId url:(NSString *)url completion:(BIMCompletion)completion;
```
设置直播群头像。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| url | **NSString*** | 直播群头像 url 地址。 |
| completion | **BIMCompletion** | 完成回调，其中 `error` 参看 [BIMErrorCode](293485.md#bimerrorcode)。 |


<span id="BIMClientLiveGroup-getlivegroupmemberonlineinfo-uidlist-completion"></span>
### getLiveGroupMemberOnlineInfo:uidList:completion:
```objectivec

- (void)getLiveGroupMemberOnlineInfo:(NSString *)shortId uidList:(NSSet<NSNumber *> *)uidList completion:(BIMOnlineMemberInfoCompletion)completion;
```
获取直播群成员在线信息。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群 shortId。 |
| uidList | **NSSet<NSNumber*>*** | 用户 UID 列表 |
| completion | **BIMOnlineMemberInfoCompletion** | 结果回调，参看 [BIMLiveMemberOnlineInfo](293486.md#bimlivememberonlineinfo) |


<span id="BIMClientLiveGroup-getlivegrouphistorymessagelist-cursor-limit-completion"></span>
### getLiveGroupHistoryMessageList:cursor:limit:completion:
```objectivec

- (void)getLiveGroupHistoryMessageList:(NSString *)shortId cursor:(uint64_t)cursor limit:(int)limit completion:(BIMLiveMessageListCompletion)completion;
```
获取直播群历史消息(从新到旧)。

**传入参数**

| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| shortId | **NSString*** | 直播群会话 shortId。 |
| cursor | **uint64_t** | 直播群历史消息拉取起点 |
| limit | **int** | 分页拉取的个数。一次分页拉取不宜太多，否则可能影响拉取的速度，建议每次拉取 20 个。 |
| completion | **BIMLiveMessageListCompletion** | 结果回调 |