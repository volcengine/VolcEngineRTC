---
is_dir: False    # True for dir; False for doc
status: 1    # 0 for offline; 1 for online; 2 for whitelist; 4 for online but hidden in TOC
keywords: 实时音视频    # use ',' as separator
---

如果你希望从此前版本的 iOS 客户端 SDK 升级到最新的客户端 SDK，请在工程文件中，替换最新的客户端 SDK 文件，并参考本文完成 API，回调，参数类型等的替换。

> 升级过程中，你可能需要参考[历史版本文档归档](70068)。

## 3.58

### 类型变更

| 变更详情 | 功能模块 | 改动的数据类型 | 说明 |
| --- | --- | --- | --- |
| 新增枚举值 | 音效 | [`ByteRTCPlayerState`](iOS-keytype#bytertcplayerstate) |  |

## 3.57

### 重要说明

1. 自 3.57 版本起，iOS SDK 支持的最低版本为 iOS 11.0。
1. 该版本将必选库 `RealXBase.xcframework` 从主库 `VolcEngineRTC.xcframework` 中拆出，如果你只集成了主库或集成了主库和部分自选插件，则需对集成方式进行调整。3.57 以前版本需要引入一个必选主库 `VolcEngineRTC.xcframework`，3.57 及之后版本需要引入两个必选主库 `VolcEngineRTC.xcframework` 和 `RealXBase.xcframework`，参看 [iOS 集成指南](https://www.volcengine.com/docs/6348/1108726#%E9%9B%86%E6%88%90%E6%96%B9%E5%BC%8F-2)的更新。

1. 提供 SAMI 音频技术动态库插件、VP8 编解码插件、AAC 软件编解码插件，详情参看[按需集成插件以缩小应用体积](https://www.volcengine.com/docs/6348/1108726#ios)。

1. 该版本对所有不规范的 API 命名进行了统一修复，提升代码规范度和易用性。以下仅为变更示例，请至[类型详情](iOS-keytype)页查看所用类型的具体改动。

    | 变更对象 | 变更详情 | 旧版示例 | 新版示例 |
    | --- | --- | --- | --- |
    | 枚举值 | 统一以 “ByteRTC” 为前缀，改为“类名+值名” | 以 `ByteRTCSEICountPerFrame` 为例： <ul><li>kSingleSEIPerFrame = 0,</li><li>kMultiSEIPerFrame = 1,</li></ul> | 以 `ByteRTCSEICountPerFrame` 为例：<ul><li>ByteRTCSEICountPerFrameSingle = 0,</li><li>ByteRTCSEICountPerFrameMulti = 1,</li></ul> |
    | 结构体成员 | 改为首字母小写，驼峰标识 | 以 `ByteRTCLocalStreamStats` 为例：<ul><li>audio_stats</li><li>video_stats</li><li>tx_quality</li><li>rx_quality</li><li>is_screen</li></ul> | 以 `ByteRTCLocalStreamStats` 为例：<ul><li>audioStats</li><li>videoStats</li><li>txQuality</li><li>rxQuality</li><li>isScreen</li></ul> |

### 方法变更

| 变更详情 | 功能模块 | 废弃的类/接口 | 替代的类/接口 | 说明 |
| --- | --- | --- | --- | --- |
| 删除 | 主调类 | `ByteRTCEngineKit` | [`ByteRTCVideo`](iOS-api#bytertcvideo) |  |
| 删除 | 引擎管理 | `ByteRTCVideo.setEnv` | [`RTCVideo.createRTCVideo:delegate:parameters:`](iOS-api#ByteRTCVideo-creatertcvideo-delegate-parameters)  | 咨询技术支持获取详细信息。 |
| 废弃 | 自定义流处理 | `setLocalVideoSink` | [`setLocalVideoRender:withSink:withLocalRenderConfig:`](iOS-api#ByteRTCVideo-setlocalvideorender-withsink-withlocalrenderconfig) | 原接口废弃，新接口支持回调采集后的视频帧。新接口使用默认值时行为与原接口一致。 |
| 废弃 | 自定义流处理 | `setRemoteVideoSink` | [`setRemoteVideoRender:withSink:withRemoteRenderConfig:`](iOS-api#ByteRTCVideo-setremotevideorender-withsink-withremoterenderconfig) | 原接口废弃，新接口支持将远端流镜像渲染、将旋转角旋转为 0 度。新接口使用默认值时行为与原接口一致。 |
| 使用范围拓展 | 视频处理 | `setVideoDecoderConfig` | [`setVideoDecoderConfig`](iOS-api#ByteRTCVideo-setvideodecoderconfig-withvideodecoderconfig) | 旧版接口仅支持在手动订阅时使用，新增支持在自动订阅时使用。 |
| 废弃 | 视频管理 | `- (int)updateRemoteStreamVideoCanvas:(ByteRTCRemoteStreamKey * _Nonnull)key withRenderMode:(ByteRTCRenderMode)renderMode withBackgroundColor:(NSUInteger)backgroundColor NS_SWIFT_NAME(updateRemoteStreamVideoCanvas(_:withRenderMode:withBackgroundColor:));` | [`- (int)updateRemoteStreamVideoCanvas:(ByteRTCRemoteStreamKey * _Nonnull)key withRemoteVideoRenderConfig:(ByteRTCRemoteVideoRenderConfig * _Nonnull)remoteVideoRenderConfig NS_SWIFT_NAME(updateRemoteStreamVideoCanvas(_:withRemoteVideoRenderConfig:));`](iOS-api#ByteRTCVideo-updateremotestreamvideocanvas-withremotevideorenderconfig) | 新接口通过 `remoteVideoRenderConfig` 参数统一设置渲染模式和背景颜色，另外新增 renderRotation 参数，支持设置视频帧旋转角度。 |
| 删除 | 音频处理 | `ByteRTCAudioProcessor` | [`ByteRTCAudioFrameProcessor`](iOS-callback#bytertcaudioframeprocessor) | `ByteRTCAudioProcessor` 已在 3.42 中废弃。此次进行了删除。 |
| 参数数据结构新增成员变量 | 音频管理 | `enableAudioPropertiesReport` | [`enableAudioPropertiesReport`](iOS-api#ByteRTCVideo-enableaudiopropertiesreport) | 新增参数 `enableVoicePitch` 控制是否回调本地用户的人声基频。 |

### 回调变更

| 变更详情 | 功能模块 | 废弃的类/接口 | 替代的类/接口 | 说明 |
| --- | --- | --- | --- | --- |
| 删除 | 主回调类 | `ByteRTCEngineDelegate` | [`ByteRTCVideoDelegate`](iOS-callback#bytertcvideodelegate) |  |
| 参数变更 | 消息 | `(void)rtcEngineOnLogout:(ByteRTCVideo * _Nonnull)engine NS_SWIFT_NAME(rtcEngineOnLogout(_:))` | [`(void)rtcEngine:(ByteRTCVideo * _Nonnull)engine onLogout:(ByteRTCLogoutReason)reason`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onlogout) | 在 `onLogout` 回调上新增 reason 参数，区分用户主动/被动登出。 |
| 参数数据结构新增成员变量 | 音频管理 | `onLocalAudioPropertiesReport` | [`onLocalAudioPropertiesReport`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onlocalaudiopropertiesreport) | 新增参数`voicePitch`返回本地用户的人声基频。 |

### 类型变更

| 变更详情 | 功能模块 | 改动的数据类型 | 说明 |
| --- | --- | --- | --- |
| 成员变量新增 | 字幕翻译服务| [`ByteRTCSubtitleMessage`](iOS-keytype#bytertcsubtitlemessage) | 在字幕内容回调 `rtcRoom:onSubtitleMessageReceived:` 的参数 `ByteRTCSubtitleMessage` 中新增成员变量 `language` 和 `mode`，可用于同时收到字幕原文和字幕译文。 |
| 成员变量变更 | CDN 推流| [`ByteRTCMixedStreamLayoutRegionConfig`](iOS-keytype#bytertcmixedstreamlayoutregionconfig) | 转推直播单个用户画面由设置相对于整体画面的归一化比例变更为可设置像素绝对值 |

### 错误码变更

| 变更详情 | 错误码 | 说明 |
| --- | --- | --- |
| 枚举值增删 | [`ByteRTCUserMessageSendResult`](iOS-errorcode#bytertcusermessagesendresult) | 新增客户端向业务服务器发送消息失败错误码：<li>`ByteRTCUserMessageSendResultE2BSSendFailed = 17`</li><li>`ByteRTCUserMessageSendResultE2BSReturnFailed = 18`</li> |

## 3.54

### 重要说明

1. 该版本 iOS 端新增音频编解码器插件、视频编解码器插件和视频锐化插件，详情参看[按需集成插件](1108726)文档。
1. 该版本为全部 API 增加返回值，通过返回值可以明确发现失败的 API 调用，定位失败原因。具体返回值的含义参看各 API 注释。

### 方法变更

| 变更详情 | 功能模块 | 变动前方法 | 变动后方法 | 说明 |
| --- | --- | --- | --- | --- |
|将混音相关的类和接口按音效和音乐进行拆分，具体变动情况请参看[混音相关的新旧接口对应表](#audiomixingchangelog)|混音|<ul><li>[`getAudioMixingManager`](iOS-api#ByteRTCVideo-getaudiomixingmanager)</li><li>[`ByteRTCAudioMixingManager`](iOS-api#bytertcaudiomixingmanager)</li></ul>|<ul><li>[`getAudioEffectPlayer`](iOS-api#ByteRTCVideo-getaudioeffectplayer)</li><li>[`ByteRTCAudioEffectPlayer`](iOS-api#bytertcaudioeffectplayer)</li><li>[`getMediaPlayer`](iOS-api#ByteRTCVideo-getmediaplayer)</li><li>[`ByteRTCMediaPlayer`](iOS-api#bytertcmediaplayer)</li></ul>|一般来说，对于短时间的音效（比如小于 20s），可以使用音效类；对于较长的音频或 PCM 数据，可以使用音乐类。|

### 类型变更

| 变更详情 | 类型 | 变更前 | 变更后 | 说明 |
| --- | --- | --- | --- | --- |
|参数变更|[`ByteRTCRoomStats`](iOS-keytype#bytertcroomstats)|<ul><li>`tx_cellular_kbitrate`</li><li>`rx_cellular_kbitrate`</li></ul>|  <ul><li>`txCellularKBitrate`</li><li>`rxCellularKBitrate`</li></ul>| |


**附：混音相关的新旧接口对应表**<span id="audiomixingchangelog"></span>

| 接口分类 | 接口用途 | <div style="width: 186pt">废弃类/接口</div> | <div style="width: 150pt">新类/接口（音效）</div> | <div style="width: 186pt">新类/接口（音乐）</div> | <div style="width: 150pt">备注</div> |
| --- | --- | --- | --- | --- | --- |
| 获取实例 | 获取播放器实例 | `getAudioMixingManager` | `getAudioEffectPlayer` | `getMediaPlayer` |  |
| 混音类 || `ByteRTCAudioMixingManager` | `ByteRTCAudioEffectPlayer` | `ByteRTCMediaPlayer` |  |
| 混音主调接口 | 将音效文件加载至内存 | - `preloadAudioMixing` | - `preload:filePath:` | - `open` |  |\
||| - `unloadAudioMixing` | - `unload` | - `openWithCustomSource` |\
|||| - `unloadAll` |
|^^  | 播放/停止/暂停/恢复 | - `startAudioMixing` | - `start` | - `start` |  |\
||| - `stopAudioMixing` | - `stop` | - `stop` |\
||| - `stopAllAudioMixing` | - `stopAll` | - `stopAll` |\
||| - `pauseAudioMixing` | - `pause` | - `pause` |\
||| - `pauseAllAudioMixing` | - `pauseAll` | - `resume` |\
||| - `resumeAudioMixing` | - `resume` |\
||| - `resumeAllAudioMixing` | - `resumeAll` |
| ^^ | 获取/指定位置/时长 | - `setAudioMixingPosition` | - `setPosition` | - `setPosition` |  |\
||| - `getAudioMixingCurrentPosition` | - `getPosition` | - `getTotalDuration` |\
||| - `getAudioMixingDuration` | - `getDuration` | - `getPlaybackDuration` |
| ^^ | 获取/指定音量 | - `setAudioMixingVolume` | - `setVolume` | - `setVolume` |  |\
||| - NA | - `getVolume` | - `getVolume` |
|^^  | 调整音调 | `setAudioMixingPitch` | NA | `setAudioPitch` |  |
| ^^ | 设置声道模式 | `setAudioMixingDualMonoMode` | NA | `setAudioDualMonoMode` |  |
| ^^ | 获取/设置音轨数 | - `getAudioTrackCount` | NA | - `getAudioTrackCount` | `Index` 取值修改为从 0 开始 |\
||| - `selectAudioTrack` || - `selectAudioTrack` |
| ^^ | 设置播放速度 | `setAudioMixingPlaybackSpeed` | NA | `setPlaybackSpeed` |  |
| ^^ | 设置播放进度回调间隔 | `setAudioMixingProgressInterval` | NA | `setProgressInterval` |  |
| ^^ | 设置响度 | `setAudioMixingLoudness` | NA | `setLoudness` |  |
| ^^ | 播放外部音频源 | - `enableAudioMixingFrame` | NA | - `openWithCustomSource` |  |\
||| - `disableAudioMixingFrame` || - `pushExternalAudioFrame` |\
||| - `pushAudioMixingFrame` |
| 混音回调接口 | 播放状态回调 | `onAudioMixingStateChanged` | - `setEventHandler` | - `setEventHandler` |  |\
|||| - `onAudioEffectPlayerStateChanged` | - `onMediaPlayerStateChanged` |\
||||| - `onMediaPlayerPlayingProgress` |
| ^^ | 音频数据回调 | - `registerAudioFileFrameObserver` | NA | - `ByteRTCMediaPlayerAudioFrameObserver` |  |\
||| - `onAudioFileFrame` || - `onFrame` |

## 3.52
### 方法变更

| 变更详情 | 功能模块 | 变动前方法 | 变动后方法 | 说明 |
| --- | --- | --- | --- | --- |
| 参数变更 | 引擎管理 | [`feedback:info:`](iOS-api#ByteRTCVideo-feedback-info) || 参数数据类型变更 |
| 废弃 | CDN 推流 | `- (int)startLiveTranscoding:(NSString *_Nonnull)taskID transcoding:(ByteRTCLiveTranscoding *_Nullable)transcoding observer:(id<LiveTranscodingDelegate> _Nullable)observer;` | [`- (int)startPushMixedStreamToCDN:(NSString * _Nonnull)taskID mixedConfig:(ByteRTCMixedStreamConfig *_Nullable)config observer:(id<ByteRTCMixedStreamObserver> _Nullable)observer;`](iOS-api#ByteRTCVideo-startpushmixedstreamtocdn-mixedconfig-observer) | 合流转推直播接口/参数类型重命名，行为逻辑无变化，新旧版本类名对应关系参看该版本中的“类型变更” |
| ^^ | ^^ | `- (int)stopLiveTranscoding:(NSString *_Nonnull)taskID;` | [`- (int)stopPushStreamToCDN:(NSString *_Nonnull)taskID NS_SWIFT_NAME(stopPushStreamToCDN(_:));`](iOS-api#ByteRTCVideo-stoppushstreamtocdn) | ^^ |
| ^^ | ^^ | `- (int)updateLiveTranscoding:(NSString *_Nonnull)taskID transcoding:(ByteRTCLiveTranscoding *_Nonnull)transcoding;` | [`- (int)updatePushMixedStreamToCDN:(NSString *_Nonnull)taskID mixedConfig:(ByteRTCMixedStreamConfig *_Nonnull)config;`](iOS-api#ByteRTCVideo-updatepushmixedstreamtocdn-mixedconfig) | ^^ |
| 合并 | 高级功能 | - `-(int)updatePosition:(Position* _Nonnull) pos` | [`-(int)updateSelfPosition:(ByteRTCPositionInfo* _Nonnull)positionInfo;`](iOS-api#ByteRTCSpatialAudio-updateselfposition) | 新接口支持本地用户同时设置自己的发声位置和发声朝向。 |\
||| - `-(int)updateSelfOrientation:(HumanOrientation* _Nonnull) orientation` |
| ^^ | ^^ | - `-(int)updateListenerPosition:(Position* _Nonnull) pos` | [`-(int)updateRemotePosition:(NSString * _Nonnull)uid positionInfo:(ByteRTCPositionInfo* _Nonnull)positionInfo;`](iOS-api#ByteRTCSpatialAudio-updateremoteposition-positioninfo) | 新接口支持本地用户设置远端用户的发声位置和发声朝向。 |\
||| - `-(int)updateListenerOrientation:(HumanOrientation* _Nonnull)orientation` |

### 回调变更

| 变更详情 | 方法 | 说明 |
| --- | --- | --- |
| 参数变更 | [`rtcEngine:onPublicStreamSEIMessageReceived:andMessage:`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onpublicstreamseimessagereceived-andmessage) | 参数 `sourceType` 的类型由 `ByteRTCSEIMessageSourceType` |\
||||\
||| 变更为 `ByteRTCDataMessageSourceType` |\
||||\
||| 拆分为： |\
||||\
||| - [`rtcEngine:onPublicStreamSEIMessageReceived:andMessage:`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onpublicstreamseimessagereceived-andmessage)：接收客户端插入的 SEI 消息。 |\
||| - [`rtcEngine:onPublicStreamDataMessageReceived:andMessage:`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onpublicstreamdatamessagereceived-andmessage)：接收服务端插入的 SEI 消息和其他数据信息，例如音量信息。 |

### 类型变更

| 变更详情 | 类型 | 变更前 | 变更后 | 说明 |
| --- | --- | --- | --- | --- |
| 重命名 | 转推直播一级结构体 | `ByteRTCLiveTranscoding` | [`ByteRTCMixedStreamConfig`](iOS-keytype#bytertcmixedstreamconfig) | 结构体中变量名称/方法名称均有变更，请至对应的类型详情中查看 |
| ^^ | 转推直播 Observer | `LiveTranscodingDelegate` | [`ByteRTCMixedStreamObserver`](iOS-callback#bytertcmixedstreamobserver) |  |
| ^^ | 转推直播二级结构体 | `ByteRTCTranscodingVideoConfig` | [`ByteRTCMixedStreamVideoConfig`](iOS-keytype#bytertcmixedstreamvideoconfig) | 结构体中变量名称/方法名称均有变更，请至对应的类型详情中查看 |
| ^^ | ^^ | `ByteRTCTranscodingAudioConfig` | [`ByteRTCMixedStreamAudioConfig`](iOS-keytype#bytertcmixedstreamaudioconfig) | ^^ |
| ^^ | ^^ | `ByteRTCTranscodingSpatialConfig` | [`ByteRTCMixedStreamSpatialAudioConfig`](iOS-keytype#bytertcmixedstreamspatialaudioconfig) | ^^ |
| ^^ | ^^ | `ByteRTCTranscodingClientMixParam` | [`ByteRTCMixedStreamClientMixConfig`](iOS-keytype#bytertcmixedstreamclientmixconfig) | ^^ |
| ^^ | ^^ | `ByteRTCVideoCompositingRegion` | [`ByteRTCMixedStreamLayoutRegionConfig`](iOS-keytype#bytertcmixedstreamlayoutregionconfig) | ^^ |
| ^^ | ^^ | `ByteRTCVideoCompositingLayout` | [`ByteRTCMixedStreamLayoutConfig`](iOS-keytype#bytertcmixedstreamlayoutconfig) | ^^ |
| ^^ | 转推直播相关枚举类型 | `ByteRTCClientMixVideoFormat` | [`ByteRTCMixedStreamClientMixVideoFormat`](iOS-keytype#bytertcmixedstreamclientmixvideoformat) | 各枚举类中的枚举值名称均有变更，请至对应的类型详情中查看 |
| ^^ | ^^ | `ByteRTCTranscoderContentControlType` | [`ByteRTCMixedStreamMediaType`](iOS-keytype#bytertcmixedstreammediatype) | ^^ |
| ^^ | ^^ | `ByteRTCRenderMode` | [`ByteRTCMixedStreamRenderMode`](iOS-keytype#bytertcmixedstreamrendermode) | ^^ |
| ^^ | ^^ | `ByteRTCTranscoderLayoutRegionType` | [`ByteRTCMixedStreamLayoutRegionType`](iOS-keytype#bytertcmixedstreamlayoutregiontype) | ^^ |
| ^^ | ^^ | `ByteRTCAACProfile` | [`ByteRTCMixedStreamAudioProfile`](iOS-keytype#bytertcmixedstreamaudioprofile) | ^^ |
| ^^ | ^^ | `ByteRTCTranscodingVideoCodec` | [`ByteRTCMixedStreamVideoCodecType`](iOS-keytype#bytertcmixedstreamvideocodectype) | ^^ |
| ^^ | ^^ | `ByteRTCTranscodingAudioCodec` | [`ByteRTCMixedStreamAudioCodecType`](iOS-keytype#bytertcmixedstreamaudiocodectype) | ^^ |
| ^^ | ^^ | `ByteRTCStreamMixingType` | [`ByteRTCMixedStreamType`](iOS-keytype#bytertcmixedstreamtype) | ^^ |

### 错误码变更

| **变更详情** | **错误码** | **说明** |
| --- | --- | --- |
| 枚举值变更 | [`ByteRTCPublicStreamErrorCode`](iOS-errorcode#bytertcpublicstreamerrorcode) | 新增枚举值： |\
||||\
||| - `ERROR_CODE_PULL_NO_PUSH_STREAM(1300)` |\
||||\
||| 名称变更： |\
||||\
||| - `ByteRTCPublicStreamErrorCodeParamError = 1191` 更新为 `ByteRTCPublicStreamErrorCodePushParamError = 1191` |\
||| 	 |\
||| - `ByteRTCPublicStreamErrorCodeStatusError = 1192` 更新为 `ByteRTCPublicStreamErrorCodePushStatusError = 1192` |\
||| 	 |\
||| - `ByteRTCPublicStreamErrorCodeInternalError = 1193` 更新为 `ByteRTCPublicStreamErrorCodePushInternalError = 1193` |
| ^^ | [`ByteRTCErrorCode`](iOS-errorcode#bytertcerrorcode) | 新增枚举值 `kErrorCodeJoinRoomRoomForbidden=-1025` 和 `kErrorCodeJoinRoomUserForbidden=-1026`。 |\
||| 当服务端在指定房间封禁指定用户，而此用户加入房间失败，或从房间中被踢出时收到。 |
| ^^ | ^^ | 废弃枚举值 `ByteRTCErrorCodeOverScreenPublishLimit=-1081`， 用 `ByteRTCErrorCodeOverStreamPublishLimit=-1080` 代替。  |

## 3.50

### 头文件变更

原 ByteRTCCommonDefines.h 文件拆分为 ByteRTCMediaDefines.h 及 ByteRTCRtsDefines.h

### 方法变更

| **变更详情** | **功能模块** | **变动前方法** | **变动后方法** | **备注** |
| --- | --- | --- | --- | --- |
| 拆分 | 视频管理 | `(int) registerFaceDetectionObserver:(_Nullable id<ByteRTCFaceDetectionObserver>)faceDetectionObserver withInterval:(NSInteger)interval;` | - [`(int) enableFaceDetection:(_Nullable id<ByteRTCFaceDetectionObserver>) observer withInterval:(NSUInteger)interval withModelPath:(NSString* _Nonnull)path;`](iOS-api#ByteRTCVideoEffect-enablefacedetection-withinterval-withmodelpath) |  |\
|||| 	 ||\
|||| - [`(int) disableFaceDetection;`](iOS-api#ByteRTCVideoEffect-disablefacedetection) | 解除人脸识别与视频特效之间的耦合，提升接口易用性。 |\
|||| 	 ||\
|||||\
|||||
| 参数变更 | 消息 | `(int64_t)sendUserMessage:(NSString *_Nonnull)userId message:(NSString *_Nonnull)message config:(ByteRTCMessageConfig)config;` | [`(NSInteger)sendUserMessage:(NSString *_Nonnull)userId message:(NSString *_Nonnull)message config:(ByteRTCMessageConfig)config;`](iOS-api#ByteRTCRoom-sendusermessage-message-config) | 返回参数类型由 `int64_t` 变更为 `NSInteger` |\
||||||
| ^^ | ^^ | `(int64_t)sendUserBinaryMessage:(NSString * _Nonnull)uid message:(NSData * _Nonnull)message config:(ByteRTCMessageConfig)config;` | [`(NSInteger)sendUserBinaryMessage:(NSString * _Nonnull)uid message:(NSData * _Nonnull)message config:(ByteRTCMessageConfig)config;`](iOS-api#ByteRTCRoom-senduserbinarymessage-message-config) | ^^ |
| ^^ | ^^ | `(int64_t)sendRoomMessage:(NSString *_Nonnull)message NS_SWIFT_NAME(sendRoomMessage(_:));` | [`(NSInteger)sendRoomMessage:(NSString *_Nonnull)message NS_SWIFT_NAME(sendRoomMessage(_:));`](iOS-api#ByteRTCRoom-sendroommessage) | ^^ |
| ^^ | ^^ | `(int64_t)sendRoomBinaryMessage:(NSData * _Nonnull)message NS_SWIFT_NAME(sendRoomBinaryMessage(_:));` | [`(NSInteger)sendRoomBinaryMessage:(NSData * _Nonnull)message NS_SWIFT_NAME(sendRoomBinaryMessage(_:));`](iOS-api#ByteRTCRoom-sendroombinarymessage) | ^^ |
| ^^ | ^^ | `(int64_t)sendUserMessageOutsideRoom:(NSString * _Nonnull)userId message:(NSString * _Nonnull)messageStr config:(ByteRTCMessageConfig)config;` | [`(NSInteger)sendUserMessageOutsideRoom:(NSString * _Nonnull)userId message:(NSString * _Nonnull)messageStr config:(ByteRTCMessageConfig)config;`](iOS-api#ByteRTCVideo-sendusermessageoutsideroom-message-config) | ^^ |
| ^^ | ^^ | `(int64_t)sendUserBinaryMessageOutsideRoom:(NSString * _Nonnull)userId message:(NSData * _Nonnull)messageStr config:(ByteRTCMessageConfig)config;` | [`(NSInteger)sendUserBinaryMessageOutsideRoom:(NSString * _Nonnull)userId message:(NSData * _Nonnull)messageStr config:(ByteRTCMessageConfig)config;`](iOS-api#ByteRTCVideo-senduserbinarymessageoutsideroom-message-config) | ^^ |
| ^^ | ^^ | `(int64_t)sendServerMessage:(NSString * _Nonnull)messageStr;` | [`(NSInteger)sendServerMessage:(NSString * _Nonnull)messageStr;`](iOS-api#ByteRTCVideo-sendservermessage) | ^^ |
| ^^ | ^^ | `(int64_t)sendServerBinaryMessage:(NSData * _Nonnull)messageStr;` | [`(NSInteger)sendServerBinaryMessage:(NSData * _Nonnull)messageStr;`](iOS-api#ByteRTCVideo-sendserverbinarymessage) | ^^ |
| 参数类型变更 | 屏幕共享 | `-(int)setScreenVideoEncoderConfig:(ByteRTCVideoEncoderConfig * _Nullable) screen_solution;` | [`-(int)setScreenVideoEncoderConfig:(ByteRTCScreenVideoEncoderConfig * _Nullable) screen_solution;`](iOS-api#ByteRTCVideo-setscreenvideoencoderconfig) |  |\
||||||\
||||| 参数类型变更为新增的 `ByteRTCScreenVideoEncoderConfig` |\
||||||
| 行为变更 | 屏幕共享 | - `setVideoSourceType:WithStreamIndex:`: 屏幕流默认为外部源 | - [`setVideoSourceType:WithStreamIndex:`](iOS-api#ByteRTCVideo-setvideosourcetype-withstreamindex): 屏幕流默认为内部源 | 优化屏幕共享接口的行为 |\
||| 	 | 	 ||\
||| - `setScreenAudioSourceType:`: 当前设置为内部源时，且已开启了采集，调用该接口切换为外部源时，不会停止内部采集 | - [`setScreenAudioSourceType:`](iOS-api#ByteRTCVideo-setscreenaudiosourcetype): 当前设置为内部源时，且已开启了采集，调用该接口切换为外部源时，自动停止内部采集 |\
||| 	 | 	 |\
||| - `startScreenCapture:bundleId:`: 当前为外部源时，调用本接口将自动切换为内部源，并开启采集 | [- `startScreenCapture:bundleId:`](iOS-api#ByteRTCVideo-startscreencapture-bundleid): 当前为外部源时，调用本接口失败，并触发 [`rtcEngine:onVideoDeviceWarning:deviceType:deviceWarning:`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onvideodevicewarning-devicetype-devicewarning)或 [`rtcEngine:onAudioDeviceWarning:deviceType:deviceWarning:`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onaudiodevicewarning-devicetype-devicewarning) |\
||| 	 | 	 |\
||| - `stopScreenCapture`: 当前为外部源时，调用本接口将关闭外部采集 | [- `stopScreenCapture`](iOS-api#ByteRTCVideo-stopscreencapture): 当前为外部源时，调用本接口失败，并触发 [`rtcEngine:onVideoDeviceWarning:deviceType:deviceWarning:`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onvideodevicewarning-devicetype-devicewarning)或 [`rtcEngine:onAudioDeviceWarning:deviceType:deviceWarning:`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onaudiodevicewarning-devicetype-devicewarning) |
| 所属类型变更、名称变更、参数变更 | 音视频处理 | - `(int)checkVideoEffectLicense:(NSString * _Nonnull)licenseFile;` | [`(int) initCVResource:(NSString* _Nonnull)license_file withAlgoModelDir: (NSString* _Nonnull)algo_model_dir;`](iOS-api#ByteRTCVideoEffect-initcvresource-withalgomodeldir) |  |\
||| 	 |||\
||| - `(void)setVideoEffectAlgoModelPath:(NSString * _Nonnull)modelPath;` || - 统一从 ByteRTCVideo 类下调整到 ByteRTCVideoEffect 类下 |\
||||| 	 |\
||||| - 统一返回值 |\
||||| 	 |\
||||||\
||||||
| ^^ | ^^ | `(int)enableVideoEffect:(BOOL)enabled;` | - [`(int) enableVideoEffect;`](iOS-api#ByteRTCVideoEffect-enablevideoeffect) | ^^ |\
|||| 	 |\
|||| - [`(int) disableVideoEffect;`](iOS-api#ByteRTCVideoEffect-disablevideoeffect) |\
|||| 	 |\
|||||\
|||||
| ^^ | ^^ | `(int) setVideoEffectNodes:(NSArray <NSString *> *_Nonnull)effectNodePaths;` | [`(int) setEffectNodes:(NSArray<NSString*>*_Nonnull)effect_nodes;`](iOS-api#ByteRTCVideoEffect-seteffectnodes) | ^^ |
| ^^ | ^^ | `(int) updateVideoEffectNode:(NSString * _Nonnull)nodePath nodeKey:(NSString * _Nonnull)nodeKey nodeValue:(float) nodeValue;` | [`(int) updateEffectNode:(NSString* _Nonnull)node key:(NSString* _Nonnull)key value:(float) value;`](iOS-api#ByteRTCVideoEffect-updateeffectnode-key-value) | ^^ |
| ^^ | ^^ | `(int) setBackgroundSticker:(NSString* _Nullable)modelPath source:(ByteRTCVirtualBackgroundSource* _Nonnull)source;` | - [`(int) enableVirtualBackground:(NSString* _Nonnull)bg_sticker_path withSource:(ByteRTCVirtualBackgroundSource* _Nonnull)source;`](iOS-api#ByteRTCVideoEffect-enablevirtualbackground-withsource) | ^^ |\
|||| 	 |\
|||| - [`(int) disableVirtualBackground;`](iOS-api#ByteRTCVideoEffect-disablevirtualbackground) |
| ^^ | ^^ | `(int) setVideoEffectColorFilter:(NSString * _Nonnull)resPath;` | [`(int) setColorFilter:(NSString* _Nonnull)filter_res;`](iOS-api#ByteRTCVideoEffect-setcolorfilter) | ^^ |
| ^^ | ^^ | `(int) setVideoEffectColorFilterIntensity:(float) intensity;` | [`(int) setColorFilterIntensity:(float) intensity;`](iOS-api#ByteRTCVideoEffect-setcolorfilterintensity) | ^^ |
| 参数变更 | 消息 | `(int)sendSEIMessage:(ByteRTCStreamIndex)streamIndex andMessage:(NSData* _Nonnull)message andRepeatCount:(int)repeatCount;` | [`(int)sendSEIMessage:(ByteRTCStreamIndex)streamIndex andMessage:(NSData* _Nonnull)message andRepeatCount:(int)repeatCount andCountPerFrame:(ByteRTCSEICountPerFrame) mode;`](iOS-api#ByteRTCVideo-sendseimessage-andmessage-andrepeatcount-andcountperframe) | 支持 SEI 多发模式，即在 1 帧间隔内多次发送 SEI 数据时，多个 SEI 随下个视频帧同时发送。 |\
||
| ^^ | 多个模块 | 返回值类型变化，例如： ||  |\
||||\
||| - 旧方法——`(void)subscribeStream:(NSString *_Nonnull)userId mediaStreamType:(ByteRTCMediaStreamType)mediaStreamType;` |\
||| 	 |\
||| - 新方法——`(int)subscribeStream:(NSString *_Nonnull)userId mediaStreamType:(ByteRTCMediaStreamType)mediaStreamType;` |\
||| 	 |\
||||\
||| ++以下接口返回值类型由 void 变为 int，具体 int 值含义参考新增数据结构++ ++[`ByteRTCReturnStatus`](iOS-keytype#bytertcreturnstatus)++++：++  |\
||| subscribeStream |\
||| subscribeScreen |\
||| setVoiceChangerType |\
||| setVoiceReverbType |\
||| login |\
||| ++以下接口返回值类型由 BOOL 变为 int，具体 int 值含义参考新增数据结构++ ++[`ByteRTCReturnStatus`](iOS-keytype#bytertcreturnstatus)++++：++  |\
||| pushExternalEncodedVideoFrame |\
||| ++以下接口返回值类型由 BOOL 变为 void：++  |\
||| setUserVisibility |\
||| setMultiDeviceAVSync |\
||| registerAudioProcessor |\
||| ++以下接口返回值类型由 int 变为 void：++  |\
||| leaveRoom |\
||| publishStream |\
||| unpublishStream |\
||| publishScreen |\
||| unpublishScreen |\
||| enableSimulcastMode |\
||| updateLocalVideoCanvas |\
||| setLocalVideoMirrorType |\
||| setVideoRotationMode |\
||| switchCamera |\
||| setAudioRoute |\
||| startLiveTranscoding |\
||| stopLiveTranscoding |\
||| setPublishFallbackOption |\
||| setSubscribeFallbackOption |
| ^^ | 视频管理 | `(int)setRemoteVideoCanvas:(NSString * _Nonnull)uid withIndex:(ByteRTCStreamIndex)streamIndex withCanvas:(ByteRTCVideoCanvas * _Nullable)canvas;` | [`(void)setRemoteVideoCanvas:(ByteRTCRemoteStreamKey * _Nonnull)key withCanvas:(ByteRTCVideoCanvas * _Nullable)canvas;`](iOS-api#ByteRTCVideo-setremotevideocanvas-withcanvas) | - 返回值类型由 int 变更为 void。 |\
||||| 	 |\
||||| - 通过 key 传入 `uid` 和 `streamIndex`。 |
| ^^ | ^^ | `(int)updateRemoteStreamVideoCanvas:(NSString * _Nonnull)roomid withUserId:(NSString * _Nonnull)uid withIndex:(ByteRTCStreamIndex)streamIndex withRenderMode:(ByteRTCRenderMode)renderMode withBackgroundColor:(NSUInteger)backgroundColor;` | [`(void)updateRemoteStreamVideoCanvas:(ByteRTCRemoteStreamKey * _Nonnull)key withRenderMode:(ByteRTCRenderMode)renderMode withBackgroundColor:(NSUInteger)backgroundColor;`](iOS-api#ByteRTCVideo-updateremotestreamvideocanvas-withrendermode-withbackgroundcolor) | - 返回值类型由 int 变更为 void。 |\
||||| 	 |\
||||| - 通过 key 传入 `roomid` 、`uid` 和 `streamIndex`。 |
| 名称变更 | 房间管理 | `setRtcRoomDelegate` | [`setRTCRoomDelegate`](iOS-api#ByteRTCRoom-setrtcroomdelegate) | 修正大小写。 |\
||
| ^^ | ^^ | `joinRoomByToken` | [`joinRoom`](iOS-api#ByteRTCRoom-joinroom-userinfo-roomconfig) |  |
| ^^ | ^^ | `renewToken` | [`updateToken`](iOS-api#ByteRTCRoom-updatetoken) |  |
| ^^ | 引擎管理 | `getSdkVersion` | [`getSDKVersion`](iOS-api#ByteRTCVideo-getsdkversion) | 修正大小写。 |
| ^^ | 安全与加密 | `setEncryptType` | [`setEncryptInfo`](iOS-api#ByteRTCVideo-setencryptinfo-key) |  |
| ^^ | 音视频处理 | `SetVideoWatermark` | [`setVideoWatermark`](iOS-api#ByteRTCVideo-setvideowatermark-withimagepath-withrtcwatermarkconfig) | 大驼峰变为小驼峰。 |
| ^^ | 音视频处理 | `ClearVideoWatermark` | [`clearVideoWatermark`](iOS-api#ByteRTCVideo-clearvideowatermark) | ^^ |
| ^^ | 屏幕分享 | `SetScreenVideoEncoderConfig` | [`setScreenVideoEncoderConfig`](iOS-api#ByteRTCVideo-setscreenvideoencoderconfig) | ^^ |
| ^^ | 视频管理 | `SetVideoEncoderConfig` | [`setVideoEncoderConfig`](iOS-api#ByteRTCVideo-setvideoencoderconfig) | ^^ |
| ^^ | ^^ | `SetMaxVideoEncoderConfig` | [`setMaxVideoEncoderConfig`](iOS-api#ByteRTCVideo-setmaxvideoencoderconfig) | ^^ |
| 名称和参数变更 | 音视频传输 | `(void)unSubscribeStream:(NSString *_Nonnull)userId mediaStreamType:(ByteRTCMediaStreamType)mediaStreamType;` | [`(int)unsubscribeStream:(NSString *_Nonnull)userId mediaStreamType:(ByteRTCMediaStreamType)mediaStreamType;`](iOS-api#ByteRTCRoom-unsubscribestream-mediastreamtype) | - 返回值由 void 变为 int。 |\
||||| 	 |\
||||| - 修正名称中的大小写。 |
| ^^ | ^^ | `(void)unSubscribeScreen:(NSString *_Nonnull)userId mediaStreamType:(ByteRTCMediaStreamType)mediaStreamType;` | [`(int)unsubscribeScreen:(NSString *_Nonnull)userId mediaStreamType:(ByteRTCMediaStreamType)mediaStreamType;`](iOS-api#ByteRTCRoom-unsubscribescreen-mediastreamtype) | - 返回值由 void 变为 int。 |\
||||| 	 |\
||||| - 修正名称中的大小写。 |
| ^^ | 屏幕分享 | `(void)pushScreenCaptureFrame:(CVPixelBufferRef _Nonnull )frame time:(CMTime)pts rotation:(int)rotation;` | [`(int)pushScreenVideoFrame:(CVPixelBufferRef _Nonnull )frame time:(CMTime)pts rotation:(int)rotation;`](iOS-api#ByteRTCVideo-pushscreenvideoframe-time-rotation) | - 返回值由 void 变为 int。 |\
||||| 	 |\
||||| - 名称由 `pushScreenCaptureFrame` 变为 |\
||||| 	 |\
||||||\
||||| `pushScreenVideoFrame`。 |
| ^^ | 自定义流处理 | `(BOOL)pushExternalByteVideoFrame:(ByteRTCVideoFrame * _Nonnull)frame;` | [`(int)pushExternalVideoFrame:(ByteRTCVideoFrame * _Nonnull)frame;`](iOS-api#ByteRTCVideo-pushexternalvideoframe) | - 返回值由 BOOL 变为 int |\
||||| 	 |\
||||| - 名称由 `pushExternalByteVideoFrame` 变更为 `pushExternalVideoFrame` |
| ^^ | ^^ | `(BOOL)setAudioFrameObserver:(_Nullable id<ByteRTCAudioFrameObserver>) audioFrameObserver;` | [`(void)registerAudioFrameObserver:(_Nullable id<ByteRTCAudioFrameObserver>) audioFrameObserver;`](iOS-api#ByteRTCVideo-registeraudioframeobserver) | - 返回值由 BOOL 变为 void |\
||||| 	 |\
||||| - 名称由 `setAudioFrameObserver` 变为 `registerAudioFrameObserver` |
| 删除 | 自定义流处理 | 删除： | 由以下接口替代： |  |\
|||| [`(int)pushExternalVideoFrame:(ByteRTCVideoFrame * _Nonnull)frame;`](iOS-api#ByteRTCVideo-pushexternalvideoframe) |\
||| - `(BOOL)pushExternalVideoFrame:(CVPixelBufferRef _Nonnull )frame time:(CMTime)pts;` ||\
||| 	 |\
||| - `(BOOL)pushExternalVideoFrame:(CVPixelBufferRef _Nonnull )frame time:(CMTime)pts rotation:(ByteRTCVideoRotation)rotation;` |\
||| 	 |\
||| - `(BOOL)pushExternalVideoFrame:(CVPixelBufferRef _Nonnull )frame time:(CMTime)pts rotation:(ByteRTCVideoRotation)rotation extendedData:(NSData* _Nullable)extendedData supplementaryInfo:(NSData* _Nullable)supplementoryInfo;` |

### 回调变更

| **变更详情** | **功能模块** | **变动前回调** | **变动后回调** | **备注** |
| --- | --- | --- | --- | --- |
| 行为变更 | 自定义流处理 | [`onProcessRecordAudioFrame`](iOS-callback#ByteRTCAudioFrameProcessor-onprocessrecordaudioframe) || 此回调原本支持返回本地采集的音频帧，修改音频帧后，会影响发送到远端的音频数据和本地软件耳返中的音频数据。自此版本后，修改此回调中返回的音频帧，仅影响发送到远端的音频数据；如果你希望修改本地软件耳返中音频数据，参看 [`onProcessEarMonitorAudioFrame`](iOS-callback#ByteRTCAudioFrameProcessor-onprocessearmonitoraudioframe)。 |
| 参数变更 | 消息 | `(void)rtcRoom:( ByteRTCRoom *_Nonnull)rtcRoom onUserMessageSendResult:(int64_t)msgid error:(ByteRTCUserMessageSendResult)error;` | [`(void)rtcRoom:( ByteRTCRoom *_Nonnull)rtcRoom onUserMessageSendResult:(NSInteger)msgid error:(ByteRTCUserMessageSendResult)error;`](iOS-callback#ByteRTCRoomDelegate-rtcroom-onusermessagesendresult-error) | `msgid` 参数类型由 `int64_t` 变更为 `NSInteger` |\
|||\
|||\
|||\
|||\
|||
| ^^ | ^^ | `(void)rtcRoom:( ByteRTCRoom *_Nonnull)rtcRoom onRoomMessageSendResult:(int64_t)msgid error:(ByteRTCRoomMessageSendResult)error;` | [`(void)rtcRoom:( ByteRTCRoom *_Nonnull)rtcRoom onRoomMessageSendResult:(NSInteger)msgid error:(ByteRTCRoomMessageSendResult)error;`](iOS-callback#ByteRTCRoomDelegate-rtcroom-onroommessagesendresult-error) | ^^ |
| ^^ | ^^ | `(void)rtcEngine:(ByteRTCVideo * _Nonnull)engine onUserMessageSendResultOutsideRoom:(int64_t)msgid error:(ByteRTCUserMessageSendResult)error;` | [`(void)rtcEngine:(ByteRTCVideo * _Nonnull)engine onUserMessageSendResultOutsideRoom:(NSInteger)msgid error:(ByteRTCUserMessageSendResult)error;`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onusermessagesendresultoutsideroom-error) | ^^ |
| ^^ | CDN 推流 | `(void)onMixingAudioFrame:(ByteRTCAudioFrame *_Nonnull)audioFrame taskId:(NSString *_Nonnull)taskId;` | [`(void)onMixingAudioFrame:(ByteRTCAudioFrame *_Nonnull)audioFrame timestamp:(int64_t)timeStamp taskId:(NSString *_Nonnull)taskId;`](iOS-callback#LiveTranscodingDelegate-onmixingaudioframe-timestamp-taskid) | 新增参数 `timeStamp` |\
||||||
| ^^ | 消息 | `(void)rtcEngine:(ByteRTCVideo * _Nonnull)engine onPublicStreamSEIMessageReceived:(NSString* _Nonnull)publicStreamId andMessage:(NSData* _Nonnull)message;` | [`(void)rtcEngine:(ByteRTCVideo * _Nonnull)engine onPublicStreamSEIMessageReceived:(NSString* _Nonnull)publicStreamId andMessage:(NSData* _Nonnull)message andSourceType:(ByteRTCSEIMessageSourceType)sourceType;`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onpublicstreamseimessagereceived-andmessage-andsourcetype) |  |\
||||
| 名称变更 | 房间管理 | `onLeaveRoomWithStats` | [`onLeaveRoom`](iOS-callback#ByteRTCRoomDelegate-rtcroom-onleaveroom) |  |\
||
| ^^ | 音视频传输 | `connectionChangedToState` | [`onConnectionStateChanged`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onconnectionstatechanged) |  |\
|||\
|||\
|||
| ^^ | ^^ | `networkTypeChangedToType` | [`onNetworkTypeChanged`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onnetworktypechanged) |  |
| ^^ | ^^ | `reportSysStats` | [`onSysStats`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onsysstats) |  |
| ^^ | 网络管理 | `onPerformanceAlarmsWithMode` |[ `onPerformanceAlarms`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onperformancealarms-roomid-reason-sourcewanteddata) |  |\
|||
| ^^ | ^^ | `OnSimulcastSubscribeFallback` | [`onSimulcastSubscribeFallback`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onsimulcastsubscribefallback) | 大驼峰变为小驼峰。 |
| ^^ | 安全与加密 | `ByteRTCEncryptRawData` | [`onEncryptData`](iOS-callback#ByteRTCEncryptHandler-onencryptdata) |  |
| ^^ | ^^ | `ByteRTCDecryptRawData` | [`onDecryptData`](iOS-callback#ByteRTCEncryptHandler-ondecryptdata) |  |
| ^^ | 视频管理 | `onFaceDetectionResult` | [`onFaceDetectResult`](iOS-callback#ByteRTCFaceDetectionObserver-onfacedetectresult) |  |
| 删除 | 音视频传输 | 删除： | / |  |\
||| `(void)rtcEngine:(ByteRTCVideo * _Nonnull)engine remoteVideoStateChangedOfUid:(NSString * _Nonnull)uid state:(ByteRTCRemoteVideoState)state;` |
| 删除回调类 | 范围语音 | [`ByteRTCRangeAudioObserver`](iOS-callback#bytertcrangeaudioobserver) 类和相关的接口 | 此前，在手动订阅的场景下，如果你希望使用范围语音功能，你必须根据此回调获取的衰减系数，设定音量。 |  |\
|||| 自此版本起，无论是手动订阅还是自动订阅，衰减效果都由 SDK 实现，无需使用此接口。 |

### 类型变更

| **变更详情** | **数据类型** | **备注** |
| --- | --- | --- |
| 参数数据结构改动 | [`ByteRTCVideoFrame`](iOS-keytype#bytertcvideoframe) | 数据结构中，删除了无用的字段：`cropLeft`, `cropTop`, `cropRight`, `cropBottom` |
| 取值范围拓展 | [`ByteRTCVideoCompositingRegion`](iOS-keytype#bytertcvideocompositingregion) 中，`width` 和 `height` | 取值范围由 `(0.0, 1.0]` 拓展为 `[0.0, 1.0]`。 |
| 枚举值变化 | [`ByteRTCAudioRoute`](iOS-keytype#bytertcaudioroute) | `ByteRTCAudioRouteUnknown` 变更为 `ByteRTCAudioRouteDefault` |
| 音频路由和发布订阅状态到音量类型的映射关系改变 | [`ByteRTCAudioScenarioType`](iOS-keytype#bytertcaudioscenariotype) | 最新的映射关系查看数据结构的文档。 |
| 枚举值增删 | [`ByteRTCAudioFrameMethod`](iOS-keytype#bytertcaudioframemethod) | 新增枚举值：`ByteRTCAudioFrameProcessorEarMonitor = 3` |
| 成员变量变更 | [`ByteRTCFaceDetectionResult`](iOS-keytype#bytertcfacedetectionresult) | 新增成员变量：`frameTimestamp` |\
||
| ^^ | [`ByteRTCVideoCanvas`](iOS-keytype#bytertcvideocanvas) | 删除变量：`roomId` 和 `uid` |
| ^^ | [`ByteRTCVideoFrame`](iOS-keytype#bytertcvideoframe) | - extendedData 的类型由 `ByteRTCFrameExtendedData` 变为 `NSData` |\
||| 	 |\
||| - 新增成员变量：supplementaryInfo |
| ^^ | [`ByteRTCLiveTranscoding`](iOS-keytype#bytertclivetranscoding) | 新增成员变量：`ByteRTCTranscodingClientMixParam` |
| 变量类型变更 | 空间音频功能中表示空间坐标的 [`position`](iOS-keytype#position-2) 的 变量 `x`, `y`, `z` 类型由 `int` 更改为 `float`。 | 提升球面立体声渲染效果。 |\
||||
| 配置变更 | [`ByteRTCRoomProfile`](iOS-keytype#bytertcroomprofile) | 房间属性的默认值 `ByteRTCRoomProfileCommunication = 0`，对应的由 `ByteRTCRoomProfileChatRoom = 6` 变更为 `ByteRTCRoomProfileMeeting = 16`。 |\
||
| 新增 | [`ByteRTCPublicStreamErrorCode`](iOS-errorcode#bytertcpublicstreamerrorcode) | `onPlayPublicStreamResult:` 和 `onPushPublicStreamResult:` 中的 errorCode 参数类型由 `ByteRTCTranscodingError` 改为 `ByteRTCPublicStreamErrorCode` |

### 错误码变更

| **变更详情** | **错误码** | **备注** |
| --- | --- | --- |
| 枚举值增删 | [`ByteRTCErrorCode`](iOS-errorcode#bytertcerrorcode) | 新增枚举值：`ByteRTCUserIDDifferent = -1014` |
| ^^ | [`ByteRTCUserMessageSendResult`](iOS-errorcode#bytertcusermessagesendresult) | 新增枚举值：`ByteRTCUserMessageSendResultExceedQPS = 5` |
| ^^ | [`ByteRTCRoomMessageSendResult`](iOS-errorcode#bytertcroommessagesendresult) | 新增枚举值：`ByteRTCRoomMessageSendResultExceedQPS = 5` |
| 新增 | [`ByteRTCPublicStreamErrorCode`](iOS-errorcode#bytertcpublicstreamerrorcode) | `onPlayPublicStreamResult:` 和 `onPushPublicStreamResult:` 中的 errorCode 参数类型由 `ByteRTCTranscodingError` 改为 `ByteRTCPublicStreamErrorCode` |

## 3.45.6
### 类型变更

以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
| 枚举值增删 |[`ByteRTCAudioFrameMethod`](iOS-keytype#bytertcaudioframemethod) | 新增屏幕共享音频的枚举值： `ByteRTCAudioFrameProcessorScreen = 4` |

## 3.45.4

### 方法变更

以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  <div style="width: 220pt">方法</div>| <div style="width: 150pt">备注</div> |
| --- | --- | --- | --- | --- |
| 参数数据结构改动 | 音频管理 |[`(void)enableAudioPropertiesReport:(ByteRTCAudioPropertiesConfig* _Nonnull)config;`](iOS-api#ByteRTCVideo-enableaudiopropertiesreport) | 数据结构中，新增参数：<li>[`ByteRTCAudioPropertiesMode`](iOS-keytype#bytertcaudiopropertiesmode)</li><li>[`ByteRTCAudioReportMode`](iOS-keytype#bytertcaudioreportmode)</li> |

### 类型变更

以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
|成员变量增删 |[`ByteRTCAudioScenarioType`](iOS-keytype#bytertcaudioscenariotype) |新增高音质畅聊模式：`ByteRTCAudioScenarioHighqualityChat` |
|枚举值增删 |[`ByteRTCAudioFrameMethod`](iOS-keytype#bytertcaudioframemethod) |新增获取软件耳返音频：`ByteRTCAudioFrameProcessorEarMonitor` |

## 3.45.2

### 方法变更

以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  <div style="width: 220pt">变动前方法</div> | <div style="width: 220pt">变动后方法</div> | <div style="width: 150pt">备注</div> |
| --- | --- | --- | --- | --- |
| 废弃原方法 | 音频处理 | `(void)muteAudioPlayback:(ByteRTCMuteState)muteState;` | `(void)setPlaybackVolume:(NSInteger)volume;` | 设置远端用户音量为 0 即可停止播放本地收到的音频流 |

## 3.44

### 方法变更

以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  <div style="width: 210pt">变动前方法</div> | <div style="width: 210pt">变动后方法</div> | 备注 |
|---|---|---|---|---|
|合并、名称和参数变化 |音视频处理 |- `(int) initVirtualBackground(NSString* _Nonnull)licensePath withModel:(NSString* _Nonnull)modelPath;`|[`(int) setBackgroundSticker:(NSString* _Nullable)modelPath source(ByteRTCVirtualBackgroundSource* _Nonnull)source;`](iOS-api#ByteRTCVideo-setbackgroundsticker-source) | \
|||- `(int) enableVirtualBackground(ByteRTCVirtualBackgroundSource* _Nonnull)source;`\
|||- `(int) disableVirtualBackground;` |

## 3.43

该版本部分头文件名称及路径发生变化，请参照下表在工程文件中进行调整：

|**平台** |**3.42** |**3.43** |**备注** |
|---|---|---|---|
|iOS |../VolcEngineRTC.framework/Headers/objc/rtc/ByteRTCRoom.h |../VolcEngineRTC.framework/Headers/objc/ByteRTCRoom.h  |迁移至上级目录 **objc** 中 |
|^^|../VolcEngineRTC.framework/Headers/objc/rtc/ByteRTCEngineKit.h |../VolcEngineRTC.framework/Headers/objc/ByteRTCVideo.h |文件名变更，并迁移至上级目录 **objc** 中 |

### 方法变更

以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | <div style="width: 90pt">功能模块</div> | 变动前方法 | 变动后方法 | 备注 |
|---|---|---|---|---|
|基础类名变更 |所有模块 |@class **ByteRTCEngineKit**; |@class **RTCVideo**; | |
|名称和参数变更 |引擎管理 |`(id _Nonnull)initWithAppId:(NSString * _Nonnull)appId delegate:(id<ByteRTCEngineDelegate> _Nullable)delegate parameters:(NSDictionary* _Nullable)parameters;` |[`(RTCVideo * _Nullable) createRTCVideo:(NSString * _Nonnull)appId delegate:(id<RTCVideoDelegate> _Nullable)delegate parameters:(NSDictionary * _Nonnull)parameters;`](iOS-api#ByteRTCVideo-creatertcvideo-delegate-parameters) |
|^^|^^|`(void)destroyEngine;` |[`(void)destroyRTCVideo:(RTCVideo *_Nonnull)video;`](iOS-api#ByteRTCVideo-destroyrtcvideo) |
|^^|多房间 |`(ByteRTCRoom * _Nullable)createRtcRoom:(NSString * _Nonnull)roomId;` |[`( RTCRoom * _Nullable)createRTCRoom:(NSString * _Nonnull)roomId;`](iOS-api#ByteRTCVideo-creatertcroom) |
|位置迁移，所属类型变更 |<li>房间管理</li><li>消息</li><li>屏幕共享</li><li>音视频传输</li><li>视频管理</li><li>转推直播</li><li>音频管理</li><li>公共流管理</li><li>多房间</li>|以下方法从 RTCVideo（原 ByteRTCEngineKit）类下移除，使用 RTCRoom 类中的同名方法代替：<li>setUserVisibility</li><li>publishStream</li><li>unpublishStream</li><li>移除 joinRoomByKey，使用 joinRoomByToken 代替</li><li>leaveRoom</li><li>移除 updateToken，使用 renewToken 代替</li><li>pauseAllSubscribedStream</li><li>resumeAllSubscribedStream</li><li>setRemoteVideoConfig</li><li>subscribeStream</li><li>unSubscribeStream</li><li>subscribeScreen</li><li>unSubscribeScreen</li><li>sendRoomMessage</li><li>sendRoomBinaryMessage</li><li>sendUserMessage</li><li>sendUserBinaryMessage</li><li>publishScreen</li><li>unpublishScreen</li><li>startForwardStreamToRooms</li><li>updateForwardStreamToRooms</li><li>stopForwardStreamToRooms</li><li>pauseForwardStreamToAllRooms</li><li>resumeForwardStreamToAllRooms</li><li>setMultiDeviceAVSync</li>||
|参数变更 |网络管理 |`(int)setRemoteUserPriority:(ByteRTCRemoteUserPriority)priority uid:(NSString *_Nonnull)uid;` |[`(int)setRemoteUserPriority:(ByteRTCRemoteUserPriority)priority InRoomId:(NSString *_Nonnull)roomId uid:(NSString *_Nonnull)uid;`](iOS-api#ByteRTCVideo-setremoteuserpriority-inroomid-uid) |
|^^|音频管理 |`(void)setRemoteAudioPlaybackVolume:(NSString* _Nonnull)uid volume:(int)volume;` |[`(void)setRemoteAudioPlaybackVolume:(NSString *_Nonnull)room_id remoteUid:(NSString *_Nonnull)uid playVolume:(NSInteger)volume;`](iOS-api#ByteRTCVideo-setremoteaudioplaybackvolume-remoteuid-playvolume) | 新增 `room_id` 参数，且为必填。 |
|删除 |引擎管理 |<li>`(ByteRTCEngineKit * _Nullable) sharedInstance;`</li><li>`(void)destroy;`</li> |/|

### 回调变更

以下表格中的回调发生了变化。你需要在工程文件中找到该回调，并进行相关修改：

| 变更详情 | <div style="width: 90pt">功能模块</div> | 变动前方法  | 变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
|基础类名变更 |所有模块 |@protocol **ByteRTCEngineDelegate** <NSObject> |@protocol **RTCVideoDelegate** <NSObject> | |
|位置迁移，所属类型变化 |<li>引擎管理</li><li>房间管理</li><li>视频管理</li><li>音频管理</li><li>网络管理</li><li>数据统计</li><li>消息</li><li>音视频传输</li><li>公共流管理</li>|以下回调从 ByteRTCEngineDelegate 类下移除，使用 RTCRoomDelegate（原 ByteRTCRoomDelegate） 类中的同名回调代替：<li>onRoomStateChanged</li><li>onLeaveRoomWithStats</li><li>onUserJoined</li><li>onUserLeave</li><li>onTokenWillExpire</li><li>onUserPublishStream</li><li>onUserUnPublishStream</li><li>onUserPublishScreen</li><li>onUserUnPublishScreen</li><li>onVideoStreamBanned</li><li>onAudioStreamBanned</li><li>onRoomMessageReceived</li><li>onRoomBinaryMessageReceived</li><li>onRoomStats</li><li>onLocalStreamStats</li><li>onRemoteStreamStats</li><li>onUserMessageReceived</li><li>onUserBinaryMessageReceived</li><li>onUserMessageSendResult</li><li>onRoomMessageSendResult</li><li>onForwardStreamStateChanged</li><li>onForwardStreamEvent</li><li>onAVSyncStateChange</li> ||
|参数变更 |音频管理 |`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onUserStartAudioCapture:(NSString *_Nonnull)userId;` |[`(void)rtcEngine:(RTCVideo * _Nonnull)engine onUserStartAudioCapture:(NSString* _Nonnull)roomId uid:(NSString *_Nonnull)userId;`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onuserstartaudiocapture-uid) |
|^^|^^|`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onUserStopAudioCapture:(NSString *_Nonnull)userId;` |[`(void)rtcEngine:(RTCVideo * _Nonnull)engine onUserStopAudioCapture:(NSString* _Nonnull)roomId uid:(NSString *_Nonnull)userId;`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onuserstopaudiocapture-uid) |
|^^|音视频传输 |`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onUserStartVideoCapture:(NSString *_Nonnull)userId;` |[`(void)rtcEngine:(RTCVideo * _Nonnull)engine onUserStartVideoCapture:(NSString * _Nonnull)roomId uid:(NSString * _Nonnull)uid;`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onuserstartvideocapture-uid) |
|^^|^^|`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onUserStopVideoCapture:(NSString *_Nonnull)userId;` |[`(void)rtcEngine:(RTCVideo * _Nonnull)engine onUserStopVideoCapture:(NSString * _Nonnull)roomId uid:(NSString * _Nonnull)uid;`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onuserstopvideocapture-uid) |
|^^|房间管理 |`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onAudioFrameSendStateChanged:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFrameSendState)state;` |[`(void)rtcEngine:(RTCVideo *_Nonnull)engine onAudioFrameSendStateChanged:(NSString * _Nonnull)roomId rtcUser:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFrameSendState)state;`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onaudioframesendstatechanged-rtcuser-state) |
|^^|^^|`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onVideoFrameSendStateChanged:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFrameSendState)state;` |[`(void)rtcEngine:(RTCVideo *_Nonnull)engine onVideoFrameSendStateChanged:(NSString * _Nonnull)roomId rtcUser:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFrameSendState)state;`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onvideoframesendstatechanged-rtcuser-state) |
|^^|^^|`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onScreenVideoFrameSendStateChanged:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFrameSendState)state;` |[`(void)rtcEngine:(RTCVideo *_Nonnull)engine onScreenVideoFrameSendStateChanged:(NSString * _Nonnull)roomId rtcUser:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFrameSendState)state;`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onscreenvideoframesendstatechanged-rtcuser-state) |
|^^|^^|`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onAudioFramePlayStateChanged:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFramePlayState)state;` |[`(void)rtcEngine:(RTCVideo *_Nonnull)engine onAudioFramePlayStateChanged:(NSString * _Nonnull)roomId rtcUser:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFramePlayState)state;`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onaudioframeplaystatechanged-rtcuser-state) |
|^^|^^|`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onVideoFramePlayStateChanged:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFramePlayState)state;` |[`(void)rtcEngine:(RTCVideo *_Nonnull)engine onVideoFramePlayStateChanged:(NSString * _Nonnull)roomId rtcUser:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFramePlayState)state;`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onvideoframeplaystatechanged-rtcuser-state) |
|^^|^^|`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onScreenVideoFramePlayStateChanged:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFramePlayState)state;` |[`(void)rtcEngine:(RTCVideo *_Nonnull)engine onScreenVideoFramePlayStateChanged:(NSString * _Nonnull)roomId rtcUser:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFramePlayState)state;`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onscreenvideoframeplaystatechanged-rtcuser-state) |
|^^|公共流管理 |`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onPushPublicStreamResult:(NSString *_Nonnull)publicStreamId errorCode:(int)errorCode;` |[`(void)rtcEngine:(RTCVideo *_Nonnull)engine onPushPublicStreamResult:(NSString *_Nonnull)roomId publiscStreamId:(NSString *_Nonnull)streamId errorCode:(ByteRTCTranscodingError)errorCode;`](iOS-callback#ByteRTCVideoDelegate-rtcengine-onpushpublicstreamresult-publiscstreamid-errorcode) |

### 类型变更

以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
|成员变量增删 |[`ByteRTCVideoSolution`](iOS-keytype#bytertcvideosolution) |删除成员变量：`mode` |
|^^|[`ByteRTCVideoEncoderConfig`](iOS-keytype#bytertcvideoencoderconfig) |删除成员变量：`scaleMode` |
|枚举值增删 |[`ByteRTCConnectionState`](iOS-keytype#bytertcconnectionstate) |增加枚举值：`ByteRTCConnectionStateFailed` |

### 错误码变更

以下表格中的错误码发生了变化，你需要进行相应的处理：
| 变更详情 | 错误码 | 备注 |
| --- | --- | --- |
|枚举值增删 |[`ByteRTCErrorCode`](iOS-errorcode#bytertcerrorcode) |新增枚举值：`-1084` |

## 3.42

### 方法变更

以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 | 变动前方法 | 变动后方法 | 备注 |
|---|---|---|---|---|
| 基础类名变更 | 所有模块 | @class **ByteRTCRoom** | @class **RTCRoom** |  |
|位置迁移，所属类型变更|多房间|以下方法从 RTCRoom（原 ByteRTCRoom）类下移除，使用 ByteRTCEngineKit 类中的同名方法代替：<li>setRemoteVideoCanvas</li><li>startLiveTranscoding</li><li>stopLiveTranscoding</li><li>updateLiveTranscoding</li><li>setRemoteAudioPlaybackVolume</li><li>startPushPublicStream</li><li>stopPushPublicStream</li><li>updatePublicStreamParam</li>|| 由于新方法变更为从引擎类上调用，因此增加了 roomId 相关的字段，且均为必填字段。 |
|名称和参数变更|引擎管理|`(int)feedbackTypes:(NSArray* _Nullable)types desc:(NSString* _Nullable)desc;`|[`(int)feedback:(NSArray<ByteRTCProblemOption *> * _Nullable)types desc:(NSString* _Nullable)desc;`](iOS-api#ByteRTCEngineKit-feedback-desc)| |
|^^|自定义音频处理|`(BOOL)registerLocalAudioProcessor:(_Nullable id<ByteRTCAudioProcessor>) audioProcessor format:(ByteRTCAudioFormat* _Nullable)format;`|[`(BOOL)registerAudioProcessor:(_Nullable id<ByteRTCAudioProcessor>) audioProcessor format:(ByteRTCAudioFormat* _Nullable)format;`](iOS-api#ByteRTCEngineKit-registeraudioprocessor)| |
|参数变更|消息|`(int64_t)sendUserMessage:(NSString * _Nonnull)uid message:(NSString * _Nonnull)message;`|[`(int64_t)sendUserMessage:(NSString * _Nonnull)uid message:(NSString * _Nonnull)message config:(ByteRTCMessageConfig)config;`](iOS-api#ByteRTCEngineKit-sendusermessage-message-config)| |
|^^|^^|`(int64_t)sendUserBinaryMessage:(NSString * _Nonnull)uid message:(NSData * _Nonnull)message;`|[`(int64_t)sendUserBinaryMessage:(NSString * _Nonnull)uid message:(NSData * _Nonnull)message config:(ByteRTCMessageConfig)config;`](iOS-api#ByteRTCEngineKit-senduserbinarymessage-message-config)| |
|^^|^^|`(int64_t)sendUserMessageOutsideRoom:(NSString * _Nonnull)userId message:(NSString * _Nonnull)messageStr;`|[`(int64_t)sendUserMessageOutsideRoom:(NSString * _Nonnull)userId message:(NSString * _Nonnull)messageStr config:(ByteRTCMessageConfig)config;`](iOS-api#ByteRTCEngineKit-sendusermessageoutsideroom-message-config)| |
|^^|^^|`(int64_t)sendUserBinaryMessageOutsideRoom:(NSString * _Nonnull)userId message:(NSData * _Nonnull)messageStr;`|[`(int64_t)sendUserBinaryMessageOutsideRoom:(NSString * _Nonnull)userId message:(NSData * _Nonnull)messageStr config:(ByteRTCMessageConfig)config;`](iOS-api#ByteRTCEngineKit-senduserbinarymessageoutsideroom-message-config)| |

### 回调变更

以下表格中的回调发生了变化。你需要在工程文件中找到该回调，并进行相关修改：

| 变更详情 | 功能模块 | 变动前方法  | 变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 基础类名变更 | 所有模块 | @protocol **ByteRTCRoomDelegate** <NSObject> | @protocol **RTCRoomDelegate** <NSObject> |  |
|位置迁移，所属类型变更| 多房间 |以下回调从 RTCRoomDelegate（原 ByteRTCRoomDelegate） 类下移除，使用 ByteRTCEngineDelegate 类中的同名回调代替：<li>onUserStartAudioCapture</li><li>onUserStopAudioCapture</li><li>onFirstLocalAudioFrame</li><li>onFirstRemoteAudioFrame</li><li>onUserStartVideoCapture</li><li>onUserStopVideoCapture</li><li>onFirstLocalVideoFrameCaptured</li><li>onFirstRemoteVideoFrameRendered</li><li>onFirstRemoteVideoFrameDecoded</li><li>onRemoteVideoSizeChanged</li><li>onLocalVideoSizeChanged</li><li>onAudioFrameSendStateChanged</li><li>onVideoFrameSendStateChanged</li><li>onScreenVideoFrameSendStateChanged</li><li>onAudioFramePlayStateChanged</li><li>onVideoFramePlayStateChanged</li><li>onScreenVideoFramePlayStateChanged</li><li>onFirstLocalAudioFrame</li><li>onLocalAudioStateChanged</li><li>onRemoteAudioStateChanged</li><li>onLocalVideoStateChanged</li><li>onRemoteVideoStateChanged</li>|| |
|参数变更|音频路由|`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onAudioRouteChanged:(ByteRTCAudioRoute)device;`|[`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onAudioRouteChanged:(ByteRTCAudioRoute)device;`](iOS-callback#rtcengine-onaudioroutechanged)`](iOS-callback#rtcengine-onaudioroutechanged)| |
|回调重构|自定义音频处理|`@protocol ByteRTCAudioProcessor <NSObject>`<br> `- (int)processAudioFrame:(ByteRTCAudioFrame * _Nonnull)audioFrame;`<br>`@end`|`@protocol ByteRTCAudioProcessor <NSObject> ` <br> [`- (int)onProcessRecordAudioFrame:(ByteRTCAudioFrame * _Nonnull)audioFrame;`](iOS-callback#ByteRTCAudioFrameProcessor-onprocessrecordaudioframe) <br> [`- (int)onProcessPlaybackAudioFrame:(ByteRTCAudioFrame * _Nonnull)audioFrame; `](iOS-callback#ByteRTCAudioFrameProcessor-onprocessplaybackaudioframe) <br> [`- (int)onProcessRemoteUserAudioFrame:(ByteRTCAudioFrame * _Nonnull)audioFrame; `](iOS-callback#ByteRTCAudioFrameProcessor-onprocessremoteuseraudioframe-audioframe)<br>`@end`| |


### 类型变更

以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
|枚举值增删 |`ByteRTCRoomProfile` |增加以下枚举值：\
|||- `ByteRTCRoomProfileChat = 5`\
|||- `ByteRTCRoomProfileChatRoom = 6`\
|||- `ByteRTCRoomProfileLwTogether = 7`\
|||- `ByteRTCRoomProfileGameHD = 8`\
|||- `ByteRTCRoomProfileCoHost = 9`\
|||- `ByteRTCRoomProfileInteractivePodcast = 10`\
|||- `ByteRTCRoomProfileKTV = 11`\
|||- `ByteRTCRoomProfileChorus = 12`\
|||- `ByteRTCRoomProfileVRChat = 13`\
|||- `ByteRTCRoomProfileGameStreaming = 14`\
|||- `ByteRTCRoomProfileLanLiveStreaming = 15`\
|||- `ByteRTCRoomProfileMeeting = 16`\
|||- `ByteRTCRoomProfileMeetingRoom = 17`\
|||- `ByteRTCRoomProfileClassroom = 18`\
|||删除了 `ByteRTCRoomProfileLiveBroadcasting = 1`，建议根据实际业务情况，替换为以下模式：\
|||- `ByteRTCRoomProfileChatRoom = 6`\
|||- `ByteRTCRoomProfileCoHost = 9`\
|||- `ByteRTCRoomProfileInteractivePodcast = 10`\
|||- `ByteRTCRoomProfileKTV = 11`\
|||- `ByteRTCRoomProfileChorus = 12` |
|枚举值增删 |[`ByteRTCAudioProfileType`](iOS-keytype#bytertcaudioprofiletype) |增加以下枚举值：\
|||- `ByteRTCAudioProfileStandardStereo = 4`\
|||- `ByteRTCAudioProfileHDMono = 5` |
|成员变量增删 |[`ByteRTCLocalVideoStats`](iOS-keytype#bytertclocalvideostats) |删除以下成员变量：\
|||- `sentTargetKBitrate`\
|||	\
|||- `sentTargetFrameRate` |
|成员变量增删 |[`ByteRTCRoomStats`](iOS-keytype#bytertcroomstats) |增加以下成员变量：\
|||- `txKbitrate`\
|||	\
|||- `rxKbitrate`\
|||	\
|||- `txScreenKBitrate`\
|||	\
|||- `rxScreenKBitrate` |
|枚举值增删 |[`ByteRTCMediaDeviceWarning`](iOS-keytype#bytertcmediadevicewarning) |增加以下枚举值：\
|||- `ByteRTCMediaDeviceWarningSetAudioRouteInvalidScenario = 20`\
|||- `ByteRTCMediaDeviceWarningSetAudioRouteNotExists = 21`\
|||- `ByteRTCMediaDeviceWarningSetAudioRouteFailedByPriority = 22`\
|||- `ByteRTCMediaDeviceWarningSetAudioRouteNotVoipMode = 23`\
|||- `ByteRTCMediaDeviceWarningSetAudioRouteDeviceNotStart = 24` |
|枚举值含义变更 |[`ByteRTCAudioScenarioType`](iOS-keytype#bytertcaudioscenariotype) |枚举值对应的语音模式决策逻辑发生变化，本地是否播放不再是决策因素，只取决于麦克风是否开启|

### 错误码变更

以下表格中的错误码发生了变化，你需要进行相应的处理：
| 变更详情 | 错误码 | 备注 |
| --- | --- | --- |
| 枚举值增删 | [`ByteRTCWarningCode`](iOS-errorcode#bytertcwarningcode) | 新增枚举值：`-2014` |

## 3.41

### 回调变更

以下表格中的回调发生了变化。你需要在工程文件中找到该回调，并进行相关修改：

| 变更详情 | 功能模块 | 变动前方法  | 变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 合并或拆分 | 房间管理 | `(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onJoinRoomResult:(NSString *_Nonnull)roomId withUid:(nonnull NSString *)uid errorCode:(NSInteger)errorCode joinType:(NSInteger)joinType elapsed:(NSInteger)elapsed;` | <li>[`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onRoomStateChanged:(NSString *_Nonnull)roomId withUid:(nonnull NSString *)uid state:(NSInteger)state extraInfo:(NSString *_Nonnull)extraInfo;`](iOS-callback#rtcengine-onroomstatechanged-withuid-state-extrainfo)</li><li>[`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onStreamStateChanged:(NSString *_Nonnull)roomId withUid:(nonnull NSString *)uid state:(NSInteger)state extraInfo:(NSString *_Nonnull)extraInfo;`](iOS-callback#rtcengine-onstreamstatechanged-withuid-state-extrainfo) |
| 合并或拆分 | 多房间 | <li>`(void)rtcRoom:(ByteRTCRoom *_Nonnull)rtcRoom onJoinRoomResult:(NSString *_Nonnull)roomId withUid:(nonnull NSString *)uid errorCode:(NSInteger)errorCode joinType:(NSInteger)joinType elapsed:(NSInteger)elapsed;`</li><li>`(void)rtcRoom:(ByteRTCRoom *_Nonnull)rtcRoom onRoomWarning:(ByteRTCWarningCode)warningCode;`</li><li>`(void)rtcRoom:(ByteRTCRoom *_Nonnull)rtcRoom onRoomError:(ByteRTCErrorCode)errorCode;` | <li>[`(void)rtcRoom:(ByteRTCRoom *_Nonnull)rtcRoom onRoomStateChanged:(NSString *_Nonnull)roomId withUid:(nonnull NSString *)uid state:(NSInteger)state extraInfo:(NSString *_Nonnull)extraInfo;`](iOS-callback#ByteRTCRoomDelegate-rtcroom-onroomstatechanged-withuid-state-extrainfo)</li><li>[`(void)rtcRoom:(ByteRTCRoom *_Nonnull)rtcRoom onStreamStateChanged:(NSString *_Nonnull)roomId withUid:(nonnull NSString *)uid state:(NSInteger)state extraInfo:(NSString *_Nonnull)extraInfo;`](iOS-callback#rtcroom-onstreamstatechanged-withuid-state-extrainfo) |

## 3.40

### 方法变更

以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 | 变动前方法  | 变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 名称和参数变更 | 音频管理 | `(ByteRTCPositionAudioRender *_Nullable)getPositionAudioRender;` |[`(ByteRTCSpatialAudio *_Nullable)getSpatialAudio;`](iOS-api#getspatialaudio) | 接口由 ByteRTCEngineKit 类移动至 ByteRTCRoom 类 |
| 名称变化 | 音频管理 | `(void)enableAudioSpatialRender:(BOOL) enable;` | [`(void)enableSpatialAudio:(BOOL)enable;`](iOS-api#ByteRTCSpatialAudio-enablespatialaudio) | |
| 原接口废弃，使用新接口代替 | 音频管理 |- `(void)enableExternalAudioDevice:(ByteRTCAudioFormat * _Nonnull) recordingFormat playbackFormat:(ByteRTCAudioFormat * _Nonnull) playbackFormat;`|- [`(int)setAudioSourceType:(ByteRTCAudioSourceType) type;`](iOS-api#ByteRTCEngineKit-setaudiosourcetype)| \
|||- `(void)disableExternalAudioDevice;` |- [`(int)setAudioRenderType:(ByteRTCAudioRenderType) type;`](iOS-api#ByteRTCEngineKit-setaudiorendertype) |

### 类型变更

以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
| 枚举值增删 |[`ByteRTCAACProfile`](iOS-keytype#bytertcaacprofile) | 删除枚举值：`ByteRTCAACProfileMain`。\
||| 枚举值`ByteRTCAACProfileHEv1`的值变为 1，枚举值`ByteRTCAACProfileHEv2`的值变为 2。 |
| 类型增减 | [`ByteRTCTranscoderContentControlType`](iOS-keytype#bytertctranscodercontentcontroltype) | 新增 |
| 成员变量变化 | [`ByteRTCVideoCompositingRegion`](iOS-keytype#bytertcvideocompositingregion) | 成员变量`contentControl`变更为枚举类型 |
| 类型名称变化 | [`ByteRTCAudioRoute`](iOS-keytype#bytertcaudioroute) | 类型名由`ByteRTCAudioRouteDevice`修改为 [`ByteRTCAudioRoute`](iOS-keytype#bytertcaudioroute) |

### 错误码变更

以下表格中的错误码发生了变化，你需要进行相应的处理：
| 变更详情 | 错误码 | 备注 |
| --- | --- | --- |
| 枚举值增删 | [`ByteRTCErrorCode`](Windows-errorcode#bytertcerrorcode) | 新增枚举值：`-1083` |

## 3.39

### 方法变更

以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 | 变动前方法  | 变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 返回值变更 | 实时消息 | `(void)login:(NSString * _Nonnull)token uid:(NSString * _Nonnull)uid;` | [`(int64_t)login:(NSString * _Nonnull)token uid:(NSString * _Nonnull)uid;`](iOS-api#ByteRTCEngineKit-login-uid) | --- |
|API 行为变更 |订阅媒体流|SDK 在每条远端流属性中维护订阅关系。如果该流被移除，订阅关系也将取消 |SDK 在房间属性中维护订阅关系列表。订阅关系将在用户退房后才会取消。 |\--- \
||[subscribeStream:mediaStreamType:](iOS-api#ByteRTCRoom-subscribestream-mediastreamtype)\
||[unSubscribeStream:mediaStreamType:](iOS-api#ByteRTCRoom-unsubscribestream-mediastreamtype) |\
||[subscribeScreen](iOS-api#ByteRTCRoom-subscribescreen-mediastreamtype) |\
||[unsubscribeScreen](iOS-api#ByteRTCRoom-unsubscribescreen-mediastreamtype)

    
### 回调变更

以下表格中的回调发生了变化。你需要在工程文件中找到该回调，并进行相关修改：

| 变更详情 | 功能模块 | 变动前方法  | 变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 实时消息 | `(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onServerMessageSendResult:(int64_t)msgid error:(ByteRTCUserMessageSendResult)error;` | [`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onServerMessageSendResult:(int64_t)msgid error:(ByteRTCUserMessageSendResult)error message:(NSData * _Nonnull)message;`](iOS-callback#ByteRTCEngineDelegate-rtcengine-onservermessagesendresult-error-message) |  |

### 类型变更

以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
| 成员函数属性 | [`ByteRTCLiveTranscoding`](iOS-keytype#bytertclivetranscoding) | 其中成员函数 `roomId` 由可选传入改为必须传入 |


### 错误码变更
以下表格中的错误码发生了变化，你需要进行相应的处理：
| 变更详情 | 错误码 | 备注 |
| --- | --- | --- |
| 枚举值增删 | [`ByteRtcTranscoderErrorCode`](iOS-errorcode#bytertctranscodererrorcode) | 新增枚举值：1095、1096、1097、1098、1099 |

## 3.38

### 方法变更

以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 | 变动前方法  | 变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 替换 | 音频路由设置 | `(int)setAudioPlaybackDevice:(ByteRTCAudioPlaybackDevice)audioPlaybackDevice;` | [`(int)setAudioRoute:(ByteRTCAudioRouteDevice)audioRouteDevice;`](iOS-api#ByteRTCEngineKit-setaudioplaybackdevice) |  |
    
### 回调变更

以下表格中的回调发生了变化。你需要在工程文件中找到该回调，并进行相关修改：

| 变更详情 | 功能模块 | 变动前方法  | 变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 替换 | 音频路由设置 | `(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onAudioPlaybackDeviceChanged:(ByteRTCAudioPlaybackDevice)device;` | [`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onAudioRouteChanged:(ByteRTCAudioRouteDevice)device;`](iOS-callback#IRTCEngineEventHandler-rtcengine-onaudioroutechanged) |  |

### 类型变更
以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
| 成员变量变化 | [`ByteRTCRemoteVideoConfig`](iOS-keytype#bytertcremotevideoconfig) |`frameRateRation` 变为 `framerate`，由输入与原始帧率的比例变为输入期望订阅的最大帧率 |
| 成员变量增删 | [`ByteRTCSubscribeConfig`](iOS-keytype#bytertcsubscribeconfig) | 新增成员变量 `framerate` |
| 枚举值增删 | [`ByteRTCAudioMixingError`](iOS-keytype#bytertcaudiomixingerror) | 新增枚举值：`ByteRTCAudioMixingErrorInValidPlaybackSpeed` |
|枚举值增删|[`ByteRTCMediaDeviceState`](iOS-keytype#bytertcmediadevicestate)|新增枚举值：`ByteRTCMediaDeviceStateInterruptionBegan`，表示媒体设备采集暂停，等待自动恢复|
|枚举值增删|[`ByteRTCMediaDeviceState`](iOS-keytype#bytertcmediadevicestate)|新增枚举值：`ByteRTCMediaDeviceStateInterruptionEnded`，表示媒体设备采集已自动恢复|
### 错误码变更
以下表格中的错误码发生了变化，你需要进行相应的处理：
| 变更详情 | 错误码 | 备注 |
| --- | --- | --- |
| 枚举值增删 | [`ByteRTCErrorCode`](Windows-errorcode#bytertcerrorcode) | 新增错误码：`ByteRTCErrorCodeTokenExpired`，表示用户因 Token 过期被踢出房间 |
| 枚举值增删 | [`ByteRTCErrorCode`](Windows-errorcode#bytertcerrorcode) | 新增枚举值：`ByteRTCErrorCodeUpdateTokenWithInvalidToken`，表示调用 [updateToken:](iOS-api#ByteRTCEngineKit-updatetoken) 使用的 Token 无效 |

## 3.37

### 方法变更
以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  变动前方法  |  变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 合并 | 音频数据回调 | <li>`- (BOOL)setRecordingAudioFrameParameters:(NSInteger)samplesPerSec channels:(NSInteger)channels;`</li><li>`- (BOOL)setPlaybackAudioFrameParameters:(NSInteger)samplesPerSec channels:(NSInteger)channels;`</li><li>`- (BOOL)setMixedAudioFrameParameters:(NSInteger)samplesPerSec channels:(NSInteger)channels;`</li> | [`- (void)enableAudioFrameCallback:(ByteRTCAudioFrameCallbackMethod) method format:(ByteRTCAudioFormat* _Nullable)format;`](iOS-api#ByteRTCEngineKit-enableaudioframecallback-format) | 在`format`中设置回调的音频数据类型 |
| 参数增加 | 本地录制 | `- (int)startFileRecording:(ByteRTCStreamIndex)streamIndex withRecordingConfig:(ByteRTCRecordingConfig* _Nonnull)recordingConfig;` | [`- (int)startFileRecording:(ByteRTCStreamIndex)streamIndex withRecordingConfig:(ByteRTCRecordingConfig* _Nonnull)recordingConfig type:(ByteRTCRecordingType)recordingType;`](iOS-api#ByteRTCEngineKit-startfilerecording-withrecordingconfig-type) | |

### 回调变更

以下表格中的回调发生了变化。你需要在工程文件中找到该回调，并进行相关修改：

| 变更详情 | 功能模块 | 变动前方法  |   <div style="width: 200pt">变动后方法</div>  | 备注 |
| --- | --- | --- | --- | --- |
| 拆分 | 引擎管理 | `- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onMediaDeviceStateChanged:(NSString*_Nonnull)device_id device_type:(ByteRTCMediaDeviceType)device_type device_state:(ByteRTCMediaDeviceState)device_state device_error:(ByteRTCMediaDeviceError)device_error;` | <li>[`- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onAudioDeviceStateChanged:(NSString*_Nonnull)device_id device_type:(ByteRTCAudioDeviceType)device_type device_state:(ByteRTCMediaDeviceState)device_state device_error:(ByteRTCMediaDeviceError)device_error;`](iOS-callback#ByteRTCEngineDelegate-rtcengine-onaudiodevicestatechanged-device_type-device_state-device_error)</li><li>[`- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onVideoDeviceStateChanged:(NSString*_Nonnull)device_id device_type:(ByteRTCVideoDeviceType)device_type device_state:(ByteRTCMediaDeviceState)device_state device_error:(ByteRTCMediaDeviceError)device_error;`](iOS-callback#ByteRTCEngineDelegate-rtcengine-onvideodevicestatechanged-device_type-device_state-device_error)</li> | 媒体设备状态回调拆分成音频和视频设备状态回调 |
| 拆分 | 引擎管理 | `- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onMediaDeviceWarning:(NSString*_Nonnull)deviceId deviceType:(ByteRTCMediaDeviceType)deviceType deviceWarning:(ByteRTCMediaDeviceWarning)deviceWarning;` | <li>[`- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onAudioDeviceWarning:(NSString*_Nonnull)deviceId deviceType:(ByteRTCAudioDeviceType)deviceType deviceWarning:(ByteRTCMediaDeviceWarning)deviceWarning;`](iOS-callback#ByteRTCEngineDelegate-rtcengine-onaudiodevicewarning-devicetype-devicewarning)</li><li>[`- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onVideoDeviceWarning:(NSString*_Nonnull)deviceId deviceType:(ByteRTCVideoDeviceType)deviceType deviceWarning:(ByteRTCMediaDeviceWarning)deviceWarning;`](iOS-callback#ByteRTCEngineDelegate-rtcengine-onvideodevicewarning-devicetype-devicewarning)</li> | 媒体设备警告回调拆分成音频和视频设备警告回调 |

## 3.36

### 方法变更
以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  变动前方法  |  变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 转推直播/多房间 | <li>`- (int)startLiveTranscoding:(ByteRTCLiveTranscoding *_Nullable)transcoding observer:(id<LiveTranscodingDelegate> _Nullable)observer;`</li><li>`- (int)stopLiveTranscoding;`</li><li>`- (int)updateLiveTranscoding:(ByteRTCLiveTranscoding *_Nonnull)transcoding;`</li> | <li>[`- (int)startLiveTranscoding:(NSString * _Nonnull)task_id transcoding:(ByteRTCLiveTranscoding *_Nullable)transcoding observer:(id<LiveTranscodingDelegate> _Nullable)observer;`](iOS-api#ByteRTCEngineKit-startlivetranscoding-transcoding-observer)</li><li>[`- (int)stopLiveTranscoding:(NSString *_Nonnull)task_id;`](iOS-api#ByteRTCEngineKit-stoplivetranscoding)</li><li>[`- (int)updateLiveTranscoding:(NSString *_Nonnull)task_id transcoding:(ByteRTCLiveTranscoding *_Nonnull)transcoding;`](iOS-api#ByteRTCEngineKit-updatelivetranscoding-transcoding)</li> | 新增参数，设置转推直播任务 ID |
| 参数变化 | 屏幕共享 | <li>`- (void)publishScreen;`</li><li>`- (void)unpublishScreen;`</li> | <li>[`- (void)publishScreen:(ByteRTCMediaStreamType)type;`](iOS-api#ByteRTCEngineKit-publishscreen)</li><li>[`- (void)unpublishScreen:(ByteRTCMediaStreamType)type;`](iOS-api#ByteRTCEngineKit-unpublishscreen)</li> | 新增参数，设置发布/取消发布的媒体类型 |
| 参数变化 | 多房间 | <li>`- (int)publishScreen;`</li><li>`- (int)unpublishScreen;`</li> | <li>[`- (int)publishScreen;`](iOS-api#ByteRTCRoom-publishscreen)</li><li>[`- (int)unpublishScreen;`](iOS-api#ByteRTCRoom-unpublishscreen)</li> | 新增参数，设置发布/取消发布的媒体类型 |
| 名称变化 | 屏幕共享 | `- (void)stopScreenSharing API_AVAILABLE(ios(12));` | [`- (void)stopScreenCapture`](iOS-api#ByteRTCEngineKit-stopscreencapture) | |
| 名称和参数变化 | 多房间 | <li>`- (int)publish;`</li><li> `- (int)unpublish;`</li> | <li>[`- (int)publishStream:(ByteRTCMediaStreamType)type;`](iOS-api#ByteRTCRoom-publishstream)</li><li>[`- (int)unpublishStream:(ByteRTCMediaStreamType)type;](iOS-api#ByteRTCRoom-unpublishstream)`</li> | 新版本中新增独立的接口单独控制摄像头/麦克风采集的音频/视频的发布/取消发布 |
| 合并 | 房间管理 | <li>`- (BOOL)publish;`</li><li>`- (BOOL)unpublish;`</li><li>`- (void)muteLocalAudio:(ByteRTCMuteState)muteState;`</li><li>`- (void)muteLocalVideo:(ByteRTCMuteState)mute_state;`</li> | <li>[`- (BOOL)publishStream:(ByteRTCMediaStreamType)type;`](iOS-api#ByteRTCEngineKit-publishstream)</li><li>[`- (BOOL)unpublishStream:(ByteRTCMediaStreamType)type;`](iOS-api#ByteRTCEngineKit-unpublishstream)</li> | 新版本中新增独立的接口单独控制摄像头/麦克风采集的音频/视频的发布/取消发布 |
| 拆分 | 屏幕共享 | `- (int)startScreenSharingWithPreferredExtension:(NSString *_Nullable)extension groupId:(NSString *_Nonnull)groupId API_AVAILABLE(ios(12));` | <li>[`- (void)setExtensionConfig:(NSString *_Nullable)groupId;`](iOS-api#ByteRTCEngineKit-setextensionconfig)</li><li>[`- (void)startScreenCapture:(ByteRTCScreenMediaType) type boudleId:(NSString *_Nullable)bundleId;`](iOS-api#ByteRTCEngineKit-startscreencapture-boudleid)</li> |
| 拆分 | 房间管理 | `- (void)subscribeUserStream:(NSString *_Nonnull)userId streamType:(ByteRTCStreamIndex)streamType mediaType:(ByteRTCSubscribeMediaType)mediaType videoConfig:(ByteRTCSubscribeVideoConfig *_Nonnull)videoConfig;` | <li>[`- (void)subscribeStream:(NSString *_Nonnull)userId mediaStreamType:(ByteRTCMediaStreamType)mediaStreamType;`](iOS-api#ByteRTCEngineKit-subscribestream-mediastreamtype)</li><li>[`- (void)unSubscribeStream:(NSString *_Nonnull)userId mediaStreamType:(ByteRTCMediaStreamType)mediaStreamType;`](iOS-api#ByteRTCEngineKit-unsubscribestream-mediastreamtype)</li><li>[`- (void)subscribeScreen:(NSString *_Nonnull)userId mediaStreamType:(ByteRTCMediaStreamType)mediaStreamType;`](iOS-api#ByteRTCEngineKit-subscribescreen-mediastreamtype)</li><li>[`- (void)unSubscribeScreen:(NSString *_Nonnull)userId mediaStreamType:(ByteRTCMediaStreamType)mediaStreamType;`](iOS-api#ByteRTCEngineKit-unsubscribescreen-mediastreamtype)</li> | 单房间模式下，解耦摄像头/麦克风采集的媒体流与屏幕共享媒体流的订阅/取消订阅 |
| 拆分 | 多房间 | `- (void)subscribeUserStream:(NSString *_Nonnull)userId streamType:(ByteRTCStreamIndex)streamType mediaType:(ByteRTCSubscribeMediaType)mediaType videoConfig:(ByteRTCSubscribeVideoConfig *_Nonnull)videoConfig;` | <li>[`- (void)subscribeStream:(NSString *_Nonnull)userId mediaStreamType:(ByteRTCMediaStreamType)mediaStreamType;`](iOS-api#ByteRTCRoom-subscribestream-mediastreamtype)</li><li>[`- (void)unSubscribeStream:(NSString *_Nonnull)userId mediaStreamType:(ByteRTCMediaStreamType)mediaStreamType;`](iOS-api#ByteRTCRoom-unsubscribestream-mediastreamtype)</li><li>[`- (void)subscribeScreen:(NSString *_Nonnull)userId mediaStreamType:(ByteRTCMediaStreamType)mediaStreamType;`](iOS-api#ByteRTCRoom-subscribescreen-mediastreamtype)</li><li>[`- (void)unSubscribeScreen:(NSString *_Nonnull)userId mediaStreamType:(ByteRTCMediaStreamType)mediaStreamType;`](iOS-api#ByteRTCRoom-unsubscribescreen-mediastreamtype)</li> | 单房间模式下，解耦摄像头/麦克风采集的媒体流与屏幕共享媒体流的订阅/取消订阅 |
| 拆分 | 视频管理 | ` - (int)setVideoEncoderConfig:(ByteRTCStreamIndex)streamIndex config:(NSArray <ByteRTCVideoSolution *> * _Nullable)videoSolutions;` | <li>[`-(int)SetVideoEncoderConfig:(NSArray <ByteRTCVideoEncoderConfig *> * _Nullable) channel_solutions;`](iOS-api#ByteRTCEngineKit-setvideoencoderconfig)</li><li>[`-(int)SetScreenVideoEncoderConfig:(ByteRTCVideoEncoderConfig * _Nullable) screen_solution;`](iOS-api#ByteRTCEngineKit-setscreenvideoencoderconfig)</li> | 使用独立的接口分别设置摄像头视频流和屏幕视频流的发布参数 |

### 回调变更
以下表格中的回调发生了变化。你需要在工程文件中找到该回调，并进行相关修改：

| 变更详情 | 功能模块 |  变动前回调  |  变动后回调  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 房间管理 | <li>`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onUserLeave:(NSString *_Nonnull)uid reason:(ByteRTCUserOfflineReason)reason;`</li><li>`(void)rtcRoom:(ByteRTCRoom *_Nonnull)rtcRoom onUserLeave:(NSString *_Nonnull)uid reason:(ByteRTCUserOfflineReason)reason;`</li> | <li>[`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onUserLeave:(NSString *_Nonnull)uid reason:(ByteRTCUserOfflineReason)reason;`](iOS-callback#ByteRTCEngineDelegate-rtcengine-onuserleave-reason)</li><li>[`- (void)rtcRoom:(ByteRTCRoom *_Nonnull)rtcRoom onUserLeave:(NSString *_Nonnull)uid reason:(ByteRTCUserOfflineReason)reason;`](iOS-callback#ByteRTCRoomDelegate-rtcroom-onuserleave-reason)</li> | `reason` 参数变化 |
| 删除 | 转推直播 | `- (void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onLiveTranscodingResult:(NSString *_Nonnull)url errorCode:(ByteRTCTranscodingError)errorCode;` | / |
| 删除 | 多房间 | `- (void)rtcRoom:(ByteRTCRoom *_Nonnull)rtcRoom onLiveTranscodingResult:(NSString *_Nonnull)url errorCode:(ByteRTCTranscodingError)errorCode;` | / |
| 拆分或合并 | 房间管理 | <li>`- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onStreamAdd:(id <ByteRTCStream> _Nonnull)stream;`</li><li>`- (void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine didStreamRemoved:(NSString *_Nonnull)uid stream:(id<ByteRTCStream> _Nonnull)stream reason:(ByteRTCStreamRemoveReason)reason;`</li><li>`- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onUserMuteAudio:(NSString * _Nonnull)uid muteState:(ByteRTCMuteState)muteState;`</li><li>`- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onUserMuteVideo:(NSString * _Nonnull)uid withMuteState:(ByteRTCMuteState)muteState;`</li> | <li>[`- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onUserPublishStream:(NSString *_Nonnull)userId type:(ByteRTCMediaStreamType)type;`](iOS-callback#ByteRTCEngineDelegate-rtcengine-onuserpublishstream-type)</li><li>[`- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onUserPublishScreen:(NSString *_Nonnull)userId type:(ByteRTCMediaStreamType)type;`](iOS-callback#ByteRTCEngineDelegate-rtcengine-onuserpublishscreen-type)</li><li>[`- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onUserUnPublishStream:(NSString *_Nonnull)userId type:(ByteRTCMediaStreamType)type reason:(ByteRTCStreamRemoveReason)reason;`](iOS-callback#ByteRTCEngineDelegate-rtcengine-onuserunpublishstream-type-reason)</li><li>[`- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onUserUnPublishScreen:(NSString *_Nonnull)userId type:(ByteRTCMediaStreamType)type reason:(ByteRTCStreamRemoveReason)reason;`](iOS-callback#ByteRTCEngineDelegate-rtcengine-onuserunpublishscreen-type-reason)</li> | 单房间模式下，解耦新增或移除摄像头/麦克风采集的媒体流与新增屏幕共享媒体流的回调，同时去除旧版本回调在功能上的重合 |
| 拆分或合并 | 多房间 | <li>`- (void)rtcRoom:(ByteRTCRoom *_Nonnull)rtcRoom onStreamAdd:(id<ByteRTCStream> _Nonnull)stream;`</li><li>`- (void)rtcRoom:(ByteRTCRoom *_Nonnull)rtcRoom didStreamRemoved:(NSString *_Nonnull)uid stream:(id<ByteRTCStream> _Nonnull)stream reason:(ByteRTCStreamRemoveReason)reason;`</li><li>`- (void)rtcRoom:(ByteRTCRoom *_Nonnull)rtcRoom onUserMut`</li><li>`- (void)rtcRoom:(ByteRTCRoom *_Nonnull)rtcRoom onUserMuteVideo:(NSString *_Nonnull)uid withMuteState:(ByteRTCMuteState)muteState;`</li> | <li>[`- (void)rtcRoom:(ByteRTCRoom * _Nonnull)rtcRoom onUserPublishStream:(NSString *_Nonnull)userId type:(ByteRTCMediaStreamType)type;`](iOS-callback#ByteRTCRoomDelegate-rtcroom-onuserpublishstream-type)</li><li>[`- (void)rtcRoom:(ByteRTCRoom * _Nonnull)rtcRoom onUserPublishScreen:(NSString *_Nonnull)userId type:(ByteRTCMediaStreamType)type;`](iOS-callback#ByteRTCRoomDelegate-rtcroom-onuserpublishscreen-type)</li><li>[`- (void)rtcRoom:(ByteRTCRoom * _Nonnull)rtcRoom onUserUnPublishStream:(NSString *_Nonnull)userId type:(ByteRTCMediaStreamType)type reason:(ByteRTCStreamRemoveReason)reason;`](iOS-callback#ByteRTCRoomDelegate-rtcroom-onuserunpublishstream-type-reason)</li><li>[`- (void)rtcRoom:(ByteRTCRoom * _Nonnull)rtcRoom onUserUnPublishScreen:(NSString *_Nonnull)userId type:(ByteRTCMediaStreamType)type reason:(ByteRTCStreamRemoveReason)reason;`](iOS-callback#ByteRTCRoomDelegate-rtcroom-onuserunpublishscreen-type-reason)</li> | 单房间模式下，解耦新增或移除摄像头/麦克风采集的媒体流与新增屏幕共享媒体流的回调，同时去除旧版本回调在功能上的重合 |

### 类型变更
以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
| 枚举值增减 | [`ByteRTCMediaDeviceType`](iOS-keytype#bytertcmediadevicetype) | 新增了枚举值：`ByteRTCMediaDeviceTypeScreenVideoCaptureDevice`|
| 枚举值增减 | [`ByteRTCStreamMixingEvent`](iOS-keytype#bytertcstreammixingevent) | 新增了多个枚举值|
| 类型增减 | [`ByteRTCScreenMediaType`](iOS-keytype#bytertcscreenmediatype) | 新增屏幕采集媒体类型 |
| 成员变量变化 | [ByteRTCLocalStreamStats](iOS-keytype#bytertclocalstreamstats) 和 [ByteRTCRemoteStreamStats](iOS-keytype#bytertcremotestreamstats) | `txQuality` 和 `rxQuality` 成员变量移动到了新增类型 [ByteRTCNetworkQualityStats](iOS-keytype#bytertcnetworkqualitystats) 中，通过 [rtcEngine:onNetworkQuality:remoteQualities:](iOS-callback#rtcEngine-onNetworkQuality-remoteQualities) 回调获取 |
| 成员变量变化 | [ByteRTCAudioPropertiesInfo](iOS-keytype#bytertcaudiopropertiesinfo) | 成员变量 `volume` 拆分为 `linearVolume` 和 `nonlinearVolume` |
| 成员变量增删 | [`ByteRTCRoomConfig`](iOS-keytype#bytertcroomconfig) | 新增 `remoteVideoConfig` |
| 成员变量增删 | [`ByteRTCMultiRoomConfig`](iOS-keytype#bytertcmultiroomconfig) | 新增 `remoteVideoConfig` |

## 3.35

### 行为变更

自此版本起，本地视频采集参数默认由系统自动设置，而不是和编码参数保持一致。你可以通过 VideoCaptureConfig 进行相关设置。如果你的代码逻辑中对采集到的视频帧进行了自定义处理，应对处理逻辑进行相应修改。

### 方法变更

| 变更详情 | 功能模块 |  变动前方法  |  变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 视频管理 | `- (int)setVideoCaptureConfig:(ByteRTCVideoCaptureConfig * _Nullable)captureConfig;` | [`- (int)setVideoCaptureConfig:(ByteRTCVideoCaptureConfig * _Nullable)captureConfig;`](iOS-api#setvideocaptureconfig) | 增加摄像头采集参数中的模式设置 |

### 回调变更
以下表格中的回调发生了变化。你需要在工程文件中找到该回调，并进行相关修改：

| 变更详情 | 功能模块 |  变动前回调  |  变动后回调  | 备注 |
| --- | --- | --- | --- | --- |
| 名称变化 | 视频管理 | `- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onFirstRemoteVideoFrameRendered:(ByteRTCRemoteStreamKey * _Nonnull)streamKey withFrameInfo:(ByteRTCVideoFrameInfo * _Nonnull)frameInfo;` | [`- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onFirstRemoteVideoFrameDecoded:(ByteRTCRemoteStreamKey * _Nonnull)streamKey withFrameInfo:(ByteRTCVideoFrameInfo * _Nonnull)frameInfo;`](iOS-callback#rtcengine-onfirstremotevideoframedecoded-withframeinfo) |
| 名称变化 | 多房间 | `- (void)rtcRoom:(ByteRTCRoom *_Nonnull)rtcRoom onFirstRemoteVideoFrameRendered:(ByteRTCRemoteStreamKey *_Nonnull)streamKey withFrameInfo:(ByteRTCVideoFrameInfo *_Nonnull)frameInfo;` | [`- (void)rtcRoom:(ByteRTCRoom *_Nonnull)rtcRoom onFirstRemoteVideoFrameDecoded:(ByteRTCRemoteStreamKey *_Nonnull)streamKey withFrameInfo:(ByteRTCVideoFrameInfo *_Nonnull)frameInfo;`](iOS-callback#rtcengine-onfirstremotevideoframedecoded-withframeinfo) |

## 3.34

### 类型变更
以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
| 枚举值增减 | [`ByteRTCAudioMixingError`](iOS-keytype#bytertcaudiomixingerror) | 新增了枚举值：`ByteRTCNetworkDetectionStopReasonInnerErr` |
| 枚举值增减 | [`ByteRTCNetworkDetectionStopReason`](iOS-keytype#bytertcnetworkdetectionstopreason) | 新增了枚举值：`ByteRTCAudioMixingErrorInValidPitch` |
| 成员变量变化 | [`ByteRTCAudioMixingConfig`](iOS-keytype#bytertcaudiomixingconfig) | 新增了成员变量：`position` 和 `callbackOnProgressInterval` |

### 错误码变更
以下表格中的错误码发生了变化，你需要进行相应的处理：

| 变更详情 | 错误码  | 备注 |
| --- | --- | --- |
| 枚举值增减 | [`ByteRTCWarningCode`](iOS-errorcode#bytertcwarningcode) | 新增了枚举值：`-5011` |

## 3.33

### 方法变更
以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  变动前方法  |  变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 音频管理 | <li>`(void)enableAudioMixingFrame:(ByteRTCAudioMixingType)type;`</li><li>`(void)disableAudioMixingFrame;`</li><li>`(int)pushAudioMixingFrame:(ByteRTCAudioFrame* _Nullable)audioFrame;`</li> | <li>[`(void)enableAudioMixingFrame:(int)id type:(ByteRTCAudioMixingType)type;`](iOS-api#enableaudiomixingframe-type)</li><li>[`(void)disableAudioMixingFrame:(int)id;`](iOS-api#disableaudiomixingframe)</li><li>[`(int)pushAudioMixingFrame:(int)id audioFrame:(ByteRTCAudioFrame* _Nullable)audioFrame;`](iOS-api#pushaudiomixingframe-audioframe)</li> |

### 错误码变更
以下表格中的错误码发生了变化，你需要进行相应的处理：

| 变更详情 | 错误码  | 备注 |
| --- | --- | --- |
| 枚举值增减 | [`ByteRTCWarningCode`](iOS-errorcode#bytertcwarningcode) | 废弃了枚举值 `-5002` ~ `-5008`。<br>使用 [`onMediaDeviceStateChanged`](iOS-callback#rtcengine-onmediadevicestatechanged-device-type-device-state-device-error) 代替。 |
| 枚举值增减 | [`ByteRTCLocalVideoStreamError`](iOS-keytype#bytertclocalvideostreamerror) | 新增了枚举值 `7`。|

## 3.30

### 类型变更
以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
| 成员变量变化 | [`ByteRTCLocalVideoStats`](iOS-keytype#bytertclocalvideostats) | 新增了成员变量：`jitter`|
| 成员变量变化 | [`ByteRTCRemoteVideoStats`](iOS-keytype#bytertcremotevideostats) | 新增了成员变量：`jitter`|
| 成员变量变化 | [`ByteRTCLocalAudioStats`](iOS-keytype#bytertclocalaudiostats) | 新增了成员变量：`jitter`|
| 成员变量变化 | [`ByteRTCRemoteAudioStats`](iOS-keytype#bytertcremoteaudiostats) | 新增了成员变量：`jitter`|

## 3.29

### 方法变更
以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  变动前方法  |  变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 房间管理 | `- (int)joinRoomByKey:(NSString *_Nullable)token roomId:(NSString *_Nonnull)roomId userInfo:(ByteRTCUserInfo *_Nonnull)userInfo rtcRoomConfig:(ByteRTCRoomConfig *_Nonnull)rtcRoomConfig;` | [`- (int)joinRoomByKey:(NSString *_Nullable)token roomId:(NSString *_Nonnull)roomId userInfo:(ByteRTCUserInfo *_Nonnull)userInfo rtcRoomConfig:(ByteRTCRoomConfig *_Nonnull)rtcRoomConfig;`](iOS-api#joinroombykey-roomid-userinfo-rtcroomconfig) | 补充方法调用返回信息 |
| 参数变化 | 房间管理 | `- (int)leaveRoom:(void (^_Nullable)(ByteRTCRoomStats *_Nonnull stat))leaveRoomBlock;` | [`- (int)leaveRoom;`](iOS-api#leaveroom) |
| 参数变化 | 多房间 | `- (int)joinRoomByToken:(NSString *_Nullable)token userInfo:(ByteRTCUserInfo *_Nonnull)userInfo roomConfig:(ByteRTCMultiRoomConfig *_Nonnull)roomConfig;` | [`- (int)joinRoomByToken:(NSString *_Nullable)token userInfo:(ByteRTCUserInfo *_Nonnull)userInfo roomConfig:(ByteRTCMultiRoomConfig *_Nonnull)roomConfig;`](iOS-api#joinroombytoken-userinfo-roomconfig) | 补充方法调用返回信息 |
| 参数变化 | 视频管理 | `- (void)setVideoSourceType:(ByteRTCVideoSourceType)type;` | [`- (void)setVideoSourceType:(ByteRTCVideoSourceType)type WithStreamIndex:(ByteRTCStreamIndex)streamIndex;`](iOS-api#setvideosourcetype-withstreamindex) |
| 名称和参数变化 | 音频管理 | `- (void)setAudioVolumeIndicationInterval:(NSInteger)interval;` | [`- (void)enableAudioPropertiesReport:(ByteRTCAudioPropertiesConfig* _Nonnull)config;`](iOS-api#enableaudiopropertiesreport) |
| 名称和参数变化 | 视频管理 | `- (int)setLocalVideoMirrorMode:(ByteRTCMirrorMode) mode;` | [`- (int)setLocalVideoMirrorType:(ByteRTCMirrorType) mirrorType;`](iOS-api#setlocalvideomirrortype) |

### 回调变更
以下表格中的回调发生了变化。你需要在工程文件中找到该回调，并进行相关修改：

| 变更详情 | 功能模块 |  变动前回调  |  变动后回调  | 备注 |
| --- | --- | --- | --- | --- |
| 删除 | 视频管理 | `- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine didMirrorStateChanged:(BOOL)mirrored;` | / |
| 拆分或合并 | 音频管理 | `- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onAudioVolumeIndication:(NSArray<ByteRTCAudioVolumeInfo *> * _Nonnull)speakers totalRemoteVolume:(NSInteger)totalRemoteVolume;` | <li>[`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onLocalAudioPropertiesReport:(NSArray<ByteRTCLocalAudioPropertiesInfo *> * _Nonnull)audioPropertiesInfos;`](iOS-callback#rtcengine-onlocalaudiopropertiesreport) </li><li>[`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onRemoteAudioPropertiesReport:(NSArray<ByteRTCRemoteAudioPropertiesInfo *> * _Nonnull)audioPropertiesInfos totalRemoteVolume:(NSInteger)totalRemoteVolume;`](iOS-callback#rtcengine-onremoteaudiopropertiesreport-totalremotevolume)</li>| 旧版回调拆分为 `onLocalAudioPropertiesReport:` 和 `onRemoteAudioPropertiesReport:` |

## 3.28

### 类型变更
以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
| 枚举值增减 | [`ByteRTCAudioChannel`](iOS-keytype#bytertcaudiochannel) | 新增了枚举值：`ByteRTCAudioChannelAuto` |
| 枚举值增减 | [`ByteRTCAudioSampleRate`](iOS-keytype#bytertcaudiosamplerate) | 新增了枚举值：`ByteRTCAudioSampleRateAuto` |

## 3.27

### 方法变更
以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  变动前方法  |  变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 视频管理 | `- (int)setVideoEncoderConfig:(NSArray <ByteRTCVideoSolution *> *_Nullable)videoSolutions;` | [`- (int)setVideoEncoderConfig:(ByteRTCStreamIndex)streamIndex config:(NSArray <ByteRTCVideoSolution *> * _Nullable)videoSolutions;`](iOS-api#setvideoencoderconfig-config) |
| 名称和参数变化 | 音频管理 | `- (void)setRecordingVolume:(NSInteger)volume` | [`- (void)setCaptureVolume:(ByteRTCStreamIndex)index volume:(int)volume;`](iOS-api#setcapturevolume-volume) |
| 名称和参数变化 | 音频数据回调 | `- (BOOL)setMediaMetadataObserver:(_Nullable id<ByteRTCMediaMetadataObserver>) metadataObserver;` | [`- (int)sendSEIMessage:(ByteRTCStreamIndex)streamIndex andMessage:(NSData* _Nonnull)message andRepeatCount:(int)repeatCount;`](iOS-api#sendseimessage-andmessage-andrepeatcount) |
| 名称和参数变化 | 引擎管理 | `+ (int)feedbackGrade:(NSInteger)grade type:(NSInteger)type desc:(NSString* _Nullable)desc;` | [`- (int)feedbackTypes:(NSArray* _Nullable)types desc:(NSString* _Nullable)desc;`](iOS-api#feedbacktypes-desc) |

### 回调变更
以下表格中的回调发生了变化。你需要在工程文件中找到该回调，并进行相关修改：

| 变更详情 | 功能模块 |  变动前回调  |  变动后回调  | 备注 |
| --- | --- | --- | --- | --- |
| 名称和参数变化 | 视频数据回调 | `virtual void OnMetadataReceived(const char* roomid, const char* uid, const VideoMetadataBuffer& metadata) = 0;` | [`- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onSEIMessageReceived:(ByteRTCRemoteStreamKey* _Nonnull)remoteStreamKey andMessage:(NSData* _Nonnull)message;`](iOS-callback#rtcengine-onseimessagereceived-andmessage) |

### 类型变更
以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
| 枚举值增减 | [`ByteRTCProblemFeedbackOption`](iOS-keytype#bytertcproblemfeedbackoption) | 删除了枚举值：<li>`ByteRTCProblemFeedbackOptionConnectionFailed`</li><li>`ByteRTCProblemFeedbackOptionConnectionFailed`</li><li>`ByteRTCProblemFeedbackOptionConnectionFailed`</li> 新增了枚举值：<li>`ByteRTCFeedBackProblemTypeEarBackDelay`</li> |

### 错误码变更
以下表格中的错误码发生了变化，你需要进行相应的处理：

| 变更详情 | 错误码  | 备注 |
| --- | --- | --- |
| 枚举值增减 | [`ByteRTCWarningCode`](iOS-errorcode#bytertcwarningcode) | 新增了枚举值：<li>`ByteRTCWarningSetScreenAudioSourceTypeFailed`</li><li>`ByteRTCWarningSetScreenAudioStreamIndexFailed`</li> |

## 3.26

### 方法变更
以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  变动前方法  |  变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 房间管理 | `- (int)joinRoomByKey:(NSString *_Nullable)token roomId:(NSString *_Nonnull)roomId roomProfile:(ByteRTCRoomProfile)roomProfile userInfo:(ByteRTCUserInfo *_Nonnull)userInfo;` | [`- (int)joinRoomByKey:(NSString *_Nullable)token roomId:(NSString *_Nonnull)roomId userInfo:(ByteRTCUserInfo *_Nonnull)userInfo rtcRoomConfig:(ByteRTCRoomConfig *_Nonnull)rtcRoomConfig;`](iOS-api#joinroombykey-roomid-userinfo-rtcroomconfig) |
| 名称和参数变化 | 房间管理 | `- (BOOL)setUserRole:(ByteRTCUserRoleType)role;` | [`- (BOOL)setUserVisibility:(BOOL)enable;`](iOS-api#setuservisibility) |
| 拆分或合并 | 房间管理 | <li>`- (void)subscribeStream:(NSString *_Nonnull)userId subscribeConfig:(ByteRTCSubscribeConfig *_Nonnull)info`</li><li>`- (void)unSubscribeStream:(NSString *_Nonnull)userId isScreen:(BOOL)isScreen`</li><li>`- (void)muteRemoteAudio:(NSString * _Nonnull)uid muteState:(ByteRTCMuteState)muteState`</li><li>`- (int)muteRemoteVideo:(NSString * _Nonnull)uid withMuteState:(ByteRTCMuteState)muteState`</li> | [`- (void)subscribeUserStream:(NSString *_Nonnull)userId streamType:(ByteRTCStreamIndex)streamType mediaType:(ByteRTCSubscribeMediaType)mediaType videoConfig:(ByteRTCSubscribeVideoConfig *_Nonnull)videoConfig;`](iOS-api#subscribeuserstream-streamtype-mediatype-videoconfig) |
| 拆分或合并 | 音频管理/视频管理 | <li>`- (void)muteAllRemoteAudio:(ByteRTCMuteState)muteState`</li><li>`- (int)muteAllRemoteVideo:(ByteRTCMuteState)muteState`</li> | <li>`- (void)pauseAllSubscribedStream:(ByteRTCPauseResumControlMediaType) mediaType;`</li> | 通过 [`pauseAllSubscribedStream`](iOS-api#pauseallsubscribedstream) 和 [`resumeAllSubscribedStream`](iOS-api#resumeallsubscribedstream) 来暂停或接收所有远端媒体流 |
| 删除 | 房间管理 | `- (BOOL)enableAutoSubscribe:(ByteRTCSubscribeMode)audioMode videoMode:(ByteRTCSubscribeMode)videoMode` | / | 使用 [`joinRoomBykey`](iOS-api#joinroombykey-roomid-userinfo-rtcroomconfig) 中的 roomConfig 进行设置 |

### 类型变更
以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
| 枚举值增减 | [`ByteRTCAudioScenarioType`](iOS-keytype#bytertcaudioscenariotype) | 新增了枚举值：`ByteRTCAudioScenarioGameStreaming` |
| 枚举值增减 | [`ByteRTCUserMessageSendResult`](iOS-keytype#bytertcusermessagesendresult) | 新增了枚举值：<li>`ByteRTCUserMessageSendResultNotLogin`</li><li>`ByteRTCUserMessageSendResultServerParamsNotSet`</li> |

### 错误码变更
以下表格中的错误码发生了变化，你需要进行相应的处理：

| 变更详情 | 错误码  | 备注 |
| --- | --- | --- |
| 枚举值增减 | [`ByteRTCWarningCode`](iOS-errorcode#bytertcwarningcode) | 新增了枚举值：<li>`ByteRTCWarningCodePublishStreamForbiden`</li><li>`ByteRTCWarningCodeCodeUserNotifyStop`</li> |

## 3.25

### 方法变更
以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  变动前方法  |  变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 混音 | `- (int)getAudioMixingDuration;` | [`-(int)getAudioMixingDuration:(int)id;`](iOS-api#getaudiomixingduration)|
| 参数变化 | 混音 | `- (int)getAudioMixingCurrentPosition;` | [`-(int)getAudioMixingCurrentPosition:(int)id;`](iOS-api#getaudiomixingcurrentposition)|
| 参数变化 | 混音 | `- (int)setAudioMixingPosition:(NSInteger)pos;` | [`-(void)setAudioMixingPosition:(int)id position:(int)position;`](iOS-api#setaudiomixingposition-position)|
| 名称和参数变化 | 混音 | `- (int)preloadEffect:(NSInteger)soundId filePath:(NSString * _Nullable)filePath` | [`-(void)preloadAudioMixing:(int)id filePath:(NSString * _Nullable)filePath;`](iOS-api#preloadaudiomixing-filepath) |
| 名称和参数变化 | 混音 | `- (BOOL)pushAudioMixingStreamData:(void*_Nonnull)audioFrame frameNum:(int)frameNum;` | [`-(int)pushAudioMixingFrame:(ByteRTCAudioFrame* _Nullable)audioFrame;`](iOS-api#pushaudiomixingframe) |
| 拆分或合并 | 自定义视频采集渲染 | <li>`- (int)setLocalVideoRenderer:(id<ByteRTCVideoSinkProtocol> _Nullable)videoRenderer;`</li><li>`- (int)setLocalVideoRenderer:(id<ByteRTCVideoSinkProtocol> _Nullable)videoRenderer forRoomId:(NSString * _Nonnull)roomId forUserId:(NSString * _Nonnull)userId;`</li> | `-(void) setLocalVideoSink:(ByteRTCStreamIndex)index withSink:(id<ByteRTCVideoSinkProtocol>) sink withPixelFormat:(ByteVideoPixelFormat)requiredFormat` | 多个旧版接口合并为 [`setLocalVideoSink`](iOS-api#setlocalvideosink-withsink-withpixelformat) |
| 拆分或合并 | 自定义视频采集渲染 | <li>`- (int)setRemoteVideoRenderer:(id<ByteRTCVideoSinkProtocol> _Nullable)videoRenderer forRoomId:(NSString * _Nonnull)roomId forUserId:(NSString * _Nonnull)userId;`</li><li>`- (int)setRemoteVideoRenderer:(id<ByteRTCVideoSinkProtocol> _Nullable)videoRenderer forUserId:(NSString * _Nonnull)userId;`</li><li>`- (int)setupRemoteScreenRenderer:(id<ByteRTCVideoSinkProtocol> _Nullable)screenRenderer forRoomId:(NSString * _Nonnull)roomId forUserId:(NSString * _Nonnull)userId;`</li><li>`-(int)setupRemoteScreenRenderer:(id<ByteRTCVideoSinkProtocol> _Nullable)screenRenderer forUserId:(NSString * _Nonnull)userId;`</li> | `-(void) setRemoteVideoSink:(ByteRTC RemoteStreamKey)streamKey withSink:(id<ByteRTCVideoSinkProtocol>) canvas withPixelFormat:(ByteVideoPixelFormat)requiredFormat` | 多个旧版接口合并为 [`setRemoteVideoSink`](iOS-api#setremotevideosink-withsink-withpixelformat) |
| 拆分或合并 | 混音 | <li>`- (int)startAudioMixing:(NSString *  _Nonnull)filePath loopback:(BOOL)loopback replace:(BOOL)replace cycle:(NSInteger)cycle;`</li><li>`- (int)playEffect:(NSInteger)soundId filePath:(NSString * _Nullable)filePath loopback:(BOOL)loopback cycle:(NSInteger)cycle withVolume:(NSInteger)volume;`</li> | `-(void)startAudioMixing:(int)id filePath:(NSString * _Nullable)filePath config:(ByteRTCAudioMixingConfig * _Nullable)config;` | 多个接口合并为 [`startAudioMixing`](iOS-api#startaudiomixing-filepath-config) |
| 拆分或合并 | 混音 | <li>`- (int)stopAudioMixing;`</li><li>`- (int)stopEffect:(NSInteger)soundId;`</li><li>`- (int)stopAllEffects;`</li> | `-(void)stopAudioMixing:(int)id;` | 多个接口合并为 [`stopAudioMixing`](iOS-api#stopaudiomixing) |
| 拆分或合并 | 混音 | <li>`- (int)pauseAudioMixing;`</li><li>`- (int)pauseEffect:(NSInteger)soundId;`</li><li>`- (int)pauseAllEffects;`</li> | `-(void)pauseAudioMixing:(int)id;` | 多个接口合并为[`pauseAudioMixing`](iOS-api#pauseaudiomixing) |
| 拆分或合并 | 混音 | <li>`- (int)resumeAudioMixing;`</li><li>`- (int)resumeEffect:(NSInteger)soundId;`</li><li>`- (int)resumeAllEffects;`</li> | `-(void)resumeAudioMixing:(int)id;` | 多个接口合并为 [`resumeAudioMixing`](iOS-api#resumeaudiomixing) |
| 拆分或合并 | 混音 | <li>`- (int)unloadEffect:(NSInteger)soundId;`</li><li>`- (int)unloadAllEffects;`</li> | `-(void)unloadAudioMixing:(int)id;` | 多个接口合并为 [`unloadAudioMixing`](iOS-api#unloadaudiomixing) |
| 拆分或合并 | 混音 | <li>`- (int)adjustAudioMixingVolume:(NSInteger)volume;`</li><li>`- (int)setVolumeOfEffect:(NSInteger)soundId withVolume:(NSInteger)volume`</li><li>`- (int)adjustAudioMixingPlayoutVolume:(NSInteger)volume;`</li><li>`- (int)adjustAudioMixingPublishVolume:(NSInteger)volume;`</li><li>`- (int)setEffectsVolume:(NSInteger)volume;`</li> | `-(void)setAudioMixingVolume:(int)id volume:(int)volume type:(ByteRTCAudioMixingType)type;` | 多个接口合并为[`setAudioMixingVolume`](iOS-api#setaudiomixingvolume-volume-type) |
| 拆分或合并 | 混音 | `- (BOOL)setAudioPlayoutMixStream:(BOOL) enable sampleRate:(int) sampleRate channelNum:(int) channelNum;` | <li>`-(void)enableAudioMixingFrame:(ByteRTCAudioMixingType)type;`</li><li>`-(void)disableAudioMixingFrame;`</li> | 旧版接口拆分成 [`enableAudioMixingFrame`](iOS-api#enableaudiomixingframe) 和 [`disableAudioMixingFrame`](iOS-api#disableaudiomixingframe) |
| 删除 | 混音 | `- (int)getEffectVolume:(NSInteger)soundId;` | / |
| 删除 | 混音 | `- (int)getAudioMixingStreamCachedFrameNum;` | / |

### 类型变更
以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
| 枚举值增减 | [`ByteRTCStreamMixingEvent`](iOS-keytype#bytertcstreammixingevent) | 新增了枚举值：`StreamMixingUpdateTimeOut` |
| 枚举值增减 | [`ByteRTCStreamMixingType`](iOS-keytype#bytertcstreammixingtype) | 删除了枚举值：`StreamMixingTypeByAuto` |

## 3.24

### 方法变更
以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  变动前方法  |  变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 视频特效 | `- (void) setVideoEffectNodes:(NSArray <NSString *> *_Nonnull)effectNodePaths;` | [`- (int) setVideoEffectNodes:(NSArray <NSString *> *_Nonnull)effectNodePaths;`](iOS-api#setvideoeffectnodes) |
| 参数变化 | 视频特效 | `- (void) updateVideoEffectNode:(NSString * _Nonnull)nodePath nodeKey:(NSString * _Nonnull)nodeKey  nodeValue:(float) nodeValue;` | [`- (int) updateVideoEffectNode:(NSString * _Nonnull)nodePath nodeKey:(NSString * _Nonnull)nodeKey  nodeValue:(float) nodeValue;`](iOS-api#updatevideoeffectnode-nodekey-nodevalue) |
| 参数变化 | 视频特效 | `- (void) setVideoEffectColorFilter:(NSString * _Nonnull)resPath;` | [`- (int) setVideoEffectColorFilter:(NSString * _Nonnull)resPath;`](iOS-api#setvideoeffectcolorfilter) |
| 参数变化 | 视频特效 | `- (void) setVideoEffectColorFilterIntensity:(float) intensity;` | [`- (int) setVideoEffectColorFilterIntensity:(float) intensity;`](iOS-api#setvideoeffectcolorfilterintensity) |
| 参数变化 | 视频管理 | `- (int)muteLocalVideo:(ByteRTCMuteState)mute_state;` | [`- (void)muteLocalVideo:(ByteRTCMuteState)mute_state;`](iOS-api#mutelocalvideo) |
| 名称和参数变化 | 视频管理 | `- (void)setVideoInputType:(ByteRTCMediaInputType)type;` | [`- (void)setVideoSourceType:(ByteRTCVideoSourceType)type;`](iOS-api#setvideosourcetype) |
| 删除 | 视频特效 | `- (int) checkVideoEffectSupport;` | / |
| 删除 | 视频特效 | `- (void) addVideoEffectNodes:(NSArray <NSString *> *_Nonnull)effectNodePaths;` | / |
| 删除 | 视频特效 | `- (void) removeVideoEffectNodes:(NSArray <NSString *> *_Nonnull)effectNodePaths;` | / |
| 删除 | 音频管理 | `- (void)setAudioPerformanceProfile:(ByteRTCAudioPerformanceProfile) profile;` | / |

## 3.23

### 方法变更
以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  变动前方法  |  变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 删除 | 视频管理 | `(int)startPreview;` | / |
| 删除 | 视频管理 | `(int)stopPreview;` | / |
| 拆分或合并 | 音频管理 | `(int)enableLocalAudio:(BOOL)enabled;` | <li>[`(void)startAudioCapture;`](iOS-api#startaudiocapture)</li><li>[`(void)stopAudioCapture;`](iOS-api#stopaudiocapture)</li> | <li>拆分后的接口解除了音频采集与发布的绑定关系。无论是否发布音频，你都可以开启音频采集，并且停止发布后不再自动关闭采集</li><li>新接口解除了对外部源的推送控制，仅控制是否进行内部音频采集</li> |
| 方法行为变化 | 视频管理 | [`virtual void StartVideoCapture() = 0;`](iOS-api#startvideocapture) | [`virtual void StartVideoCapture() = 0;`](iOS-api#startvideocapture) | <li>无论是否发布视频，你都可以开启视频采集</li><li>解除了对外部源的推送控制，仅控制内部视频采集</li> |
| 方法行为变化 | 视频管理 | [`virtual void StopVideoCapture() = 0;`](iOS-api#stopvideocapture) | [`virtual void StopVideoCapture() = 0;`](iOS-api#stopvideocapture) | <li>停止视频发布后不再自动关闭采集，可手动关闭</li><li>解除了对外部源的推送控制，仅控制内部视频采集</li> |
| 方法行为变化 | 视频管理 | [`(void)setVideoInputType:(ByteRTCMediaInputType)type;`](iOS-api#setvideoinputtype)| [`(void)setVideoInputType:(ByteRTCMediaInputType)type;`](iOS-api#setvideoinputtype) | <li>由自定义采集切换至内部采集后，须手动开启内部采集方可开始采集</li><li>无切换场景时，内部采集、自定义采集互不影响</li><li>进房前后均可切换</li> |
| 方法行为变化 | 音频管理 | [`(void)enableExternalAudioDevice:(ByteRTCAudioFormat * _Nonnull) recordingFormat playbackFormat:(ByteRTCAudioFormat * _Nonnull) playbackFormat;`](iOS-api#enableexternalaudiodevice-playbackformat) | [`(void)enableExternalAudioDevice:(ByteRTCAudioFormat * _Nonnull) recordingFormat playbackFormat:(ByteRTCAudioFormat * _Nonnull) playbackFormat;`](iOS-api#enableexternalaudiodevice-playbackformat) | <li>由自定义采集切换至内部采集时，必须先关闭自定义采集，后手动开启内部采集</li><li>无切换场景时，内部采集、自定义采集互不影响</li><li>仅支持进房前切换</li> |

### 回调变更
以下表格中的回调发生了变化。你需要在工程文件中找到该回调，并进行相关修改：

| 变更详情 | 功能模块 |  变动前回调  |  变动后回调  | 备注 |
| --- | --- | --- | --- | --- |
| 名称变化 | 引擎管理 | `- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine` `didMediaDeviceStateChanged``:(NSString*_Nonnull)device_id device_type:(ByteRTCMediaDeviceType)device_type device_state:(ByteRTCMediaDeviceState)device_state device_error:(ByteRTCMediaDeviceError)device_error;` | [`- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine` `onMediaDeviceStateChanged``:(NSString*_Nonnull)device_id device_type:(ByteRTCMediaDeviceType)device_type device_state:(ByteRTCMediaDeviceState)device_state device_error:(ByteRTCMediaDeviceError)device_error;`](iOS-callback#rtcengine-onmediadevicestatechanged-device-type-device-state-device-error) |

### 类型变更
以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
| 枚举值增减 | [`ByteRTCWarningCode`](iOS-errorcode#bytertcwarningcode) | 新增了枚举值： <li>`ByteRTCWarningCodeMediaDeviceOperationDennied`</li><li>`ByteRTCWarningCodeInvalidCanvasHandle`</li> |

## 3.22

### 方法变更
以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  变动前方法  |  变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 房间管理 | `(int)leaveRoom:(void (^_Nullable)(ByteRTCRoomStats *_Nonnull stat))leaveChannelBlock;` | [`(int)leaveRoom:(void (^_Nullable)(ByteRTCRoomStats *_Nonnull stat))leaveRoomBlock;`](iOS-api#leaveroom) |
| 参数变化 | 视频管理 | `- (int)switchCamera;` | [`- (int)switchCamera:(ByteRTCCameraID) cameraId;`](iOS-api#switchcamera) |
| 参数变化 | CDN 推流 | `- (int)startLiveTranscoding:(ByteRTCLiveTranscoding *_Nonnull)transcoding;` | [`- (int)startLiveTranscoding:(ByteRTCLiveTranscoding *_Nonnull)transcoding observer:(id<LiveTranscodingDelegate> _Nonnull)observer;`](iOS-api#startlivetranscoding-observer) |
| 名称和参数变化 | CDN 推流 | `- (int)updateLiveTranscodingLayout:(ByteRTCVideoCompositingLayout *_Nonnull)layout;` | [`- (int)updateLiveTranscoding:(ByteRTCLiveTranscoding *_Nonnull)transcoding;`](iOS-api#updatelivetranscoding) |
| 删除 | 音频管理 | `- (BOOL)isSpeakerphoneEnabled;` | / |

### 回调变更
以下表格中的回调发生了变化。你需要在工程文件中找到该回调，并进行相关修改：

| 变更详情 | 功能模块 |  变动前回调  |  变动后回调  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 警告码 | `(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onWarning:(ByteRTCWarningCode)Code;` | [`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onWarning:(ByteRTCWarningCode)Code;`](iOS-callback#rtcengine-onwarning) | [`ByteRTCWarningCode`](iOS-errorcode#bytertcwarningcode) 增加了枚举值：`ByteRTCWarningCodeRecordingSilence` | 
| 参数变化 | 引擎管理 | `(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine didMediaDeviceStateChanged:(ByteRTCMediaDeviceType)device_type device_state:(ByteRTCMediaDeviceState)device_state;` | [`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine didMediaDeviceStateChanged:(NSString*_Nonnull)device_id device_type:(ByteRTCMediaDeviceType)device_type device_state:(ByteRTCMediaDeviceState)device_state device_error:(ByteRTCMediaDeviceError)device_error;`](iOS-callback#rtcengine-didmediadevicestatechanged-device-type-device-state-device-error) | [`ByteRTCMediaDeviceType`](iOS-keytype#bytertcmediadevicetype) 枚举值名称变更 | 

### 类型变更
以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
| 枚举值增减 | [`ByteRTCMediaDeviceState`](iOS-keytype#bytertcmediadevicestate) | 删除了枚举值：<li>`ByteRTCMediaDeviceStateStartFailed`</li><li>`ByteRTCMediaDeviceStateStopFailed`</li>，新增了枚举值：<li>`ByteRTCMediaDeviceStateRuntimeError`</li><li>`ByteRTCMediaDeviceStateAdded`</li><li>`ByteRTCMediaDeviceStateRemoved`</li> |

## 3.21

### 方法变更
以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  变动前方法  |  变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 加密 | `(void)setEncryptType:(ByteEncryptType)encrypt_type key:(NSString * _Nonnull)key;` | [`(void)setEncryptType:(ByteRTCEncryptType)encrypt_type key:(NSString * _Nonnull)key;`](iOS-api#setencrypttype-key)|
| 参数变化 | 房间管理 | `(BOOL)enableAutoSubscribe:(ByteSubscribeMode)audioMode videoMode:(ByteSubscribeMode)videoMode;` | [`- (BOOL)enableAutoSubscribe:(ByteRTCSubscribeMode)audioMode videoMode:(ByteRTCSubscribeMode)videoMode;`](iOS-api#enableautosubscribe-videomode) |
| 参数变化 | 视频管理 | `(BOOL)pushExternalByteVideoFrame:(ByteVideoFrame * _Nonnull)frame;` | [`(BOOL)pushExternalByteVideoFrame:(ByteRTCVideoFrame * _Nonnull)frame;`](iOS-api#pushexternalbytevideoframe) |
| 参数变化 | 视频管理 | `(int) replaceBackground:(BackgroundMode)mode withDivideModel:(DivideModel)divideModel;` | [`(int) replaceBackground:(ByteRTCBackgroundMode)mode withDivideModel:(ByteRTCDivideModel)divideModel;`](iOS-api#replacebackground-withdividemodel) |
| 参数变化 | 视频管理 | `(int)setLocalVideoMirrorMode:(ByteVideoMirrorMode) mode;` | [`(int)setLocalVideoMirrorMode:(ByteRTCMirrorMode) mode;`](iOS-api#setlocalvideomirrormode) |
| 参数变化 | 性能回退 | `(int)setPublishFallbackOption:(BytePublishFallbackOption)option;` | [`(int)setPublishFallbackOption:(ByteRTCPublishFallbackOption)option;`](iOS-api#setpublishfallbackoption) |
| 参数变化 | 性能回退 | `(int)setSubscribeFallbackOption:(ByteSubscribeFallbackOption)option;` | [`(int)setSubscribeFallbackOption:(ByteRTCSubscribeFallbackOption)option;`](iOS-api#setsubscribefallbackoption) |
| 参数变化 | 性能回退 | `(int)setRemoteUserPriority:(ByteUserPriority)priority uid:(NSString *_Nonnull)uid;` | [`(int)setRemoteUserPriority:(ByteRTCRemoteUserPriority)priority uid:(NSString *_Nonnull)uid;`](iOS-api#setremoteuserpriority-uid) |
| 参数变化 | 音频管理 | `(BOOL)pullExternalAudioFrame:(void* _Nonnull)audioFrame frameNum:(int)frameNum;` | [`(int)pullExternalAudioFrame:(ByteRTCAudioFrame * _Nonnull) audioFrame;`](iOS-api#pullexternalaudioframe) |
| 参数变化 | 音频管理 | `(BOOL)pushExternalAudioFrame:(void* _Nonnull)audioFrame frameNum:(int)frameNum;` | [`(int)pushExternalAudioFrame:(ByteRTCAudioFrame * _Nonnull) audioFrame;`](iOS-api#pushexternalaudioframe) |
| 参数变化 | 音频管理 | `(void)setAudioScenario:(ByteRtcAudioScenarioType)audioScenario;` | [`(void)setAudioScenario:(ByteRTCAudioScenarioType)audioScenario;`](iOS-api#setaudioscenario) |
| 名称变化 | 房间管理 | `- (int)renewChannelKey:(NSString * _Nonnull)token` | [`- (int)updateToken:(NSString *_Nonnull)token`](iOS-api#updatetoken) | 
| 名称变化 | 加密 | `(NSData * _Nonnull)ByteEngineEncryptRawData:(NSData * _Nonnull)rawData;` | [`(NSData * _Nonnull) ByteRTCEncryptRawData:(NSData * _Nonnull)rawData;`](iOS-api#bytertcencryptrawdata) | 
| 名称变化 | 加密 | `(NSData * _Nonnull)ByteEngineDecryptRawData:(NSData * _Nonnull)rawData;` | [`(NSData * _Nonnull) ByteRTCDecryptRawData:(NSData * _Nonnull)rawData;`](iOS-api#bytertcdecryptrawdata) | 
| 名称变化 | 音频管理 | `(int)adjustRecordingSignalVolume:(NSInteger)volume;` | [`(void)setRecordingVolume:(NSInteger)volume;`](iOS-api#setrecordingvolume) |
| 名称变化 | 音频管理 | `(int)adjustPlaybackSignalVolume:(NSInteger)volume;` | [`(void)setPlaybackVolume:(NSInteger)volume;`](iOS-api#setplaybackvolume) |
| 名称变化 | CDN 推流 | `(int)disableLiveTranscoding` | [`(int)stopLiveTranscoding`](iOS-api#stoplivetranscoding) |
| 名称和参数变化 | 房间管理 | `- (BOOL)setClientRole:(ByteRtcClientRole)role;` | [`- (BOOL)setUserRole:(ByteRTCUserRoleType)role;`](iOS-api#setuserrole) |
| 名称和参数变化 | 房间管理 | `- (int)leaveChannel:(void(^ _Nullable)(ByteRtcStats * _Nonnull stat))leaveChannelBlock` | [`- (int)leaveRoom:(void (^_Nullable)(ByteRTCRoomStats *_Nonnull stat))leaveChannelBlock;`](iOS-api#leaveroom) |
| 名称和参数变化 | 房间管理 | `- (int)joinChannelByKey:(NSString * _Nullable)token channelName:(NSString * _Nonnull)roomId info:(NSString * _Nullable)info uid:(NSString * _Nonnull)userId` | [`- (int)joinRoomByKey:(NSString *_Nullable)token roomId:(NSString *_Nonnull)roomId roomProfile:(ByteRTCRoomProfile)roomProfile userInfo:(ByteRTCUserInfo *_Nonnull)userInfo;`](iOS-api#joinroombykey-roomid-roomprofile-userinfo) |
| 名称和参数变化 | 视频管理 | `(void)setExternalVideoSource:(BOOL)enable useTexture:(BOOL)useTexture pushMode:(BOOL)pushMode;` | [`(void)setVideoInputType:(ByteRTCMediaInputType)type;`](iOS-api#setvideoinputtype) |
| 名称和参数变化 | 视频管理 | `(int)muteAllRemoteVideoStreams:(BOOL)mute;` | [`(int)muteAllRemoteVideo:(ByteRTCMuteState)muteState;`](iOS-api#muteallremotevideo) |
| 名称和参数变化 | 视频管理 | `(int)muteRemoteVideoStream:(NSString * _Nonnull)uid mute:(BOOL)mute;` | [`(int)muteRemoteVideo:(NSString * _Nonnull)uid withMuteState:(ByteRTCMuteState)muteState;`](iOS-api#muteremotevideo-withmutestate) |
| 名称和参数变化 | 视频管理 | `(int)setupLocalVideo:(ByteRtcVideoCanvas * _Nullable)local;` | [`(int)setLocalVideoCanvas:(ByteRTCStreamIndex)streamIndex withCanvas:(ByteRTCVideoCanvas * _Nullable)canvas;`](iOS-api#setlocalvideocanvas-withcanvas) |
| 名称和参数变化 | 视频管理 | `(int)muteLocalVideoStream:(BOOL)mute;` | [`(int)muteLocalVideo:(ByteRTCMuteState)mute_state;`](iOS-api#mutelocalvideo) |
| 名称和参数变化 | 视频管理 | `(VideoStreamState)setVideoProfiles:(NSArray <VideoStreamDescription *> * _Nullable)videoStreamDescriptions` | [`(int)setVideoEncoderConfig:(NSArray <ByteRTCVideoSolution *> * _Nullable)videoSolutions`](iOS-api#setvideoencoderconfig) |
| 名称和参数变化 | 音频管理 | `(int)setEnableSpeakerphone:(BOOL)enableSpeaker` | [`(int)setAudioPlaybackDevice:(ByteRTCAudioPlaybackDevice)audioPlaybackDevice`](iOS-api#setaudioplaybackdevice) |
| 名称和参数变化 | 音频管理 | `(void)setAudioPerfProfile:(AudioPerfProfile) profile` | [`(void)setAudioPerformanceProfile:(ByteRTCAudioPerformanceProfile) profile`](iOS-api#setaudioperformanceprofile) |
| 名称和参数变化 | 音频管理 | `(int)muteLocalAudioStream:(BOOL)mute` | [`(void)muteLocalAudio:(ByteRTCMuteState)muteState`](iOS-api#mutelocalaudio) |
| 名称和参数变化 | 音频管理 | `(int)muteRemoteAudioStream:(NSString * _Nonnull)uid mute:(BOOL)mute` | [`(void)muteRemoteAudio:(NSString * _Nonnull)uid muteState:(ByteRTCMuteState)muteState`](iOS-api#muteremoteaudio-mutestate) |
| 名称和参数变化 | 音频管理 | `(int)enableAudioVolumeIndication:(NSInteger)interval smooth:(NSInteger)smooth` | [`(void)setAudioVolumeIndicationInterval:(NSInteger)interval`](iOS-api#setaudiovolumeindicationinterval) |
| 名称和参数变化 | 音频管理 | `(int)adjustRemoteAudioVolume:(int)volume ofUid:(NSString* _Nonnull)uid` | [`(void)setRemoteAudioPlaybackVolume:(NSString* _Nonnull)uid volume:(int)volume`](iOS-api#setremoteaudioplaybackvolume-volume) |
| 名称和参数变化 | CDN 推流 | `(int)enableLiveTranscoding:(ByteRtcLiveTranscoding * _Nonnull)transcoding` | [`(int)startLiveTranscoding:(ByteRTCLiveTranscoding *_Nonnull)transcoding`](iOS-api#startlivetranscoding) |
| 名称和参数变化 | CDN 推流 | `(int)setVideoCompositingLayout:(ByteRtcVideoCompositingLayout * _Nonnull)layout` | [`(int)updateLiveTranscodingLayout:(ByteRTCVideoCompositingLayout *_Nonnull)layout`](iOS-api#updatelivetranscodinglayout) |
| 拆分或合并 | 视频管理 | `(int)enableLocalVideo:(BOOL)enabled;` | <li>`(void)startVideoCapture;`</li><li>`(void)stopVideoCapture;`</li> | 旧版接口拆分成 [`startVideoCapture`](iOS-api#startvideocapture) 和 [`stopVideoCapture`](iOS-api#stopvideocapture) |
| 拆分或合并 | 视频管理 | <li>`(int)setupRemoteVideo:(ByteRtcVideoCanvas * _Nonnull)remote;`</li><li>`(int)setupRemoteScreen:(ByteRtcVideoCanvas * _Nonnull)screen;`</li> | `(int)setRemoteVideoCanvas:(NSString * _Nonnull)uid withIndex:(ByteRTCStreamIndex)streamIndex withCanvas:(ByteRTCVideoCanvas * _Nullable)canvas;` | 旧版接口合并为 [`setRemoteVideoCanvas`](iOS-api#setremotevideocanvas-withindex-withcanvas) |
| 拆分或合并 | 音频管理 | <li>`(int)muteAllRemoteAudioStreams:(BOOL)mute`</li><li>`(void)setDefaultMuteAllRemoteAudioStreams:(BOOL)mute`</li> | `(void)muteAllRemoteAudio:(ByteRTCMuteState)muteState` | 多个旧版接口合并为 [`muteAllRemoteAudio:`](iOS-api#muteallremoteaudio) |
| 拆分或合并 | 音频管理 | `(BOOL)setExternalAudioDevice:(BOOL) enable sampleRate:(int) sampleRate recordChannelNum:(int) recordChannelNum playoutChannelNum:(int) playoutChannelNum` | <li>`(void)enableExternalAudioDevice:(ByteRTCAudioFormat * _Nonnull) recordingFormat playbackFormat:(ByteRTCAudioFormat * _Nonnull) playbackFormat`</li><li>`(void)disableExternalAudioDevice`</li> | 旧版接口拆分为 [`enableExternalAudioDevice:playbackFormat:`](iOS-api#enableexternalaudiodevice-playbackformat) 和 [`disableExternalAudioDevice`](iOS-api#disableexternalaudiodevice) |
| 删除 | 房间管理 | `(int)setChannelProfile:(ByteChannelProfile)profile;` | / |
| 删除 | 视频管理 | `(VideoStreamState)setVideoProfiles:(NSArray <VideoStreamDescription *> * _Nullable)videoStreamDescriptions orientationMode:(ByteVideoOutputOrientationMode)mode;` | / |
| 删除 | 视频管理 | `(void)setDefaultMuteAllRemoteVideoStreams:(BOOL)mute;` | / |

### 回调变更
以下表格中的回调发生了变化。你需要在工程文件中找到该回调，并进行相关修改：

| 变更详情 | 功能模块 |  变动前回调  |  变动后回调  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 引擎管理 | `- (void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine didMediaDeviceStateChanged:(ByteMediaDeviceType)device_type device_state:(ByteMediaDeviceState)device_state;` | [`- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine didMediaDeviceStateChanged:(ByteRTCMediaDeviceType)device_type device_state:(ByteRTCMediaDeviceState)device_state;`](iOS-callback#rtcengine-didmediadevicestatechanged-device-state) |
| 参数变化 | 房间管理 | `- (void)rtcEngine:(ByteRtcEngineKit *_Nonnull)engine didStreamRemoved:(NSString *_Nonnull)uid stream:(id<ByteStream> _Nonnull)stream reason:(RtcStreamRemoveReason)reason;` | [`- (void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine didStreamRemoved:(NSString *_Nonnull)uid stream:(id<ByteRTCStream> _Nonnull)stream reason:(ByteRTCStreamRemoveReason)reason;`](iOS-callback#rtcengine-didstreamremoved-stream-reason) | 
| 参数变化 | 房间管理 | `- (void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine onStreamAdd:(id <ByteStream> _Nonnull)stream;` | `- (void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onStreamAdd:(id <ByteRTCStream> _Nonnull)stream;` | [`ByteRTCStream`](iOS-keytype#bytertcstream) 类型名称变化 |
| 参数变化 | 房间管理 | `- (void)rtcEngine:(ByteRtcEngineKit *_Nonnull)engine onScreenVideoFrameSendStateChanged:(ByteRtcUser *_Nonnull)user state:(FirstFrameSendState)state;` | [`- (void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onScreenVideoFrameSendStateChanged:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFrameSendState)state;`](iOS-callback#rtcengine-onscreenvideoframesendstatechanged-state) |
| 参数变化 | 房间管理 | `- (void)rtcEngine:(ByteRtcEngineKit *_Nonnull)engine onAudioFramePlayStateChanged:(ByteRtcUser *_Nonnull)user state:(FirstFramePlayState)state;` | `- (void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onAudioFramePlayStateChanged:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFramePlayState)state;` | [`ByteRTCEngineKit`](iOS-api#bytertcenginekit)、[`ByteRTCUser`](iOS-keytype#bytertcuser) 和 [`ByteRTCFirstFramePlayState`](iOS-keytype#bytertcfirstframeplaystate) 类型名称变化 |
| 参数变化 | 房间管理 | `- (void)rtcEngine:(ByteRtcEngineKit *_Nonnull)engine onVideoFramePlayStateChanged:(ByteRtcUser *_Nonnull)user state:(FirstFramePlayState)state;` | `- (void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onVideoFramePlayStateChanged:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFramePlayState)state;` | [`ByteRTCEngineKit`](iOS-api#bytertcenginekit)、[`ByteRTCUser`](iOS-keytype#bytertcuser) 和 [`ByteRTCFirstFramePlayState`](iOS-keytype#bytertcfirstframeplaystate) 类型名称变化 |
| 参数变化 | 房间管理 | `- (void)rtcEngine:(ByteRtcEngineKit *_Nonnull)engine onScreenVideoFramePlayStateChanged:(ByteRtcUser *_Nonnull)user state:(FirstFramePlayState)state;` | `- (void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onScreenVideoFramePlayStateChanged:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFramePlayState)state;` | [`ByteRTCEngineKit`](iOS-api#bytertcenginekit)、[`ByteRTCUser`](iOS-keytype#bytertcuser) 和 [`ByteRTCFirstFramePlayState`](iOS-keytype#bytertcfirstframeplaystate) 类型名称变化 |
| 参数变化 | 数据统计 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine reportSysStats:(const ByteRtcSysStats * _Nonnull)stats;` | [`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine reportSysStats:(const ByteRTCSysStats * _Nonnull)stats;`](iOS-callback#rtcengine-reportsysstats) |
| 参数变化 | 网络连接 | `(void) rtcEngine:(ByteRtcEngineKit * _Nonnull)engine connectionChangedToState:(ByteRtcConnectionState) state` | [`(void) rtcEngine:(ByteRTCEngineKit * _Nonnull)engine connectionChangedToState:(ByteRTCConnectionState) state`](iOS-callback#rtcengine-connectionchangedtostate) |
| 参数变化 | 网络连接 | `(void) rtcEngine:(ByteRtcEngineKit * _Nonnull)engine networkTypeChangedToType:(ByteRtcNetworkType) type` | [`(void) rtcEngine:(ByteRTCEngineKit * _Nonnull)engine networkTypeChangedToType:(ByteRTCNetworkType) type`](iOS-callback#rtcengine-networktypechangedtotype) |
| 参数变化 | 音频管理 | `(void)onRecordAudioFrame:(ByteAudioFrame * _Nonnull)audioFrame` | [`(void)onRecordAudioFrame:(ByteRTCAudioFrame * _Nonnull)audioFrame`](iOS-callback#onrecordaudioframe) |
| 参数变化 | 音频管理 | `(void)onPlaybackAudioFrame:(ByteAudioFrame * _Nonnull)audioFrame` | [`(void)onPlaybackAudioFrame:(ByteRTCAudioFrame * _Nonnull)audioFrame`](iOS-callback#onplaybackaudioframe) |
| 参数变化 | 音频管理 | `(void)onMixedAudioFrame:(ByteAudioFrame * _Nonnull)audioFrame` | [`(void)onMixedAudioFrame:(ByteRTCAudioFrame * _Nonnull)audioFrame`](iOS-callback#onMixedAudioFrame) |
| 参数变化 | 音频管理 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine didLocalAudioEnabled:(BOOL)enabled byUid:(NSString * _Nonnull)uid`| [`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine didLocalAudioEnabled:(BOOL)enabled byUid:(NSString * _Nonnull)uid`](iOS-callback#rtcengine-didlocalaudioenabled-byuid)|
| 参数变化 | 音频管理 | `(void)rtcEngine:(ByteRtcEngineKit *_Nonnull)engine onAudioFrameSendStateChanged:(ByteRtcUser *_Nonnull)user state:(FirstFrameSendState)state`| [`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onAudioFrameSendStateChanged:(ByteRTCUser *_Nonnull)user state:(ByteRTCFirstFrameSendState)state`](iOS-callback#rtcengine-onaudioframesendstatechanged-state) |
| 参数变化 | 流消息 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine onRoomMessageReceived:(NSString * _Nonnull)uid message:(NSString * _Nonnull)message;`| [`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onRoomMessageReceived:(NSString * _Nonnull)uid message:(NSString * _Nonnull)message;`](iOS-callback#rtcengine-onroommessagereceived-message) |
| 参数变化 | 流消息 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine onRoomBinaryMessageReceived:(NSString * _Nonnull)uid message:(NSData * _Nonnull)message;`| `(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onRoomBinaryMessageReceived:(NSString * _Nonnull)uid message:(NSData * _Nonnull)message;` |
| 参数变化 | 流消息 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine onUserMessageSendResult:(int64_t)msgid error:(UserMessageCode)error;`| [`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onUserMessageSendResult:(int64_t)msgid error:(ByteRTCUserMessageSendResult)error;`](iOS-callback#rtcengine-onusermessagesendresult-error) | [`ByteRTCUserMessageSendResult`](iOS-keytype#bytertcusermessagesendresult) 枚举值名称变更 |
| 参数变化 | 流消息 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine onRoomMessageSendResult:(int64_t)msgid error:(RoomMessageCode)error;`| [`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onRoomMessageSendResult:(int64_t)msgid error:(ByteRTCRoomMessageSendResult)error;`](iOS-callback#rtcengine-onroommessagesendresult-error) | [`ByteRTCRoomMessageSendResult`](iOS-keytype#bytertcroommessagesendresult) 枚举值名称变更 |
| 删除 | 视频管理 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine firstRemoteScreenDecodedOfUid:( NSString* _Nonnull )uid size:(CGSize)size elapsed:(NSInteger)elapsed;` | / |
| 删除 | 视频管理 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine firstRemoteVideoDecodedOfUid:( NSString* _Nonnull )uid size:(CGSize)size elapsed:(NSInteger)elapsed;` | / |
| 删除 | 房间管理 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine onLoginCompletion:(NSArray<id<ByteStream>>* _Nullable)streams errorCode:(NSInteger)errorcode;` | / |
| 删除 | 房间管理 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine didJoinChannel:(NSString * _Nonnull)channel withUid:(nonnull NSString*)uid elapsed:(NSInteger) elapsed` | / |
| 删除 | 房间管理 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine didRejoinChannel:(NSString * _Nonnull)channel withUid:(nonnull NSString*)uid elapsed:(NSInteger) elapsed` | / |
| 删除 | 引擎管理 | `(void)rtcEngine:(ByteRtcEngineKit* _Nonnull)engine log:(NSDictionary* _Nonnull)dict;` | / |
| 删除 | 数据统计 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine audioQualityOfUid:(NSString* _Nonnull )uid quality:(ByteNetworkQuality)quality delay:(NSUInteger)delay lost:(NSUInteger)lost` | / |
| 拆分或合并 | 房间管理 | <li>`public void onJoinChannelSuccess(String channel, String uid, int elapsed`</li><li>`public void onRejoinChannelSuccess(String channel, String uid, int elapsed)`</li> | `public void onJoinRoomResult(String roomId, String uid, int errorCode, int joinType, int elapsed)` | 旧版回调合并为 [`onJoinRoomResult`](iOS-callback#rtcengine-onjoinroomresult-withuid-errorcode-jointype-elapsed) |
| 拆分或合并 | 视频管理 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine didLocalVideoEnabled:(BOOL)enabled byUid:(NSString * _Nonnull)uid;` | <li>`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine didLocalVideoEnabled:(BOOL)enabled byUid:(NSString * _Nonnull)uid;`</li><li>`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onUserStartVideoCapture:(NSString *_Nonnull)uid;`</li><li>`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onUserStopVideoCapture:(NSString *_Nonnull)uid;`</li> | 旧版回调拆分为 [`didLocalVideoEnabled`](iOS-callback#rtcengine-didlocalvideoenabled-byuid)、[`onUserStartVideoCapture`](iOS-callback#rtcengine-onuserstartvideocapture) 和 [`onUserStopVideoCapture`](iOS-callback#rtcengine-onuserstopvideocapture) |
| 拆分或合并 | 视频管理 | `(void)rtcEngine:(ByteRtcEngineKit *_Nonnull)engine videoSizeChangedOfUid:(NSString * _Nonnull)uid size:(CGSize)size __attribute__((deprecated("Deprecated, please use a new interface")));` | <li>`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onLocalVideoSizeChanged:(ByteRTCStreamIndex)streamIndex withFrameInfo:(ByteRTCVideoFrameInfo *_Nonnull)frameInfo;`</li><li>`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onRemoteVideoSizeChanged:(ByteRTCRemoteStreamKey *_Nonnull)streamKey withFrameInfo:(ByteRTCVideoFrameInfo *_Nonnull)frameInfo;`</li> | 旧版回调拆分为 [`onLocalVideoSizeChanged`](iOS-callback#rtcengine-onlocalvideosizechanged-withframeinfo) 和 [`onRemoteVideoSizeChanged`](iOS-callback#rtcengine-onremotevideosizechanged-withframeinfo) |
| 拆分或合并 | 视频管理 | <li>`(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine firstRemoteVideoFrameOfUid:(NSString* _Nonnull )uid size:(CGSize)size elapsed:(NSInteger)elapsed;`</li><li>`(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine firstRemoteScreenFrameOfUid:(NSString* _Nonnull )uid size:(CGSize)size elapsed:(NSInteger)elapsed;`</li> | `(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onFirstRemoteVideoFrameRendered:(ByteRTCRemoteStreamKey * _Nonnull)streamKey withFrameInfo:(ByteRTCVideoFrameInfo * _Nonnull)frameInfo;` | 旧版回调合并为 [`onFirstRemoteVideoFrameRendered`](iOS-callback#rtcengine-onfirstremotevideoframerendered-withframeinfo) |
| 拆分或合并 | 数据统计 | <li>`(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine localVideoStats:(ByteRtcLocalVideoStats * _Nonnull)stats;`</li><li>`(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine localAudioStats:(ByteRtcLocalAudioStats * _Nonnull)stats;`</li> | `(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onLocalStreamStats:(const ByteRTCLocalStreamStats *_Nonnull)stats` | 多个旧版回调合并为 [`rtcEngine:onLocalStreamStats:`](iOS-callback#rtcengine-onlocalstreamstats) 中的多个状态 |
| 拆分或合并 | 数据统计 | <li>`(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine remoteVideoStats:(ByteRtcRemoteVideoStats * _Nonnull)stats;`</li><li>`(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine remoteAudioStats:(ByteRtcRemoteVideoStats * _Nonnull)stats;`</li> | `(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onRemoteStreamStats:(const ByteRTCRemoteStreamStats *_Nonnull)stats` | 多个旧版回调合并为 [`rtcEngine:onRemoteStreamStats:`](iOS-callback#rtcengine-onremotestreamstats) 中的多个状态 |
| 名称和参数变化 | 警告码 | `- (void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine didOccurWarning:(ByteRtcWarningCode)Code;` | [`- (void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onWarning:(ByteRTCWarningCode)Code;`](iOS-callback#rtcengine-onwarning) |
| 名称和参数变化 | 错误码 | `- (void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine didOccurError:(ByteRtcErrorCode)errorCode;` | [`- (void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onError:(ByteRTCErrorCode)errorCode;`](iOS-callback#rtcengine-onerror) |
| 名称和参数变化 | 房间管理 | `public void onLeaveChannel(IRtcEngineEventHandler.RtcStats stats)` | `public void onLeaveRoom(IRtcEngineEventHandler.RtcRoomStats stats)` |
| 名称和参数变化 | 房间管理 | `- (void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine didJoinedOfUid:(nonnull NSString*)uid elapsed:(NSInteger)elapsed` | [`- (void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onUserJoined:(nonnull ByteRTCUserInfo *)userInfo elapsed:(NSInteger)elapsed`](iOS-callback#rtcengine-onuserjoined-elapsed) |
| 名称和参数变化 | 房间管理 | `- (void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine didOfflineOfUid:(NSString* _Nonnull )uid reason(ByteRtcUserOfflineReason)reason` | [`- (void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onUserLeave:(NSString *_Nonnull)uid reason:(ByteRTCUserOfflineReason)reason;`](iOS-callback#rtcengine-onuserleave-reason) |
| 名称和参数变化 | 房间管理 | `- (void)rtcEngine:(ByteRtcEngineKit *_Nonnull)engine didPublishSucceedOfStream:(NSString *_Nonnull)userId isScreen:(BOOL)isScreen` | `- (void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onStreamPublishSuccess:(NSString *_Nonnull)userId isScreen:(BOOL)isScreen;` |
| 名称和参数变化 | 视频管理 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine didVideoMuted:(BOOL)muted byUid:(NSString * _Nonnull)uid;` | [`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onUserMuteVideo:(NSString * _Nonnull)uid withMuteState:(ByteRTCMuteState)muteState;`](iOS-callback#rtcengine-onusermutevideo-withmutestate) |
| 名称和参数变化 | 视频管理 | `(void)rtcEngine:(ByteRtcEngineKit *_Nonnull)engine remoteVideoStateChanged:(NSString *_Nonnull)uid state:(ByteRemoteVideoState)state reason:(ByteRemoteVideoReason)reason elapsed:(NSInteger)elapsed;` | [`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onRemoteVideoStateChanged:(ByteRTCRemoteStreamKey*_Nonnull)streamKey withVideoState:(ByteRTCRemoteVideoState)state withVideoStateReason:(ByteRTCRemoteVideoReason)reason;`](iOS-callback#rtcengine-onremotevideostatechanged-withvideostate-withvideostatereason) |
| 名称和参数变化 | 视频管理 | `(void)rtcEngine:(ByteRtcEngineKit *_Nonnull)engine localVideoStateChanged:(ByteLocalVideoStreamState)state error:(ByteLocalVideoStreamError)error;` | [`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onLocalVideoStateChanged:(ByteRTCStreamIndex)streamIndex withStreamState:(ByteRTCLocalVideoStreamState)state withStreamError:(ByteRTCLocalVideoStreamError)error;`](iOS-callback#rtcengine-onlocalvideostatechanged-withstreamstate-withstreamerror) |
| 名称和参数变化 | 视频管理 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine firstLocalVideoFrameWithSize:(CGSize)size elapsed:(NSInteger)elapsed;` | [`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onFirstLocalVideoFrameCaptured:(ByteRTCStreamIndex)streamIndex withFrameInfo:(ByteRTCVideoFrameInfo * _Nonnull)frameInfo;`](iOS-callback#rtcengine-onfirstlocalvideoframecaptured-withframeinfo) |
| 名称和参数变化 | 数据统计 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine reportRtcStats:(ByteRtcStats * _Nonnull)stats` | [`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onRoomStats:(ByteRTCRoomStats *_Nonnull)stats`](iOS-callback#rtcengine-onroomstats) |
| 名称和参数变化 | 性能回退 | `(void)rtcEngine:(ByteRtcEngineKit *_Nonnull)engine onPerformanceAlarmsWithLevel:(NSInteger)level sourceWantedData:(ByteSourceWantedData *_Nonnull)data;` | [`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onPerformanceAlarmsWithMode:(ByteRTCPerformanceAlarmMode)mode roomId:(NSString *_Nonnull)roomId reason:(ByteRTCPerformanceAlarmReason)reason sourceWantedData:(ByteRTCSourceWantedData *_Nonnull)data;`](iOS-callback#rtcengine-onperformancealarmswithmode-roomid-reason-sourcewanteddata) |
| 名称和参数变化 | 性能回退 | `(void)rtcEngine:(ByteRtcEngineKit *_Nonnull)engine OnRemoteStreamSwitch:(ByteRemoteStreamSwitchEvent *_Nonnull)event` | [`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine OnSimulcastSubscribeFallback:(ByteRTCRemoteStreamSwitchEvent *_Nonnull)event`](iOS-callback#rtcengine-onsimulcastsubscribefallback) |
| 名称和参数变化 | 音频管理 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine didAudioRouteChanged:(ByteAudioOutputRouting)routing` | [`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onAudioPlaybackDeviceChanged:(ByteRTCAudioPlaybackDevice)device`](iOS-callback#rtcengine-onaudioplaybackdevicechanged) |
| 名称和参数变化 | 音频管理 | `(void)rtcEngine:(ByteRtcEngineKit *_Nonnull)engine localAudioStateChanged:(ByteLocalAudioStreamState)state error:(ByteLocalAudioStreamError)error` | [`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onLocalAudioStateChanged:(ByteRTCLocalAudioStreamState)state error:(ByteRTCLocalAudioStreamError)error`](iOS-callback#rtcengine-onlocalaudiostatechanged-error) |
| 名称和参数变化 | 音频管理 | `(void)rtcEngine:(ByteRtcEngineKit *_Nonnull)engine remoteAudioStateChanged:(NSString *_Nonnull)uid state:(ByteRemoteAudioState)state reason:(ByteRemoteAudioReason)reason elapsed:(NSInteger)elapsed` | [`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onRemoteAudioStateChanged:(ByteRTCRemoteStreamKey * _Nonnull)key state:(ByteRTCRemoteAudioState)state reason:(ByteRTCRemoteAudioStateChangeReason)reason`](iOS-callback#rtcengine-onremoteaudiostatechanged-state-reason) |
| 名称和参数变化 | 音频管理 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine didAudioMuted:(BOOL)muted byUid:(NSString * _Nonnull)uid` | [`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onUserMuteAudio:(NSString * _Nonnull)uid muteState:(ByteRTCMuteState)muteState`](iOS-callback#rtcengine-onusermuteaudio-mutestate) |
| 名称和参数变化 | 音频管理 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine firstLocalAudioFrame:(NSInteger)elapsed` | [`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onFirstLocalAudioFrame:(ByteRTCStreamIndex) streamIndex`](iOS-callback#rtcengine-onfirstlocalaudioframe) |
| 名称和参数变化 | 音频管理 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine firstRemoteAudioFrameOfUid:(NSString * _Nonnull)uid elapsed:(NSInteger)elapsed` | [`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onFirstRemoteAudioFrame:(ByteRTCRemoteStreamKey * _Nonnull)key`](iOS-callback#rtcengine-onfirstremoteaudioframe) |
| 名称和参数变化 | 音频管理 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine reportAudioVolumeIndicationOfSpeakers:(NSArray<ByteRtcAudioVolumeInfo *> * _Nonnull)speakers totalVolume:(NSInteger)totalVolume` | [`(void)rtcEngine:(ByteRTCEngineKit * _Nonnull)engine onAudioVolumeIndication:(NSArray<ByteRTCAudioVolumeInfo *> * _Nonnull)speakers totalRemoteVolume:(NSInteger)totalRemoteVolume`](iOS-callback#rtcengine-onaudiovolumeindication-totalremotevolume) |
| 名称和参数变化 | CDN 推流 | `(void)rtcEngine:(ByteRtcEngineKit * _Nonnull)engine TransCodingWithUrl:(NSString * _Nonnull)url errorCode:(ByteRtcTransCodeingErrorCode)errorCode;` | [`(void)rtcEngine:(ByteRTCEngineKit *_Nonnull)engine onLiveTranscodingResult:(NSString *_Nonnull)url errorCode:(ByteRTCTranscodingError)errorCode`](iOS-callback#rtcengine-onlivetranscodingresult-errorcode) | [`ByteRTCTranscodingError`](iOS-errorcode#bytertctranscodingerror) 错误码名称变更 |

### 类型变更
以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
| 名称变化 | `ByteAACProfile` | [`ByteRTCAACProfile`](iOS-keytype#bytertcaacprofile) | 
| 名称变化 | `ProblemFeedback` | [`ByteRTCProblemFeedbackOption`](iOS-keytype#bytertcproblemfeedbackoption) | 
| 枚举值增减 | [`ByteRTCRemoteVideoStats`](iOS-keytype#bytertcremotevideostats) | 删除了枚举值：`uid`，此变量请参考 `ByteRTCRemoteStreamStats` 中的 [`uid`](iOS-keytype#uid) | 
| 枚举值增减 | [`ByteRTCRemoteAudioStats`](iOS-keytype#bytertcremoteaudiostats) | 删除了枚举值：`uid`，此变量请参考 `ByteRTCRemoteStreamStats` 中的 [`uid`](iOS-keytype#uid) | 
| 类型增减 | `ByteAudioDeviceObserver` | 删除，且无替代类。 |

## 3.20

### 回调变更
以下表格中的回调发生了变化。你需要在工程文件中找到该回调，并进行相关修改：

| 变更详情 | 功能模块 |  变动前回调  |  变动后回调  | 备注 |
| --- | --- | --- | --- | --- |
| 拆分或合并 | 引擎管理 | <li>`(void)rtcEngineConnectionDidInterrupted:(ByteRtcEngineKit * _Nonnull)engine`</li><li>`(void)rtcEngineConnectionDidLost:(ByteRtcEngineKit * _Nonnull)engine`</li> | `rtcEngine:(ByteRtcEngineKit * _Nonnull)engine connectionChangedToState:(ByteRtcConnectionState) state` | 多个旧版回调合并为 [`rtcEngine:connectionChangedToState:`](iOS-callback#rtcengine-connectionchangedtostate) 中的多个状态 |

## 3.19.2

### 方法变更
以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  变动前方法  |  变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 房间管理 | `(BOOL)enableAutoSubscribe:(BOOL)autoSubscribe` | [`(BOOL)enableAutoSubscribe:(ByteSubscribeMode)audioMode videoMode:(ByteSubscribeMode)videoMode;`](iOS-api#enableautosubscribe-videomode) |

### 类型变更
以下表格中的类型发生了变化，你需要在工程文件中找到该类型，并根据变化调整相关处理逻辑：

| 变更详情 | 数据类型  | 备注 |
| --- | --- | --- |
| 名称变化 | `MessageCode` | [`UserMessageCode`](iOS-keytype#usermessagecode) |
| 枚举值增减 | [`ByteRtcClientRole`](iOS-keytype#bytertcclientrole) | 删除了枚举值：`ByteRtc_ClientRole_Audience`，建议使用 `ByteRtc_ClientRole_Silent_Audience` 代替。 |
| 枚举值增减 | [`ByteRtcConnectionState`](iOS-keytype#bytertcconnectionstate) | 新增了枚举值：`ByteRtc_ConnectionState_Lost` |
| 枚举值增减 | [`SubscribeState`](iOS-keytype#bytertcconnectionstate) | 新增了枚举值：`SUBSCRIBE_STATE_FAILED_OVER_LIMIT` |

### 错误码变更
以下表格中的错误码发生了变化，你需要进行相应的处理：

| 变更详情 | 错误码  | 备注 |
| --- | --- | --- |
| 枚举值增减 | [`ByteRtcErrorCode`](iOS-errorcode#bytertcerrorcode) | 新增了枚举值：<li>`BRERR_OVER_STREAM_PUBLISH_LIMIT`</li><li>`BRERR_OVER_SCREEN_PUBLISH_LIMIT`</li><li>`BRERR_OVER_VIDEO_PUBLISH_LIMIT`</li> |


## 3.19.1

### 方法变更
以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  变动前方法  |  变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化  | 房间管理 | `(void)setEncryptType:(ByteEncryptType)encrypt_type key:(NSString *)key` | [`(void)setEncryptType:(ByteEncryptType)encrypt_type key:(NSString * _Nonnull)key`](iOS-api#setencrypttype-key) |

### 回调变更
以下表格中的回调发生了变化。你需要在工程文件中找到该回调，并进行相关修改：

| 变更详情 | 功能模块 |  变动前回调  |  变动后回调  | 备注 |
| --- | --- | --- | --- | --- |
| 删除 |  | `(void)setTTMonitorCallBack:(void (^ _Nullable)(NSDictionary * _Nonnull data, NSString * _Nullable logType))callBack;` |
| 删除 |  | `(void)setByteLog:(BOOL)isConsole callBack:(void (^ _Nullable)(ByteRtcLogLevel leave, NSString * _Nonnull filename, NSString * _Nonnull tag, int line, NSString * _Nonnull funcName, NSString * _Nullable format))callBack;` |

## 3.18.3

### 方法变更
以下表格中的方法发生了变化。你需要在工程文件中找到该方法，并进行相关修改：

| 变更详情 | 功能模块 |  变动前方法  |  变动后方法  | 备注 |
| --- | --- | --- | --- | --- |
| 参数变化 | 房间管理 | `(void)unSubscribeStream:(NSString * _Nonnull)streamId` | [`(void)unSubscribeStream:(NSString *_Nonnull)userId isScreen:(BOOL)isScreen`](iOS-api#unsubscribestream-isscreen) |
| 参数变化 | 房间管理 | `(void)subscribeStream:(NSString * _Nonnull)streamId subscribeConfig:(SubscribeConfig * _Nonnull)info` | [`(void)subscribeStream:(NSString *_Nonnull)userId subscribeConfig:(SubscribeConfig *_Nonnull)info`](iOS-api#subscribestream-subscribeconfig) |
