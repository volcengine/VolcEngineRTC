---
is_dir: False    # True for dir; False for doc
status: 1    # 0 for offline; 1 for online; 2 for whitelist; 4 for online but hidden in TOC
keywords: 实时音视频    # use ',' as separator
---

空间音频是一种能够呈现声源的空间方位的音频技术，提高用户音频体验的沉浸感。在游戏、影视和虚拟现实等场景中应用空间音频，使实时互动从“在线”变成了“在场”。

## 功能变更日志

1. 自客户端 SDK 3.30 起，支持空间音频效果。
2. 自客户端 SDK 3.41 起，优化了空间音频的朝向体验。在通话过程中，RTC 将根据通话用户各自的朝向渲染音频，收听者可以感受到发言者朝向改变带来的空间音频效果。
3. 客户端 SDK 3.52 对本功能做了如下修改：
	- 优化本地用户空间音频体验，支持本地用户设置自己和指定远端用户在空间音频坐标系中的位置和朝向，同时支持本地用户设置指定或全部远端用户不参与空间音频。
	- 接口变更，用 `updateSelfOrientation` 和 `updateRemotePosition` 替代原有接口。
		| 变更详情 | 功能模块 | 变动前方法 | 变动后方法 |
		| --- | --- | --- | --- |
		| 合并 | 高级功能 | - `updatePosition` | `updateSelfPosition` |\
		||| - `updateSelfOrientation` |
		| ^^ | ^^ | - `updateListenerPosition` | `updateRemotePosition` |\
		||| - `updateListenerOrientation` |

## 适用场景

空间音频效果可以提升立体空间听觉感受，例如以下场景：
- “吃鸡”这类游戏中，玩家能通过声源方位，判断其他玩家的位置，增强沉浸式体验。
- VR 音频应用中，用户能感受来自不同方位的声音，提升临场感。
- 线上会议中，用户能通过语音辨别其他成员的坐席方位，犹如亲临线下会议。

## 前提条件

* 使用支持真双声道播放的设备。

	| 音频路由 | 是否支持真双声道播放 |
	| --- | --- |
	| 有线耳机 | 支持 |
	| 蓝牙耳机 | <ul><li>不开麦状态下支持</li><li>开麦状态下不支持</li></ul> |
	| 扬声器 | 不支持 |

* 保证网络稳定。在网络状况不佳的情况下，即使开启了这一功能，也不会产生空间音频效果。
* 使用性能较好的机型。机型性能不足可能会导致音频卡顿，使用低端机时，不建议开启空间音频效果。
* 空间音频依赖 RTC 内建的音频渲染能力，因此，如果你的应用使用了自定义音频渲染器，将无法使用本功能。

## 开启空间音频效果

:::warning
+ RTC 最多支持 30 人在同一房间内进行空间音频通话。房间内开启空间音频效果的人数超出 30 个后，仅距离最近的 30 位用户有空间音频效果。
+ 空间音频效果不支持屏幕采集的音频流。
:::

在音视频通信中，启用空间音频效果后，用户可以通过声音判断通话对象的方位。参与通话的各端都调用以下接口，并且实时更新位置。
1. 创建房间。
	
2. 调用 [getSpatialAudio](https://www.volcengine.com/docs/6348/70080#RTCRoom-getspatialaudio)，获取空间音频接口实例。
	
3. 调用 [enableSpatialAudio](https://www.volcengine.com/docs/6348/70080#ISpatialAudio-enablespatialaudio)，开启空间音频效果。

4. 加入房间。
	
5. 调用 [updateSelfPosition](https://www.volcengine.com/docs/6348/70080#ISpatialAudio-updateselfposition) 设置本地用户在自建空间直角坐标系中的坐标和朝向。你可以多次调用此接口，实时更新位置和朝向。

	:::tip
	配合 [范围语音](https://www.volcengine.com/docs/6348/114727)功能使用时，应保证为同一用户分别传入的是相同的坐标信息。
	:::

6. 调用 [updateRemotePosition](https://www.volcengine.com/docs/6348/70080#ISpatialAudio-updateremoteposition) 设置房间内某一远端用户在本地用户自建的空间音频坐标系中的发声位置和发声朝向。你可以多次调用此接口，实时更新位置和朝向。
调用 [removeRemotePosition](https://www.volcengine.com/docs/6348/70080#ISpatialAudio-removeremoteposition) 或 [removeAllRemotePosition](https://www.volcengine.com/docs/6348/70080#ISpatialAudio-removeallremoteposition) 移除你为某一远端用户或所有远端用户设置的位置和朝向。

7. 在空间音频的某些应用场景，只需要感知发言人的距离，不需要感知朝向。例如会议场景中，为确保清晰的通话体验，发言人应始终面向收听者。你可以通过调用 [disableRemoteOrientation](https://www.volcengine.com/docs/6348/70080#ISpatialAudio-disableremoteorientation) 关闭本地用户朝向对本地用户发声效果的影响。同一房间中，各用户的这项设置通常应保持一致。

## API 参考

| <div style="width: 150pt">功能</div> | <div style="width: 123pt">Android</div> | <div style="width: 123pt">iOS</div> | <div style="width: 123pt">macOS</div> | <div style="width: 123pt">Windows</div> |
| --- | --- | --- | --- | --- |
| 获取空间音频接口实例 | [getSpatialAudio](70080#RTCRoom-getspatialaudio) | [getSpatialAudio](70086#ByteRTCRoom-getspatialaudio) | [getSpatialAudio](70092#ByteRTCRoom-getspatialaudio) | [getSpatialAudio](70095#IRTCRoom-getspatialaudio) |
| 开启/关闭空间音频功能 | [enableSpatialAudio](70080#ISpatialAudio-enablespatialaudio) | [enableSpatialAudio](70086#ByteRTCSpatialAudio-enablespatialaudio) | [enableSpatialAudio](70092#ByteRTCSpatialAudio-enablespatialaudio) | [enableSpatialAudio](70095#ISpatialAudio-enablespatialaudio) |
| 设置本地用户在自建空间直角坐标系中的坐标和朝向 | [updateSelfPosition](70080#ISpatialAudio-updateselfposition) | [updateSelfPosition](70086#ByteRTCSpatialAudio-updateselfposition) | [updateSelfPosition](70092#ByteRTCSpatialAudio-updateselfposition) | [updateSelfPosition](70095#ISpatialAudio-updateselfposition) |
| 设置房间内某一远端用户在本地用户自建的空间音频坐标系中的发声位置和发声朝向 | [updateRemotePosition](70080#ISpatialAudio-updateremoteposition) | [updateRemotePosition](70086#ByteRTCSpatialAudio-updateremoteposition-positioninfo) | [updateRemotePosition](70092#ByteRTCSpatialAudio-updateremoteposition-positioninfo) | [updateRemotePosition](70095#ISpatialAudio-updateremoteposition) |
| 移除为某一远端用户设置的空间音频效果 | [removeRemotePosition](70080#ISpatialAudio-removeremoteposition) | [removeRemotePosition](70086#ByteRTCSpatialAudio-removeremoteposition) | [removeRemotePosition](70092#ByteRTCSpatialAudio-removeremoteposition) | [removeRemotePosition](70095#ISpatialAudio-removeremoteposition) |
| 移除为所有远端用户设置的空间音频效果 | [removeAllRemotePosition](70080#ISpatialAudio-removeallremoteposition) | [removeAllRemotePosition](70086#ByteRTCSpatialAudio-removeallremoteposition) | [removeAllRemotePosition](70092#ByteRTCSpatialAudio-removeallremoteposition) | [removeAllRemotePosition](70095#ISpatialAudio-removeallremoteposition) |
| 关闭本地用户朝向对本地用户发声效果的影响 | [disableRemoteOrientation](70080#ISpatialAudio-disableremoteorientation) | [disableRemoteOrientation](70086#ByteRTCSpatialAudio-disableremoteorientation) | [disableRemoteOrientation](70092#ByteRTCSpatialAudio-disableremoteorientation) | [disableRemoteOrientation](70095#ISpatialAudio-disableremoteorientation) |
