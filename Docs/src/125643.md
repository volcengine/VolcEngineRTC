---
is_dir: False    # True for dir; False for doc
status: 1    # 1 for online; 0 for offline
keywords: 实时音视频    # use ',' as separator
---

诊断工具以单个通话链路为维度，记录关键用户事件，对通话指标、设备、网络等数据的进行分析并展示，帮助发现和诊断通话中包括无声、音频卡顿和视频卡顿等异常情况。当用户遭遇音视频卡顿、无声等质量问题时，你可以使用诊断工具，对发生异常的时间。针对进行中的重大项目，还可以利用诊断工具中提供实时的数据和分析，及时排除问题，给重要项目保驾护航。

## 功能说明

诊断工具提供以下功能：
- 定位和关注重要通话
通过查询房间，输入高级查询条件，你可以通过通话人数或卡顿率等找到需要关注的 RTC 房间。

- 重保通话监控
在房间详情中，你可以在体验概览中查看房间级别的用户统计、卡顿用户分布和异常事件趋势，帮助你快速了解房间的整体情况。再根据实际情况，定位到具体问题或用户，下钻至用户级别的调查。

- 调查通话详情
点击房间详情，调查房间中发布端和订阅端详情，定位到用户级别作为发送和订阅方的关键质量数据和异常事件。

- 异常通话诊断
针对用户级别异常问题进行诊断，分析异常原因。

## 用户事件和数据指标

点击**数据详情**页签，结合用户事件和各项设备、网络指标，排查和定位异常问题。

> 说明： 更多异常问题排查和定位信息详见[质量相关问题](https://www.volcengine.com/docs/6348/114296)。

### 用户事件

![](https://lf3-volc-editor.volccdn.com/obj/volcfe/sop-public/upload_4b1166334c6661f9813e580a43845b8c)
将鼠标悬停在用户事件图表上，出现悬浮卡片，展示了该时间点的用户事件列表。事件与异常问题的关系说明如下：

- 取得设备权限：未取得设备的使用权限将导致无法开始采集音/视频
	

- 进入/离开房间：用户需要进房才能开始发送或接收音视频
	

- 用户角色：当用户角色为普通用户时，才可以发送音视频流
	

- 音/视频首帧发送成功：开始发布媒体流
	

- 音频路由切换：耳机接入设备后，音频路由将自动切换为耳机，此时，扬声器或听筒表现为无声
	

- 网络切换：当网络降为3G 或 2G 时，可能由于带宽不足从而影响音视频通话质量
	

- 暂停/恢复接收远端音/视频：暂停接收期间，无法接收到远端音视频
	

- 暂停/恢复发送本端音/视频：暂停发送期间，远端无法接收到本端音视频
	

### 设备状态

流畅的音视频通话，依赖于设备稳定地提供足够的系统资源。相关的指标说明如下：

- CPU 占用率：CPU 占用率超过 80%，可能代表着设备不能给应用提供足够的资源，建议重启或更换设备。
	

- 音频采集/播放音量：采集/播放音量过低可能表现为无声问题。
	

- 视频分辨率：分辨率用于辅助排查视频模糊问题。
	

- 码率：码率是指数据传输时单位时间传送的数据位数。通常，码率越高，音视频质量越高。码率在一定范围内的波动属于正常现象。如果码率突然大幅降低，代表网络可能出现阻塞。或者，码率在某段时间内的波动幅度异常增大，说明网络抖动大，可能对通话质量造成影响。
	

- 视频帧率：帧率是指每秒连续出现在显示器上的位图图像数量。通常，帧率越高视频越流畅，但也将占用更多的网络带宽和设备 CPU。而当帧率过低，例如，低于 5 fps 时，会造成视觉卡顿或模糊。
	

### 网络状态

网络指标的恶化，通常会导致通话质量下降，表现为音/视频卡顿，掉帧，模糊不清。诊断工具中展示的指标说明如下：

- 丢包率：丢包是指在数据传输上行/下行过程中发生的数据包丢失，以百分比表示。当丢包率超过 5%， 通常代表网络质量较差，从而会导致音视频卡顿、视频模糊等问题。低数值的丢包率一般不会影响通话体验。
	

![](https://lf3-volc-editor.volccdn.com/obj/volcfe/sop-public/upload_6c2c79d8636b1d5296dc28fa28f25cdd)

- 延时：上行/下行网络往返延时。当延时超过 250 ms 时，说明网络延迟较高，可能影响通话体验。
	

![](https://lf3-volc-editor.volccdn.com/obj/volcfe/sop-public/upload_79afeccc2e6aeea837d472c368474899)

- 卡顿：接收远端视频，解码后持续无帧的时间超过 500 ms 记为一次视频卡顿。
	

<br>

<br>

<br>

<br>

<br>
