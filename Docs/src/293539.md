---
is_dir: False    # True for dir; False for doc
status: 1    # 1 for online; 0 for offline
keywords: 实时音视频    # use ',' as separator
---

## Friend <span id="friend"></span>

类型: `class`

好友信息。

<p style="font-size: 16px;font-weight: bolder;"> userId <span id="friend-userid"></span></p> 

类型: <code>string | undefined</code>

用户 ID。

<p style="font-size: 16px;font-weight: bolder;"> applyTime <span id="friend-applytime"></span></p> 

类型: <code>Date | undefined</code>

好友申请时间。

<p style="font-size: 16px;font-weight: bolder;"> createTime <span id="friend-createtime"></span></p> 

类型: <code>Date | undefined</code>

好友创建时间（申请通过时间）。

<p style="font-size: 16px;font-weight: bolder;"> ext <span id="friend-ext"></span></p> 

类型: <code>{ [k: string]: string; } | null | undefined</code>

用户额外信息。


## FriendApply <span id="friendapply"></span>

类型: `class`

好友申请信息

<p style="font-size: 16px;font-weight: bolder;"> id <span id="friendapply-id"></span></p> 

类型: <code>string | undefined</code>

申请 ID

<p style="font-size: 16px;font-weight: bolder;"> fromUserId <span id="friendapply-fromuserid"></span></p> 

类型: <code>string | undefined</code>

发起方

<p style="font-size: 16px;font-weight: bolder;"> toUserId <span id="friendapply-touserid"></span></p> 

类型: <code>string | undefined</code>

接收方

<p style="font-size: 16px;font-weight: bolder;"> applyTime <span id="friendapply-applytime"></span></p> 

类型: <code>Date | undefined</code>

申请时间

<p style="font-size: 16px;font-weight: bolder;"> ext <span id="friendapply-ext"></span></p> 

类型: <code>{ [k: string]: string; } | null | undefined</code>

扩展字段

<p style="font-size: 16px;font-weight: bolder;"> status <span id="friendapply-status"></span></p> 

类型: <code>[FriendApplyStatus](#friendapplystatus) | undefined</code>

申请状态

<p style="font-size: 16px;font-weight: bolder;"> index <span id="friendapply-index"></span></p> 

类型: <code>Long | null | undefined</code>

申请下标（可用于同步已读状态）


## FriendApplyStatus <span id="friendapplystatus"></span>

类型: `enum`

好友申请状态

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | Waiting | `0` | 申请中 |
  | Agree | `1` | 同意 |
  | Refuse | `2` | 拒绝 |


## MessageDirection <span id="messagedirection"></span>

类型: `enum`

消息方向

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | OLDER | `1` | 从旧到新 |
  | NEWER | `2` | 从新到旧 |


## ReplyFriendAttitude <span id="replyfriendattitude"></span>

类型: `enum`

好友申请回应状态。

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | Accept | `0` | 接受好友申请。 |
  | Reject | `1` | 拒绝好友申请。 |


## InitResult <span id="initresult"></span>

类型: `enum`

SDK 初始化状态。

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | Start | `1` | 正在初始化。 |
  | Error | `2` | 初始化错误。 |
  | Succeeded | `3` | 初始化完成。 |


## Conversation <span id="conversation"></span>

类型: `class`

会话结构。

<p style="font-size: 16px;font-weight: bolder;"> id <span id="conversation-id"></span></p> 

类型: <code>string</code>

会话 ID。
单聊会话 ID 规则为 `{inboxType}:1:{minUid}:{maxUid}`，群聊为 short id。

<p style="font-size: 16px;font-weight: bolder;"> shortId <span id="conversation-shortid"></span></p> 

类型: <code>string</code>

会话 short id，int64。

<p style="font-size: 16px;font-weight: bolder;"> type <span id="conversation-type"></span></p> 

类型: <code>im_proto.[ConversationType](#conversationtype)</code>

会话类型。

<p style="font-size: 16px;font-weight: bolder;"> isMember <span id="conversation-ismember"></span></p> 

类型: <code>boolean</code>

是否为会话成员。

<p style="font-size: 16px;font-weight: bolder;"> participantCount <span id="conversation-participantcount"></span></p> 

类型: <code>number</code>

会话成员总数。（缓存态，不实时）

<p style="font-size: 16px;font-weight: bolder;"> onlineMemberCount <span id="conversation-onlinemembercount"></span></p> 

类型: <code>number</code>

在线用户人数。

<p style="font-size: 16px;font-weight: bolder;"> userInfo <span id="conversation-userinfo"></span></p> 

类型: <code>[Participant](#participant)</code>

当前用户信息。

<p style="font-size: 16px;font-weight: bolder;"> inboxType <span id="conversation-inboxtype"></span></p> 

类型: <code>number</code>

`只读`, 会话所在的信箱类型。

<p style="font-size: 16px;font-weight: bolder;"> status <span id="conversation-status"></span></p> 

类型: <code>[ConversationStatus](#conversationstatus)</code>

会话状态。

<p style="font-size: 16px;font-weight: bolder;"> coreInfo <span id="conversation-coreinfo"></span></p> 

类型: <code>[ConversationCoreInfo](#conversationcoreinfo)</code>

会话的 Core 信息。

<p style="font-size: 16px;font-weight: bolder;"> settingInfo <span id="conversation-settinginfo"></span></p> 

类型: <code>[ConversationSettingInfo](#conversationsettinginfo)</code>

会话的 Setting 信息。

<p style="font-size: 16px;font-weight: bolder;"> isOffline <span id="conversation-isoffline"></span></p> 

类型: <code>boolean</code>

会话是否为离线状态。（未从服务端拉取完整信息）

<p style="font-size: 16px;font-weight: bolder;"> mode <span id="conversation-mode"></span></p> 

类型: <code>number</code>

`只读`, 会话推拉模式（陌生人），熟人会话是 0。

<p style="font-size: 16px;font-weight: bolder;"> isStrangerConversation <span id="conversation-isstrangerconversation"></span></p> 

类型: <code>boolean</code>

`只读`, 是否为陌生人会话。

<p style="font-size: 16px;font-weight: bolder;"> pushStatus <span id="conversation-pushstatus"></span></p> 

类型: <code>PushStatus</code>

`只读`, 消息推送状态，参看 [PushStatus](#pushstatus)。

<p style="font-size: 16px;font-weight: bolder;"> weakMuteInfo <span id="conversation-weakmuteinfo"></span></p> 

类型: <code>ConversationSettingWeakMuteInfo</code>

`只读`, 低打扰模式关注配置，参看 [PushStatus](#pushstatus)。

<p style="font-size: 16px;font-weight: bolder;"> isStickOnTop <span id="conversation-isstickontop"></span></p> 

类型: <code>boolean</code>

`只读`, 会话是否置顶，参看 [StickTopState](#sticktopstate)。

<p style="font-size: 16px;font-weight: bolder;"> isFavorite <span id="conversation-isfavorite"></span></p> 

类型: <code>boolean</code>

`只读`, 会话是否被收藏，参看 [FavoriteState](#favoritestate)。

<p style="font-size: 16px;font-weight: bolder;"> ext <span id="conversation-ext"></span></p> 

类型: <code>{ [k: string]: string; }</code>

`只读`, 获得会话的 ext。

- **注意**

  本参数为 core 与 setting 的组合（覆盖 core 同名 key）。需要获得单独的 core 或 setting 可以访问 [ConversationCoreInfo.ext](#conversationcoreinfo-ext) 和 [ConversationSettingInfo.ext](#conversationsettinginfo-ext)。

<p style="font-size: 16px;font-weight: bolder;"> lastMessage <span id="conversation-lastmessage"></span></p> 

类型: <code>Message | null</code>

`只读`, 获得最后一条消息（最新消息）。

<p style="font-size: 16px;font-weight: bolder;"> firstMessage <span id="conversation-firstmessage"></span></p> 

类型: <code>Message | null</code>

`只读`, 获得第一条消息（最旧消息）。

<p style="font-size: 16px;font-weight: bolder;"> readIndex <span id="conversation-readindex"></span></p> 

类型: <code>Long</code>

`只读`, 获得会话内已读的最近一条消息的序号。

<p style="font-size: 16px;font-weight: bolder;"> version <span id="conversation-version"></span></p> 

类型: <code>Long</code>

`只读`, 会话的 Setting 版本。

<p style="font-size: 16px;font-weight: bolder;"> updatedAt <span id="conversation-updatedat"></span></p> 

类型: <code>Date</code>

`只读`, 获得最后一条消息的创建时间，并暂时作为会话的显示更新时间。
如果没有创建消息，会返回 0。

<p style="font-size: 16px;font-weight: bolder;"> isGeneralConversation <span id="conversation-isgeneralconversation"></span></p> 

类型: <code>boolean</code>

`只读`, 是否为普通会话。普通会话包括单聊和群聊，不包括直播群。

<p style="font-size: 16px;font-weight: bolder;"> toParticipantUserId <span id="conversation-toparticipantuserid"></span></p> 

类型: <code>string | undefined</code>

`只读`, 返回单聊会话的对方用户的 uid。

<p style="font-size: 16px;font-weight: bolder;"> isBlocked <span id="conversation-isblocked"></span></p> 

类型: <code>boolean</code>

`只读`, 会话是否禁言。

<p style="font-size: 16px;font-weight: bolder;"> isBlockNormalOnly <span id="conversation-isblocknormalonly"></span></p> 

类型: <code>boolean</code>

`只读`, 会话是否只禁言普通成员。

<p style="font-size: 16px;font-weight: bolder;"> lastVisibleMessage <span id="conversation-lastvisiblemessage"></span></p> 

获得可见的最后一条消息，参看 [Message.visible](#message-visible)。

- **类型**

  ```ts
  (msg: Message) => boolean
  ```

- **参数**

  - **msg**

    类型: <code>Message</code>

<p style="font-size: 16px;font-weight: bolder;"> lastPopVisibleMessage <span id="conversation-lastpopvisiblemessage"></span></p> 

获得需要顶出的最后一条消息，参看 [Message.unpop](#message-unpop)。

- **类型**

  ```ts
  (msg: Message) => boolean
  ```

- **参数**

  - **msg**

    类型: <code>Message</code>

<p style="font-size: 16px;font-weight: bolder;"> unreadCount <span id="conversation-unreadcount"></span></p> 

获得会话当前的未读数。
注意是一个 getter。

- **类型**

  ```ts
  (_: string) => number
  ```

- **参数**

  - **_**

    类型: <code>string</code>

<p style="font-size: 16px;font-weight: bolder;"> unreadCountWithWhiteList <span id="conversation-unreadcountwithwhitelist"></span></p> 

低打扰模式下白名单内的未读消息数

- **类型**

  ```ts
  (_: string) => number
  ```

- **参数**

  - **_**

    类型: <code>string</code>

<p style="font-size: 16px;font-weight: bolder;"> unreadMessageList <span id="conversation-unreadmessagelist"></span></p> 

用户当前会话内的未读消息

- **类型**

  ```ts
  (msg: Message) => boolean
  ```

- **参数**

  - **msg**

    类型: <code>Message</code>

<p style="font-size: 16px;font-weight: bolder;"> unreadMessageListWithWhiteList <span id="conversation-unreadmessagelistwithwhitelist"></span></p> 

用户当前会话内，满足低打扰消息白名单的未读消息

- **类型**

  ```ts
  (msg: Message) => string | number | Long | undefined
  ```

- **参数**

  - **msg**

    类型: <code>Message</code>

<p style="font-size: 16px;font-weight: bolder;"> firstMessageIndex <span id="conversation-firstmessageindex"></span></p> 

第一条消息的位置

- **类型**

  ```ts
  (m: Message) => boolean
  ```

- **参数**

  - **m**

    类型: <code>Message</code>

<p style="font-size: 16px;font-weight: bolder;"> lastMessageIndex <span id="conversation-lastmessageindex"></span></p> 

最后一条消息的位置

- **类型**

  ```ts
  (m: Message) => boolean
  ```

- **参数**

  - **m**

    类型: <code>Message</code>

<p style="font-size: 16px;font-weight: bolder;"> lastMessageOrder <span id="conversation-lastmessageorder"></span></p> 

最后一条消息的顺序编号

- **类型**

  ```ts
  (m: Message) => boolean
  ```

- **参数**

  - **m**

    类型: <code>Message</code>

<p style="font-size: 16px;font-weight: bolder;"> forceRefreshUnreadCount <span id="conversation-forcerefreshunreadcount"></span></p> 

强制刷新未读数

- **类型**

  ```ts
  () => void
  ```

<p style="font-size: 16px;font-weight: bolder;"> getMessageList <span id="conversation-getmessagelist"></span></p> 

返回当前会话的所有消息，map<string, Message>。
Key 是消息的 clientId，默认过滤不可见消息。

- **类型**

  ```ts
  (filter?: (msg: Message) => boolean) => Message[]
  ```

- **参数**

  - **filter**

    类型: <code>(msg: [Message](#message)) =\> boolean</code>

    默认值: `' m => m.visible'`

<p style="font-size: 16px;font-weight: bolder;"> getParticipantList <span id="conversation-getparticipantlist"></span></p> 

返回当前会话的所有成员，map<string, Message>。

- **类型**

  ```ts
  () => Participant[]
  ```


## ConversationType <span id="conversationtype"></span>

类型: `enum`

会话类型。

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | ONE_TO_ONE_CHAT | `1` | 单聊会话。 |
  | GROUP_CHAT | `2` | 群聊会话。 |
  | MASS_CHAT | `100` | 直播会话。 |


## Participant <span id="participant"></span>

类型: `class`

会话成员对象

<p style="font-size: 16px;font-weight: bolder;"> userId <span id="participant-userid"></span></p> 

类型: <code>string</code>

用户 id

<p style="font-size: 16px;font-weight: bolder;"> secUid <span id="participant-secuid"></span></p> 

类型: <code>string</code>

加密 uid

<p style="font-size: 16px;font-weight: bolder;"> sortOrder <span id="participant-sortorder"></span></p> 

类型: <code>Long | undefined</code>

列表排序

<p style="font-size: 16px;font-weight: bolder;"> role <span id="participant-role"></span></p> 

类型: <code>number | undefined</code>

成员角色 0: 普通成员 1: 群主  2: 管理员 3：访客

<p style="font-size: 16px;font-weight: bolder;"> alias <span id="participant-alias"></span></p> 

类型: <code>string | undefined</code>

群成员在群里的昵称

<p style="font-size: 16px;font-weight: bolder;"> conversationId <span id="participant-conversationid"></span></p> 

类型: <code>string</code>

会话 ID，群聊时等于消息体中的 conversationShortId

<p style="font-size: 16px;font-weight: bolder;"> blocked <span id="participant-blocked"></span></p> 

类型: <code>boolean | undefined</code>

是否被禁言

<p style="font-size: 16px;font-weight: bolder;"> leftBlockTime <span id="participant-leftblocktime"></span></p> 

类型: <code>Long | undefined</code>

被禁言的话还有多长时间解封

<p style="font-size: 16px;font-weight: bolder;"> minIndex <span id="participant-minindex"></span></p> 

类型: <code>Long</code>

用户在会话内的最小可拉取位置

<p style="font-size: 16px;font-weight: bolder;"> readIndex <span id="participant-readindex"></span></p> 

类型: <code>Long</code>

会话内成员最近一条已读消息的序号 (对应消息 indexInConversation)

<p style="font-size: 16px;font-weight: bolder;"> readOrder <span id="participant-readorder"></span></p> 

类型: <code>Long</code>

已读水位 (对应消息 orderInConversation)

<p style="font-size: 16px;font-weight: bolder;"> isSelf <span id="participant-isself"></span></p> 

类型: <code>boolean</code>

`只读`, 是否是自己

<p style="font-size: 16px;font-weight: bolder;"> ext <span id="participant-ext"></span></p> 

类型: <code>{ [k: string]: string; }</code>

扩展字段


## ConversationStatus <span id="conversationstatus"></span>

类型: `enum`

会话状态

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | Normal | `0` | 正常。 |
  | Dissolved | `1` | 已被解散。 |


## ConversationCoreInfo <span id="conversationcoreinfo"></span>

类型: `class`

会话 CoreInfo 结构

<p style="font-size: 16px;font-weight: bolder;"> conversationId <span id="conversationcoreinfo-conversationid"></span></p> 

类型: <code>string</code>

`只读`, 会话 id

<p style="font-size: 16px;font-weight: bolder;"> version <span id="conversationcoreinfo-version"></span></p> 

类型: <code>Long</code>

Core Info 的版本号

<p style="font-size: 16px;font-weight: bolder;"> name <span id="conversationcoreinfo-name"></span></p> 

类型: <code>string</code>

会话名称

<p style="font-size: 16px;font-weight: bolder;"> desc <span id="conversationcoreinfo-desc"></span></p> 

类型: <code>string</code>

会话描述

<p style="font-size: 16px;font-weight: bolder;"> icon <span id="conversationcoreinfo-icon"></span></p> 

类型: <code>string</code>

会话图标 / 群头像

<p style="font-size: 16px;font-weight: bolder;"> notice <span id="conversationcoreinfo-notice"></span></p> 

类型: <code>string</code>

群公告

<p style="font-size: 16px;font-weight: bolder;"> owner <span id="conversationcoreinfo-owner"></span></p> 

类型: <code>string</code>

群主 / 创建者

<p style="font-size: 16px;font-weight: bolder;"> secOwner <span id="conversationcoreinfo-secowner"></span></p> 

类型: <code>string</code>

加密 uid 群主

<p style="font-size: 16px;font-weight: bolder;"> inboxType <span id="conversationcoreinfo-inboxtype"></span></p> 

类型: <code>number</code>

信箱类型

<p style="font-size: 16px;font-weight: bolder;"> blockStatus <span id="conversationcoreinfo-blockstatus"></span></p> 

类型: <code>im_proto.[BlockStatus](#blockstatus)</code>

禁言状态

<p style="font-size: 16px;font-weight: bolder;"> blockNormalOnly <span id="conversationcoreinfo-blocknormalonly"></span></p> 

类型: <code>boolean</code>

是否只禁言普通成员

<p style="font-size: 16px;font-weight: bolder;"> ext <span id="conversationcoreinfo-ext"></span></p> 

类型: <code>{ [k: string]: string; }</code>

会话 Core Ext


## BlockStatus <span id="blockstatus"></span>

类型: `enum`

禁言状态。

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | UNBLOCK | `0` | 未禁言。 |
  | BLOCK | `1` | 禁言中。 |


## ConversationSettingInfo <span id="conversationsettinginfo"></span>

类型: `class`

会话 Setting Info 结构

<p style="font-size: 16px;font-weight: bolder;"> conversationId <span id="conversationsettinginfo-conversationid"></span></p> 

类型: <code>string</code>

`只读`, 会话 id

<p style="font-size: 16px;font-weight: bolder;"> version <span id="conversationsettinginfo-version"></span></p> 

类型: <code>Long</code>

会话 Setting 版本

<p style="font-size: 16px;font-weight: bolder;"> stickTop <span id="conversationsettinginfo-sticktop"></span></p> 

类型: <code>[StickTopState](#sticktopstate)</code>

置顶状态

<p style="font-size: 16px;font-weight: bolder;"> setTopTime <span id="conversationsettinginfo-settoptime"></span></p> 

类型: <code>Long</code>

<p style="font-size: 16px;font-weight: bolder;"> mute <span id="conversationsettinginfo-mute"></span></p> 

类型: <code>[MuteState](#mutestate)</code>

免打扰状态

<p style="font-size: 16px;font-weight: bolder;"> pushStatus <span id="conversationsettinginfo-pushstatus"></span></p> 

类型: <code>PushStatus</code>

消息推送状态

<p style="font-size: 16px;font-weight: bolder;"> favor <span id="conversationsettinginfo-favor"></span></p> 

类型: <code>[FavoriteState](#favoritestate)</code>

收藏状态

<p style="font-size: 16px;font-weight: bolder;"> setFavoriteTime <span id="conversationsettinginfo-setfavoritetime"></span></p> 

类型: <code>Long</code>

设置收藏的时间

<p style="font-size: 16px;font-weight: bolder;"> readIndex <span id="conversationsettinginfo-readindex"></span></p> 

类型: <code>Long</code>

<p style="font-size: 16px;font-weight: bolder;"> ext <span id="conversationsettinginfo-ext"></span></p> 

类型: <code>{ [k: string]: string; }</code>

会话 Setting Ext

<p style="font-size: 16px;font-weight: bolder;"> weakMuteInfo <span id="conversationsettinginfo-weakmuteinfo"></span></p> 

类型: <code>[ConversationSettingWeakMuteInfo](#conversationsettingweakmuteinfo)</code>

`只读`, 低打扰会话配置


## StickTopState <span id="sticktopstate"></span>

类型: `enum`

置顶状态。

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | Off | `0` | 未置顶。 |
  | On | `1` | 已置顶。 |


## MuteState <span id="mutestate"></span>

类型: `enum`

免打扰状态。

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | Off | `0` | 普通提醒。 |
  | On | `1` | 免打扰状态（不提醒）。 |


## FavoriteState <span id="favoritestate"></span>

类型: `enum`

收藏状态。

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | Off | `0` | 未收藏。 |
  | On | `1` | 已收藏。 |


## ConversationSettingWeakMuteInfo <span id="conversationsettingweakmuteinfo"></span>

类型: `interface`

会话低打扰模式配置。

<p style="font-size: 16px;font-weight: bolder;"> whiteUids <span id="conversationsettingweakmuteinfo-whiteuids"></span></p> 

类型: <code>Long[] | undefined</code>

白名单用户列表。

<p style="font-size: 16px;font-weight: bolder;"> whiteMsgTypes <span id="conversationsettingweakmuteinfo-whitemsgtypes"></span></p> 

类型: <code>number[] | undefined</code>

消息类型白名单列表。


## Message <span id="message"></span>

类型: `class`

消息结构

<p style="font-size: 16px;font-weight: bolder;"> serverId <span id="message-serverid"></span></p> 

类型: <code>string</code>

消息的 Server Id, string 形式的一个 int64

<p style="font-size: 16px;font-weight: bolder;"> type <span id="message-type"></span></p> 

类型: <code>number</code>

消息类型

<p style="font-size: 16px;font-weight: bolder;"> conversationId <span id="message-conversationid"></span></p> 

类型: <code>string</code>

消息所属会话 id

<p style="font-size: 16px;font-weight: bolder;"> conversationShortId <span id="message-conversationshortid"></span></p> 

类型: <code>string</code>

消息所属会话 short id

<p style="font-size: 16px;font-weight: bolder;"> conversationType <span id="message-conversationtype"></span></p> 

类型: <code>im_proto.[ConversationType](#conversationtype)</code>

消息所属会话类型

<p style="font-size: 16px;font-weight: bolder;"> clientId <span id="message-clientid"></span></p> 

类型: <code>string</code>

消息客户端 id

<p style="font-size: 16px;font-weight: bolder;"> sender <span id="message-sender"></span></p> 

类型: <code>string</code>

消息发送方 uid

<p style="font-size: 16px;font-weight: bolder;"> secSender <span id="message-secsender"></span></p> 

类型: <code>string</code>

消息发送方加密 uid

<p style="font-size: 16px;font-weight: bolder;"> createdAt <span id="message-createdat"></span></p> 

类型: <code>Date</code>

消息创建时间

<p style="font-size: 16px;font-weight: bolder;"> content <span id="message-content"></span></p> 

类型: <code>string</code>

消息内容

<p style="font-size: 16px;font-weight: bolder;"> version <span id="message-version"></span></p> 

类型: <code>Long</code>

消息版本号

<p style="font-size: 16px;font-weight: bolder;"> serverStatus <span id="message-serverstatus"></span></p> 

类型: <code>[ServerMessageStatus](#servermessagestatus)</code>

消息状态

<p style="font-size: 16px;font-weight: bolder;"> ext <span id="message-ext"></span></p> 

类型: <code>{ [k: string]: string; }</code>

消息 ext 字段

<p style="font-size: 16px;font-weight: bolder;"> flightStatus <span id="message-flightstatus"></span></p> 

类型: <code>[FlightStatus](#flightstatus)</code>

消息发送状态

<p style="font-size: 16px;font-weight: bolder;"> property <span id="message-property"></span></p> 

类型: <code>{ [k: string]: [MessageProperty](#messageproperty)[]; }</code>

消息属性

<p style="font-size: 16px;font-weight: bolder;"> referenceInfo <span id="message-referenceinfo"></span></p> 

类型: <code>im_proto.[IReferenceInfo](#ireferenceinfo) | undefined</code>

消息引用

<p style="font-size: 16px;font-weight: bolder;"> isOffline <span id="message-isoffline"></span></p> 

类型: <code>boolean</code>

消息是否离线

<p style="font-size: 16px;font-weight: bolder;"> source <span id="message-source"></span></p> 

类型: <code>[MessageSource](#messagesource)</code>

消息来源

<p style="font-size: 16px;font-weight: bolder;"> isNormalMsg <span id="message-isnormalmsg"></span></p> 

类型: <code>boolean</code>

`只读`, 是否是一条普通消息, 区别于 Command 这种特殊消息

<p style="font-size: 16px;font-weight: bolder;"> isCommandMsg <span id="message-iscommandmsg"></span></p> 

类型: <code>boolean</code>

`只读`, 是否是一条命令消息 (type === 50001)

<p style="font-size: 16px;font-weight: bolder;"> isSpecialMessage <span id="message-isspecialmessage"></span></p> 

类型: <code>boolean</code>

`只读`, 是否是一条特殊消息 (type >= 50000)

<p style="font-size: 16px;font-weight: bolder;"> visible <span id="message-visible"></span></p> 

类型: <code>boolean</code>

`只读`, 消息是否对自己可见

<p style="font-size: 16px;font-weight: bolder;"> unpop <span id="message-unpop"></span></p> 

类型: <code>boolean</code>

`只读`, 消息是否不需要被顶出

<p style="font-size: 16px;font-weight: bolder;"> increaseUnread <span id="message-increaseunread"></span></p> 

类型: <code>boolean</code>

`只读`, 该消息是否需要增加未读数

<p style="font-size: 16px;font-weight: bolder;"> isFromMe <span id="message-isfromme"></span></p> 

类型: <code>boolean</code>

`只读`, 消息是否是自己发送的

<p style="font-size: 16px;font-weight: bolder;"> isRecalled <span id="message-isrecalled"></span></p> 

类型: <code>boolean</code>

`只读`, 消息是否被撤回

<p style="font-size: 16px;font-weight: bolder;"> isMentioned <span id="message-ismentioned"></span></p> 

类型: <code>boolean</code>

`只读`, 消息提到了自己

<p style="font-size: 16px;font-weight: bolder;"> mentionedUsers <span id="message-mentionedusers"></span></p> 

类型: <code>string[]</code>

消息里包含的被 @ 用户

<p style="font-size: 16px;font-weight: bolder;"> isStrangerMessage <span id="message-isstrangermessage"></span></p> 

类型: <code>boolean</code>

`只读`, 陌生人消息

<p style="font-size: 16px;font-weight: bolder;"> isRootReference <span id="message-isrootreference"></span></p> 

类型: <code>boolean</code>

`只读`, 消息是否为起始引用

<p style="font-size: 16px;font-weight: bolder;"> moveReadIndex <span id="message-movereadindex"></span></p> 

类型: <code>boolean</code>

`只读`, 消息是否触发已读水位更新

<p style="font-size: 16px;font-weight: bolder;"> updateLastMessage <span id="message-updatelastmessage"></span></p> 

类型: <code>boolean</code>

`只读`, 消息是否可以作为会话最新消息

<p style="font-size: 16px;font-weight: bolder;"> isGeneralConversation <span id="message-isgeneralconversation"></span></p> 

类型: <code>boolean</code>

`只读`, 是否为普通会话。普通会话包括单聊和群聊，不包括直播群。

<p style="font-size: 16px;font-weight: bolder;"> messagePriority <span id="message-messagepriority"></span></p> 

类型: <code>im_proto.[MessagePriority](#messagepriority) | undefined</code>

`只读`, 消息的优先级（适用于直播群消息）


## ServerMessageStatus <span id="servermessagestatus"></span>

类型: `enum`

消息服务端状态

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | Enable | `0` | 启用 (正常状态) |
  | Disable | `1` | 禁用 (不显示) |


## FlightStatus <span id="flightstatus"></span>

类型: `enum`

消息发送状态

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | Created | `0` | 消息已经创建 |
  | Preparing | `1` | 准备中 (图片正在上传等) |
  | Inflight | `2` | 发送中 (已经提交请求, 尚未收到响应) |
  | Succeeded | `3` | 发送成功 (已经收到响应) |
  | Received | `4` | 消息已被服务端接收 |
  | Failed | `-1` | 发送失败 (网络错误, 内部错误等) |
  | Rejected | `-2` | 消息被服务端拒绝 (回调检查) |
  | SelfVisible | `-3` | 消息被自见 |


## MessageProperty <span id="messageproperty"></span>

类型: `class`

消息设置属性，一般的使用场景有：类似 lark 的给消息点赞、加急消息等。

<p style="font-size: 16px;font-weight: bolder;"> messageId <span id="messageproperty-messageid"></span></p> 

类型: <code>string</code>

消息 ID (sdk保存, 冗余检索字段)

<p style="font-size: 16px;font-weight: bolder;"> conversationId <span id="messageproperty-conversationid"></span></p> 

类型: <code>string</code>

会话 ID (sdk保存, 冗余检索字段)

<p style="font-size: 16px;font-weight: bolder;"> key <span id="messageproperty-key"></span></p> 

类型: <code>string</code>

属性键 (sdk保存, 冗余检索字段)

<p style="font-size: 16px;font-weight: bolder;"> userId <span id="messageproperty-userid"></span></p> 

类型: <code>string</code>

操作用户 ID

<p style="font-size: 16px;font-weight: bolder;"> secUid <span id="messageproperty-secuid"></span></p> 

类型: <code>string</code>

操作用户 secUid

<p style="font-size: 16px;font-weight: bolder;"> createTime <span id="messageproperty-createtime"></span></p> 

类型: <code>Date</code>

属性创建时间

<p style="font-size: 16px;font-weight: bolder;"> idempotentId <span id="messageproperty-idempotentid"></span></p> 

类型: <code>string</code>

幂等操作 ID，由业务方自行生成

<p style="font-size: 16px;font-weight: bolder;"> value <span id="messageproperty-value"></span></p> 

类型: <code>string</code>

属性值

<p style="font-size: 16px;font-weight: bolder;"> status <span id="messageproperty-status"></span></p> 

类型: <code>[PropertyStatus](#propertystatus)</code>

属性状态


## PropertyStatus <span id="propertystatus"></span>

类型: `enum`

消息属性发送状态

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | Sending | `0` | 发送中 |
  | Success | `1` | 发送成功 |
  | Failed | `2` | 发送失败 |


## IReferenceInfo <span id="ireferenceinfo"></span>

类型: `interface`

引用消息相关数据

<p style="font-size: 16px;font-weight: bolder;"> referenced_message_id <span id="ireferenceinfo-referenced_message_id"></span></p> 

类型: <code>Long</code>

被引用消息的 ID

<p style="font-size: 16px;font-weight: bolder;"> hint <span id="ireferenceinfo-hint"></span></p> 

类型: <code>string</code>

业务相关辅助信息 (JSON)

<p style="font-size: 16px;font-weight: bolder;"> ref_message_type <span id="ireferenceinfo-ref_message_type"></span></p> 

类型: <code>Long</code>

被引用消息的类型

<p style="font-size: 16px;font-weight: bolder;"> referenced_message_status <span id="ireferenceinfo-referenced_message_status"></span></p> 

类型: <code>[MessageStatus](#messagestatus)</code>

被引用消息的状态

<p style="font-size: 16px;font-weight: bolder;"> root_message_id <span id="ireferenceinfo-root_message_id"></span></p> 

类型: <code>Long | null | undefined</code>

引用消息链开头的消息 ID

<p style="font-size: 16px;font-weight: bolder;"> root_message_conv_index <span id="ireferenceinfo-root_message_conv_index"></span></p> 

类型: <code>Long | null | undefined</code>

被引用消息在会话中的 index


## MessageStatus <span id="messagestatus"></span>

类型: `enum`

消息状态

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | AVAILABLE | `0` | 消息存在 |
  | NOT_EXIST | `1` | 消息不存在 |
  | INVISIBLE | `2` | 消息（对用户）不可见 |
  | RECALLED | `3` | 消息被撤回 |
  | DELETED | `4` | 消息本身可见，后因删除不可见 |


## MessageSource <span id="messagesource"></span>

类型: `enum`

消息来源

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | Online | `1` | 长链 push |
  | LoadMore | `2` | 手动 load more 拉单链 |
  | Init | `3` | 初始化 |
  | UserInbox | `4` | 混链补偿 |
  | Offline | `5` | 本地创建的消息 (自己发送或 insertOfflineMessage 创建的消息) |


## MessagePriority <span id="messagepriority"></span>

类型: `enum`

消息的优先级（适用于直播群消息）

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | LOW | `0` | 低优先级 |
  | NORMAL | `1` | 正常优先级 |
  | HIGH | `2` | 高优先级 |








## ICheckCodeResult <span id="icheckcoderesult"></span>

类型: `interface`

API 请求结果封装泛型
T 为操作处理的对象类型
U 为服务端原始响应

<p style="font-size: 16px;font-weight: bolder;"> success <span id="icheckcoderesult-success"></span></p> 

类型: <code>boolean</code>

请求是否成功

<p style="font-size: 16px;font-weight: bolder;"> payload <span id="icheckcoderesult-payload"></span></p> 

类型: <code>T | null</code>

操作处理的对象

<p style="font-size: 16px;font-weight: bolder;"> checkCode <span id="icheckcoderesult-checkcode"></span></p> 

类型: <code>Long | undefined</code>

校验码

<p style="font-size: 16px;font-weight: bolder;"> checkMsg <span id="icheckcoderesult-checkmsg"></span></p> 

类型: <code>string | undefined</code>

校验消息

<p style="font-size: 16px;font-weight: bolder;"> body <span id="icheckcoderesult-body"></span></p> 

类型: <code>U | undefined</code>

原始响应

<p style="font-size: 16px;font-weight: bolder;"> statusCode <span id="icheckcoderesult-statuscode"></span></p> 

类型: <code>number | undefined</code>

响应码

<p style="font-size: 16px;font-weight: bolder;"> statusMsg <span id="icheckcoderesult-statusmsg"></span></p> 

类型: <code>string | undefined</code>

响应消息

<p style="font-size: 16px;font-weight: bolder;"> innerError <span id="icheckcoderesult-innererror"></span></p> 

类型: <code>[BaseError](#baseerror) | undefined</code>

原始异常

<p style="font-size: 16px;font-weight: bolder;"> logid <span id="icheckcoderesult-logid"></span></p> 

类型: <code>string | undefined</code>

请求 logid


## BaseError <span id="baseerror"></span>

类型: `class`

基本错误类型

<p style="font-size: 16px;font-weight: bolder;"> type <span id="baseerror-type"></span></p> 

类型: <code>[ErrorType](293538.md#errortype)</code>

错误类型

<p style="font-size: 16px;font-weight: bolder;"> msg <span id="baseerror-msg"></span></p> 

类型: <code>string</code>

错误描述

<p style="font-size: 16px;font-weight: bolder;"> innerError <span id="baseerror-innererror"></span></p> 

类型: <code>[BaseError](#baseerror) | Error | undefined</code>

内部错误, 可能是一个 Error 或 BaseError

<p style="font-size: 16px;font-weight: bolder;"> reachServer <span id="baseerror-reachserver"></span></p> 

类型: <code>boolean | undefined</code>

如果是一个网络错误, 这次的网络请求是否已经达到了服务端
代表这个错误可能是服务端返回的逻辑错误

<p style="font-size: 16px;font-weight: bolder;"> sender <span id="baseerror-sender"></span></p> 

类型: <code>any</code>

错误抛出源对象

<p style="font-size: 16px;font-weight: bolder;"> logid <span id="baseerror-logid"></span></p> 

类型: <code>string | undefined</code>

<p style="font-size: 16px;font-weight: bolder;"> args <span id="baseerror-args"></span></p> 

类型: <code>{ [k: string]: any; } | undefined</code>

参数


## OPERATION_TYPE <span id="operation_type"></span>

类型: `enum`

操作类型。

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | ADD_PROPERTY_ITEM | `0` | 属性 value 是数组，添加一个元素。 |
  | REMOVE_PROPERTY_ITEM | `1` | 属性 value 是数组，移除一个元素。 |
  | SET_PROPERTY | `2` | 属性 value 是 kv，设置其值。 |
  | DEL_PROPERTY | `3` | 属性 value 是 kv，删除其值。 |


## ModifyMessagePropertyResult <span id="modifymessagepropertyresult"></span>

设置消息属性结果。

- **类型**

  ```ts
  ICheckCodeResult<Message, im_proto.IModifyMessagePropertyResponseBody>
  ```


## SortType <span id="sorttype"></span>

类型: `enum`

排序类型。

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | JOIN_TIME | `1` | 进群时间。 |
  | CREATED_TIME | `2` | 会话创建时间。 |
  | GROUP_NAME | `3` | 会话名称。 |
  | ACTIVE_TIME | `4` | 最新活跃时间。 |


## CreateConversationResult <span id="createconversationresult"></span>

创建会话结果。

- **类型**

  ```ts
  ICheckCodeResult<Conversation, im_proto.ICreateConversationV2ResponseBody>
  ```


## PushStatus <span id="pushstatus"></span>

类型: `enum`

消息推送模式。

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | Unknown | `0` | 服务端未返回，或不支持的类型。 |
  | Allow | `1` | 正常模式（允许推送）。 |
  | Disable | `2` | 免打扰模式（禁止推送）。 |
  | PartAllow | `3` | 低打扰模式（部分推送）。 |


## SetConversationSettingInfoResult <span id="setconversationsettinginforesult"></span>

设置消息结果。

- **类型**

  ```ts
  ICheckCodeResult<
  Conversation,
  im_proto.ISetConversationSettingInfoResponseBody
  >
  ```


## AddParticipantResult <span id="addparticipantresult"></span>

添加成员结果。

- **类型**

  ```ts
  ICheckCodeResult<Conversation, im_proto.IConversationAddParticipantsResponseBody> & {
      failedParticipant: string[];
  }
  ```


## RemoveParticipantResult <span id="removeparticipantresult"></span>

- **类型**

  ```ts
  ICheckCodeResult<
  Conversation,
  im_proto.IConversationRemoveParticipantsResponseBody
  > & { failedParticipant: string[] }
  ```


## UpdateParticipantResult <span id="updateparticipantresult"></span>

更新群成员结果。

- **类型**

  ```ts
  ICheckCodeResult<
  Participant,
  im_proto.IUpdateConversationParticipantResponseBody
  >
  ```


## InfoKeys <span id="infokeys"></span>

类型: `enum`

Ext 字段 Key

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | MessageMode | `'s:mode'` | 消息模式（用于区分陌生人消息） |
  | SendResponseStatus | `'s:send_response_status'` | 送消息 Response 中的 statusCode 字段 |
  | SendResponseExtraInfo | `'s:send_response_extra_info'` | 发送消息 Response 中的 extraInfo 字段 |
  | SendResponseCheckCode | `'s:send_response_check_code'` | 发送消息 Response 中的 checkCode 字段 |
  | SendResponseCheckMessage | `'s:send_response_check_msg'` | 发送消息 Response 中的 checkMessage 字段 |
  | ClientMessageId | `'s:client_message_id'` | 消息客户端 Id，参看 [Message.clientId](#message-clientid)。 |
  | MentionedUser | `'s:mentioned_users'` | 被 @ 的用户，参看 [Message.mentionedUser](#message-mentionedusers)。<br>用户以逗号分隔，0 表示 @ 所有人。 |
  | DoNotIncreaseUnread | `'s:do_not_increase_unread'` | 不计算未读数。设置为 `'true'` 时, 客户端不会把这条消息算入未读数内。<br>可以用于退群系统消息等。 |
  | DoNotPopConversation | `'s:do_not_pop_conversation'` | 不上移会话。设置为 `'true'` 时, 客户端不会因为这条消息而把会话往上顶。<br>可以用于退群系统消息等。 |
  | IsRecalled | `'s:is_recalled'` | 消息被撤回 |
  | ServerMessageId | `'s:server_message_id'` | 消息的 Server Id |
  | LocalLogId | `'s:local_logid'` | logid, 上报 RTT 用 |
  | MessageVisible | `'s:visible'` | 消息可见用户 |
  | MessageInvisible | `'s:invisible'` | 消息不可见用户 |
  | IsRootReference | `'s:is_root_ref'` | 是否是最开始的引用消息 |
  | MarkMessageNewExt | `'s:mark_message_new_ext'` | 消息标记字段 |
  | DoNotUpdateLastMessage | `'s:do_not_update_last_msg'` | 不更新会话最后一条消息 |
  | DoNotMoveReadIndex | `'s:do_not_move_read_index'` | 不触发消息已读 |
  | FileExtKeyAudioAsrText | `'s:file_ext_key_audio_asr_text'` | 音频消息转换后的文字 |
  | RecognitionResponseCheckCode | `'s:recognition_response_check_code'` | 保存 check_code 透传给用户 约定命中敏感词 用户在 tcc 上配置 |
  | RecognitionResponseCheckMsg | `'s:recognition_response_check_msg'` | 保存 check_message 透传给用户 |
  | PushPartDisableConfig | `'s:push_part_disable_config'` | 低打扰模式时，设置关注的用户/消息类型 |
  | MustNotify | `'s:must_notify'` | 消息强制通知 |
  | MessagePriority | `'s:message_priority'` | 消息的优先级（适用于直播群消息） |




## IMOption <span id="imoption"></span>

类型: `interface`

IM 实例化参数

<p style="font-size: 16px;font-weight: bolder;"> appId <span id="imoption-appid"></span></p> 

类型: <code>number</code>

应用 id，在申请接入 imcloud 时下发的配置中拿到

<p style="font-size: 16px;font-weight: bolder;"> deviceId <span id="imoption-deviceid"></span></p> 

类型: <code>string</code>

设备 id，web pc 端一般没有这个概念，建议传用户 id, web 移动端可以获取到设备 id 的话建议传设备 id

<p style="font-size: 16px;font-weight: bolder;"> userId <span id="imoption-userid"></span></p> 

类型: <code>string</code>

用户id

<p style="font-size: 16px;font-weight: bolder;"> secUid <span id="imoption-secuid"></span></p> 

类型: <code>string | undefined</code>

加密uid

<p style="font-size: 16px;font-weight: bolder;"> authType <span id="imoption-authtype"></span></p> 

类型: <code>im_proto.[AuthType](#authtype) | undefined</code>

鉴权方式，1: session 鉴权. 2： token 鉴权

<p style="font-size: 16px;font-weight: bolder;"> inboxType <span id="imoption-inboxtype"></span></p> 

类型: <code>number | number[] | undefined</code>

信箱类型，用于一个app下多个IM子系统隔离

<p style="font-size: 16px;font-weight: bolder;"> headers <span id="imoption-headers"></span></p> 

类型: <code>{ [k: string]: string; } | undefined</code>

自定义 headers，通常用不上

<p style="font-size: 16px;font-weight: bolder;"> acceptIncorrectFrame <span id="imoption-acceptincorrectframe"></span></p> 

类型: <code>boolean | undefined</code>

允许接受 service id 不正确的 Frontier Frame

<p style="font-size: 16px;font-weight: bolder;"> acceptIncorrectInboxType <span id="imoption-acceptincorrectinboxtype"></span></p> 

类型: <code>boolean | undefined</code>

允许接受 InboxType 不正确的 Response

<p style="font-size: 16px;font-weight: bolder;"> webSocketLevel <span id="imoption-websocketlevel"></span></p> 

类型: <code>[WebSocketLevel](#websocketlevel) | undefined</code>

设置如何使用长链

<p style="font-size: 16px;font-weight: bolder;"> timeout <span id="imoption-timeout"></span></p> 

类型: <code>number | undefined</code>

超时重试的最大时限，默认是 2000ms，网络不好可以适当调高

<p style="font-size: 16px;font-weight: bolder;"> withCredentials <span id="imoption-withcredentials"></span></p> 

类型: <code>boolean | undefined</code>

和 XMLHttpRequest 中的 withCredentials 语义一致，是否允许跨域发送 Cookie，通常不需要打开

<p style="font-size: 16px;font-weight: bolder;"> httpHeaders <span id="imoption-httpheaders"></span></p> 

类型: <code>{ [k: string]: string; } | undefined</code>

自定义请求头

<p style="font-size: 16px;font-weight: bolder;"> heartbeatInterval <span id="imoption-heartbeatinterval"></span></p> 

类型: <code>number | undefined</code>

ws 心跳间隔

<p style="font-size: 16px;font-weight: bolder;"> maxHeartbeatEmptyWindow <span id="imoption-maxheartbeatemptywindow"></span></p> 

类型: <code>number | undefined</code>

ws 心跳超时时间

<p style="font-size: 16px;font-weight: bolder;"> maxSendMsgRetryTimes <span id="imoption-maxsendmsgretrytimes"></span></p> 

类型: <code>number | undefined</code>

发送消息最大重试次数

<p style="font-size: 16px;font-weight: bolder;"> apiUrl <span id="imoption-apiurl"></span></p> 

类型: <code>string</code>

oth 集群，接入的时候会拿到

<p style="font-size: 16px;font-weight: bolder;"> devicePlatform <span id="imoption-deviceplatform"></span></p> 

类型: <code>string | undefined</code>

字面意思，这个字段会透传给 IM Cloud

<p style="font-size: 16px;font-weight: bolder;"> channel <span id="imoption-channel"></span></p> 

类型: <code>string | undefined</code>

字面意思，这个字段会透传给 IM Cloud

<p style="font-size: 16px;font-weight: bolder;"> deviceType <span id="imoption-devicetype"></span></p> 

类型: <code>string | undefined</code>

字面意思，这个字段会透传给 IM Cloud

<p style="font-size: 16px;font-weight: bolder;"> osVersion <span id="imoption-osversion"></span></p> 

类型: <code>string | undefined</code>

字面意思，这个字段会透传给 IM Cloud

<p style="font-size: 16px;font-weight: bolder;"> versionCode <span id="imoption-versioncode"></span></p> 

类型: <code>string | undefined</code>

字面意思，这个字段会透传给 IM Cloud

<p style="font-size: 16px;font-weight: bolder;"> frontierUrl <span id="imoption-frontierurl"></span></p> 

类型: <code>string</code>

Websocket 路径

<p style="font-size: 16px;font-weight: bolder;"> extended <span id="imoption-extended"></span></p> 

类型: <code>{ [k: string]: string; } | undefined</code>

如果你想在 Frontier 连接的 url 后面传别的参数可以填这里，比如 platform 之类的给 Frontier

<p style="font-size: 16px;font-weight: bolder;"> debug <span id="imoption-debug"></span></p> 

类型: <code>boolean | undefined</code>

开启 SDK debug，开发环境建议打开，生产环境务必关闭，主要控制日志等

<p style="font-size: 16px;font-weight: bolder;"> injectContext <span id="imoption-injectcontext"></span></p> 

类型: <code>string | boolean | typeof globalThis | Record<string, unknown\> | undefined</code>

debug 模式下：自定义ctx挂载对象，默认 window 对象

<p style="font-size: 16px;font-weight: bolder;"> disableInitPull <span id="imoption-disableinitpull"></span></p> 

类型: <code>boolean | undefined</code>

不调用初始化接口拉消息，但是 init 还是要调用的，只是不会拉消息了

<p style="font-size: 16px;font-weight: bolder;"> pullInterval <span id="imoption-pullinterval"></span></p> 

类型: <code>number | false | undefined</code>

自动轮询混链补偿消息的间隔，单位 ms，关闭则设置成 false, 建议不小于 5000

<p style="font-size: 16px;font-weight: bolder;"> unreadCountReport <span id="imoption-unreadcountreport"></span></p> 

类型: <code>boolean | undefined</code>

未读数上报

<p style="font-size: 16px;font-weight: bolder;"> throttle <span id="imoption-throttle"></span></p> 

类型: <code>number | boolean | undefined</code>

事件触发的节流和防抖时间

<p style="font-size: 16px;font-weight: bolder;"> triggerStrategy <span id="imoption-triggerstrategy"></span></p> 

类型: <code>{ [k: string]: [TriggerType](#triggertype); } | undefined</code>

为不同的事件，设置不同的触发策略

<p style="font-size: 16px;font-weight: bolder;"> initSubType <span id="imoption-initsubtype"></span></p> 

类型: <code>number | undefined</code>

初始化的时候基于 sub_type 区分相同 appid 下的不同初始化策略，0 表示默认值（跟没有传递一样）

<p style="font-size: 16px;font-weight: bolder;"> monitorTagKv <span id="imoption-monitortagkv"></span></p> 

类型: <code>{ [k: string]: string; } | undefined</code>

自定义监控上报数据

<p style="font-size: 16px;font-weight: bolder;"> maxMessageCount <span id="imoption-maxmessagecount"></span></p> 

类型: <code>number | undefined</code>

本地消息数量上限，默认值 1000, 最大值 2000, 最小值 200

<p style="font-size: 16px;font-weight: bolder;"> serialSendFileMessage <span id="imoption-serialsendfilemessage"></span></p> 

类型: <code>boolean | undefined</code>

发送多媒体消息是否开启串行

<p style="font-size: 16px;font-weight: bolder;"> enableHackTimer <span id="imoption-enablehacktimer"></span></p> 

类型: <code>boolean | undefined</code>

使用web worker避开hidden page下timer延迟执行问题

<p style="font-size: 16px;font-weight: bolder;"> conversationRefreshCount <span id="imoption-conversationrefreshcount"></span></p> 

类型: <code>number | undefined</code>

本地离线会话刷新缓冲数

<p style="font-size: 16px;font-weight: bolder;"> timeCalibration <span id="imoption-timecalibration"></span></p> 

类型: <code>boolean | undefined</code>

是否启用时间校准

<p style="font-size: 16px;font-weight: bolder;"> autoReadIndex <span id="imoption-autoreadindex"></span></p> 

类型: <code>boolean | undefined</code>

根据消息发送情况自动计算 readIndex, 如果有自动回复功能请关闭这个选项, 避免误标记已读

<p style="font-size: 16px;font-weight: bolder;"> token <span id="imoption-token"></span></p> 

使用 token 鉴权时传入获取到的 token，session 鉴权时传 '' 空字符串当传入的是一个 Function 或者 Promise<string> 的时候，如果 IM Cloud Server 返回了 Token 过期，那么 SDK 会调用一次这个函数尝试获取一个新的 Token
如果返回的新 Token 和原来的 Token 一样，那么会报错

- **类型**

  ```ts
  () => string
  ```

- **返回值**

  类型: <code>string</code>


## AuthType <span id="authtype"></span>

类型: `enum`

鉴权类型，主要用于区分 token 解析方法

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | SESSION_AUTH | `1` | session(passport) 鉴权，通过 cookies & token 两步鉴权 |
  | TOKEN_AUTH | `2` | token(im_cloud) 鉴权，加密鉴权 |
  | CERT_AUTH | `3` | 可信证书鉴权 |


## WebSocketLevel <span id="websocketlevel"></span>

类型: `enum`

WebSocket 启用级别

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | Default | `0` | 使用 SDK 默认配置, 大部分接口通过 WebSocket 发送请求, 少数通过 HTTP |
  | PushOnly | `1` | 只通过 WebSocket 接收 Push 消息, 所有请求都使用 HTTP 发送 |
  | All | `2` | 所有接口均使用 WebSocket |
  | Disable | `3` | 完全不连接 WebSocket |


## TriggerType <span id="triggertype"></span>

类型: `enum`

事件触发策略，用于 IMOption triggerStrategy

- **成员**

  | 属性 | 值 | 描述 |
  | :-- | :-- | :-- |
  | Immediate | `0` | 立即出发 |
  | Throttle | `1` | 按函数节流 |
  | Debounce | `2` | 按函数防抖 |
  | ThrottleWithArgs | `3` | 按函数+入参节流 |
  | DebounceWithArgs | `4` | 按函数+入参防抖 |

## IMemberInfo <span id="imemberinfo"></span>

类型: `interface`

直播群成员信息

<p style="font-size: 16px;font-weight: bolder;"> user_id <span id="imemberinfo-user_id"></span></p> 

类型: <code>Long</code>

对应的成员 ID

<p style="font-size: 16px;font-weight: bolder;"> is_in_conversation <span id="imemberinfo-is_in_conversation"></span></p> 

类型: <code>boolean</code>

成员是否在直播群中（在线）

<p style="font-size: 16px;font-weight: bolder;"> create_time <span id="imemberinfo-create_time"></span></p> 

类型: <code>Long | null | undefined</code>

成员进群时间

<p style="font-size: 16px;font-weight: bolder;"> ping_time <span id="imemberinfo-ping_time"></span></p> 

类型: <code>Long | null | undefined</code>

成员最后活跃 (ping) 时间


## FileInfo <span id="fileinfo"></span>

- **类型**

  ```ts
  {
      type: FileType;
      fileHandler?: File;
      filePath?: string;
      fileSize?: number;
      encrypt?: 'cipher_v2' | 'both' | true;
      fileName?: string;
      imagePreviewWidth?: number;
      imagePreviewHeight?: number;
      imageThumbWidth?: number;
      imageThumbHeight?: number;
      imageSuffix?: string;
      audioDuration?: number;
      ext?: { [k: string]: string };
      onUploadProcess?: (info: UploaderInfor) => void;
  } & FileParams
  ```


## EventHandler <span id="eventhandler"></span>

事件回调函数

- **类型**

  ```ts
  (() => void) | ((eventArgs: T, sender?: any) => void)
  ```


## Subscription <span id="subscription"></span>

类型: `class`

用于取消事件监听。

## GroupRole

类型: `enum`

群成员角色。

- **成员**

  | 属性 | 值 | 描述 |
  | -- | -- | -- |
  | ORDINARY | `0` | 群成员。 |
  | OWNER | `1` | 群主。 |
  | MANAGER | `2` | 群管理。 |
  | MANAGER | `3` | 访客。 |
