---
is_dir: False    # True for dir; False for doc
status: 1    # 0 for offline; 1 for online; 2 for whitelist; 4 for online but hidden in TOC
useHub: 1    # 0 by default for using Doc Repo; 1 for using APIHub / SDKHub.
keywords: 实时音视频    # use ',' as separator
---

> 本文档 API 接口为最新版本接口，后续相关功能的新增都会在此更新，推荐使用最新版本接口。旧版接口文档请参考[历史版本](1163751)。

在实时音视频通话场景中，你可以通过调用此接口实现云端录制功能，支持单流或合流录制模式。

你可以根据需求配置指定任务 ID、选择录制模式、自定义音视频流目标列表、设置编码参数、安排视频布局以及指定存储配置等，以满足多样化的录制需求。调用后，接口返回任务启动状态，确保录制流程顺利进行。

如果录制任务状态发生变化，你在[控制台](https://console.volcengine.com/rtc/cloudRTC?tab=callback)上设置的回调地址会收到每个状态变化的[回调](75125#recordstarted)。
## 使用说明
### 接口行为

录制分为单流录制和合流录制：
- 单流录制时：你可以将每一路指定录制的流单独录制成一个音视频文件。此时，你不可以设置布局；整体画面分辨率为原始视频分辨率，并不支持修改。
- 合流录制时：你可以将指定录制的流混合录制成一个音视频文件。录制时，你可以设置视频布局，分辨率，帧率，码率等。
	无论你使用单流录制还是合流录制，你最多只能录制 17 路流。
	
你需要在接口调用中配置存储空间，选择将录制结果存储在存储平台中。目前支持的存储平台包括：火山引擎视频点播 VOD、火山引擎对象存储 TOS、Amazon S3、阿里云对象存储 OSS、华为云 OBS、腾讯云 COS 和七牛云 Kodo。

录制文件生成后，不推荐调用 `GetRecordTask`接口获取录制生成的文件，强烈建议接入录制结束回调事件。
## 注意事项
请求频率：QPS 不得超过 60。
### 前提条件
* 在开始录制前，你必须已经在控制台上开启录制功能，参看[在控制台开启/关闭云端录制功能](69819)。
* 如果你需要获取云端录制状态回调，请开通[消息通知服务](75110)。
## 请求说明
- 请求方式：**POST**
- 请求地址：**https://rtc.volcengineapi.com?Action=StartRecord&Version=2023-11-01**
## 调试

<APILink link="https://api.volcengine.com/api-explorer/debug?action=StartRecord&serviceCode=rtc&version=2023-11-01&groupName=云端录制" />

## 请求参数
下表仅列出该接口特有的请求参数和部分公共参数。更多信息请见[公共参数](1178321)。
### Query
```mixin-react
const columns = [
  {
    "title": "参数",
    "dataIndex": "name",
    "width": "15%"
  },
  {
    "title": "类型",
    "dataIndex": "type",
    "width": "15%"
  },
  {
    "title": "是否必选",
    "dataIndex": "required",
    "width": "10%"
  },
  {
    "title": "示例值",
    "dataIndex": "example",
    "width": "20%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  },
  {
    "title": "描述",
    "dataIndex": "description",
    "width": "40%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  }
];
    
const data = [
  {
    "name": "Action",
    "type": "String",
    "required": "是",
    "example": "<code>StartRecord</code>",
    "description": "接口名称。当前 API 的名称为 <code>StartRecord</code>。",
    "key": "Action"
  },
  {
    "name": "Version",
    "type": "String",
    "required": "是",
    "example": "<code>2023-11-01</code>",
    "description": "接口版本。当前 API 的版本为 <code>2023-11-01</code>。",
    "key": "Version"
  }
];

return (<Table
  defaultExpandAllRows={true}
  columns={columns}
  data={data}
  border={{ cell: true, wrapper: true }}
  pagination={false}
/>);
```
### Body
```mixin-react
const columns = [
  {
    "title": "参数",
    "dataIndex": "name",
    "width": "25%"
  },
  {
    "title": "类型",
    "dataIndex": "type",
    "width": "10%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  },
  {
    "title": "是否必选",
    "dataIndex": "required",
    "width": "10%"
  },
  {
    "title": "示例值",
    "dataIndex": "example",
    "width": "15%",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  },
  {
    "title": "描述",
    "dataIndex": "title",
    "render": (val) => <span dangerouslySetInnerHTML={{ __html: val }} />
  }
];
    
const data = [
  {
    "name": "AppId",
    "key": "0-0",
    "title": "你的音视频应用的唯一标志，参看<a href=\"https://www.volcengine.com/docs/6348/69865#%E6%AD%A5%E9%AA%A44%EF%BC%9A%E5%88%9B%E5%BB%BA-rtc-%E5%BA%94%E7%94%A8%EF%BC%8C%E8%8E%B7%E5%8F%96-appid\" target=\"_blank\" class=\"external\">获取 AppId</a>。",
    "example": "<code>661e****543cf</code>",
    "required": "是",
    "type": "String"
  },
  {
    "name": "BusinessId",
    "key": "0-1",
    "title": "业务标识",
    "example": "<code>B****23</code>",
    "required": "否",
    "type": "String"
  },
  {
    "name": "RoomId",
    "key": "0-2",
    "title": "房间的 ID，是房间的唯一标志",
    "example": "<code>Room1</code>",
    "required": "是",
    "type": "String"
  },
  {
    "name": "TaskId",
    "key": "0-3",
    "title": "<p>云端录制任务 ID。你必须对每个云端录制任务设定 TaskId，且在后续进行任务更新和结束时也须使用该 TaskId。</p>\n<p><code>TaskId</code> 是任务的标识，在一个 <code>AppId</code> 的 <code>RoomId</code> 下 <code>taskId</code> 是唯一的，不同 <code>AppId</code> 或者不同 <code>RoomId</code> 下 <code>TaskId</code> 可以重复，因此 <code>AppId</code> + <code>RoomId</code> + <code>TaskId</code> 是任务的唯一标识，可以用来标识指定 <code>AppId</code> 下某个房间内正在运行的任务，从而能在此任务运行中进行更新或者停止此任务。</p>\n<p>关于 TaskId 及以上 Id 字段的命名规则符合正则表达式：<code>[a-zA-Z0-9_@\\-\\.]{1,128}</code></p>\n若任务运行中，使用相同的 <code>TaskId</code> 重复调用开始接口不会导致请求失败，<code>BaseResponse.Result</code> 会提示 <code>The task has been started. Please do not call the startup task interface repeatedly</code>。",
    "example": "<code>Task1</code>",
    "required": "是",
    "type": "String"
  },
  {
    "name": "RecordMode",
    "key": "0-4",
    "title": "<p>录制模式。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code> ：合流录制，</li>\n<li><code>1</code> ：单流录制。</li>\n</ul>\n默认值为 <code>0</code>。",
    "example": "<code>0</code>",
    "required": "否",
    "type": "Integer"
  },
  {
    "name": "TargetStreams",
    "key": "0-5",
    "title": "需要录制的音视频流。如果参数为空，默认录制房间内所有发布的音视频流，最多 17 路流。<br>\n此参数中的 <code>stream</code> 不得和 <code>ExcludeStreams</code> 中重复，若重复会报错<code>InvalidParameter</code>。",
    "example": "<code>-</code>",
    "required": "否",
    "type": "Object",
    "children": [
      {
        "name": "StreamList",
        "key": "0-5-0",
        "title": "音视频流列表，由<code>Stream</code>组成，可以为空。为空时，表示订阅房间内所有流。在一个 <code>StreamList</code> 中，<code>Stream.Index</code> 不能重复。",
        "example": "<code>-</code>",
        "required": "否",
        "type": "Object[]",
        "children": [
          {
            "name": "Index",
            "key": "0-5-0-0",
            "title": "在自定义布局中，使用 <code>Index</code> 对流进行标志。后续在 <code>Layout.regions.StreamIndex</code> 中，你需要使用 <code>Index</code> 指定对应流的布局设置。",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "UserId",
            "key": "0-5-0-1",
            "title": "用户 ID，表示这个流所属的用户。",
            "example": "<code>user1</code>",
            "required": "是",
            "type": "String"
          },
          {
            "name": "StreamType",
            "key": "0-5-0-2",
            "title": "<p>流的类型。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：普通音视频流，</li>\n<li><code>1</code>：屏幕流。</li>\n</ul>\n默认值为<code>0</code>。",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Integer"
          }
        ]
      }
    ]
  },
  {
    "name": "ExcludeStreams",
    "key": "0-6",
    "title": "音视频流录制黑名单，即不需要录制的音视频流。<br>\n黑名单仅支持配置普通音视频流，且最多可配置 17 路。此参数中的 <code>stream</code> 不得和 <code>TargetStreams</code> 中重复。<br>\n默认值为空。",
    "example": "<code>-</code>",
    "required": "否",
    "type": "Object",
    "children": [
      {
        "name": "StreamList",
        "key": "0-6-0",
        "title": "音视频流列表，由<code>Stream</code>组成，可以为空。为空时，表示订阅房间内所有流。在一个 <code>StreamList</code> 中，<code>Stream.Index</code> 不能重复。",
        "example": "<code>-</code>",
        "required": "否",
        "type": "Object[]",
        "children": [
          {
            "name": "Index",
            "key": "0-6-0-0",
            "title": "在自定义布局中，使用 <code>Index</code> 对流进行标志。后续在 <code>Layout.regions.StreamIndex</code> 中，你需要使用 <code>Index</code> 指定对应流的布局设置。",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "UserId",
            "key": "0-6-0-1",
            "title": "用户 ID，表示这个流所属的用户。",
            "example": "<code>user1</code>",
            "required": "是",
            "type": "String"
          },
          {
            "name": "StreamType",
            "key": "0-6-0-2",
            "title": "<p>流的类型。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：普通音视频流，</li>\n<li><code>1</code>：屏幕流。</li>\n</ul>\n默认值为<code>0</code>。",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Integer"
          }
        ]
      }
    ]
  },
  {
    "name": "Encode",
    "key": "0-7",
    "title": "<p>音视频编码参数。</p>\n<ul>\n<li>单流录制时，你仅可以设置 <code>VideoFps</code>、 <code>VideoBitrate</code>和所有音频相关参数。</li>\n<li>合流录制时，你仅可以设置 <code>VideoWidth</code>、<code>VideoHeight</code>、<code>VideoFps</code>、<code>VideoBitrate</code>和所有音频相关参数。</li>\n</ul>",
    "example": "<code>-</code>",
    "required": "否",
    "type": "Object",
    "children": [
      {
        "name": "VideoWidth",
        "key": "0-7-0",
        "title": "画面宽度。取值范围为 <code>[2, 1920]</code>，必须是偶数，单位为像素，默认值为 <code>640</code>。该参数在垂直布局和并排布局下生效，自定义布局下请使用 <code>canvas.Width</code> 设置画面宽度。",
        "example": "<code>640</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "VideoHeight",
        "key": "0-7-1",
        "title": "画面高度，取值范围为 <code>[2, 1920]</code>，必须是偶数，单位为像素，默认值为 <code>480</code>。该参数在垂直布局和并排布局下生效，自定义布局下请使用 <code>canvas.Height</code> 设置画面宽度。",
        "example": "<code>480</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "VideoFps",
        "key": "0-7-2",
        "title": "视频帧率。取值范围为 <code>[1,60]</code>，单位为 <code>FPS</code>，默认值为 <code>15</code>。",
        "example": "<code>15</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "VideoBitrate",
        "key": "0-7-3",
        "title": "视频码率。取值范围为 <code>[0,10000]</code>，单位为 Kbps，默认值为 <code>0</code>。<br>\n<code>0</code> 表示自适应码率，会自动根据 <code>VideoFps</code> , <code>VideoWidth</code> 以及<code>VideoHeight</code> 计算出合理的码率。<br>\n自适应码率模式下，RTC 默认不会设置超高码率。如果订阅屏幕流，建议自行设置高码率。不同场景下设置码率等视频发布参数,请参考<a href=\"70122#videoprofiles\">设置视频发布参数</a>。",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "VideoCodec",
        "key": "0-7-4",
        "title": "<p>视频编码协议。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：<code>H.264</code></li>\n<li><code>1</code>：<code>ByteVC1</code></li>\n</ul>\n默认值为 <code>0</code>。",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "VideoGop",
        "key": "0-7-5",
        "title": "输出视频 GOP。取值范围为 <code>[1,5]</code>，单位为秒，默认值为 <code>4</code>。",
        "example": "<code>4</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "AudioCodec",
        "key": "0-7-6",
        "title": "音频编码协议。仅支持取 <code>0</code>，表示 AAC 编码协议。",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "AudioProfile",
        "key": "0-7-7",
        "title": "<p>音频配置文件类型。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code> :采用 LC 规格；</li>\n<li><code>1</code>: 采用 HE-AAC v1 规格；</li>\n<li><code>2</code>: 采用 HE-AAC v2 规格。此时，只支持输出流音频声道数为双声道。</li>\n</ul>\n默认值为 <code>0</code>。",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "AudioBitrate",
        "key": "0-7-8",
        "title": "<p>音频码率。取值范围为 <code>[32,192]</code>,单位为 <code>Kbps</code>。</p>\n<ul>\n<li>该参数若不填，RTC 会根据音频配置文件类型、采样率、声道数的配置生成音频码率取值。</li>\n<li>该参数若填写，正常情况以填写为准。但由于设置不同的音频配置文件类型、采样率、声道数，音频码率实际上下限会在<code>[32, 192]</code>范围内进一步动态调整，此时实际生效的码率可能与填写值不同。</li>\n</ul>",
        "example": "<code>64</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "AudioSampleRate",
        "key": "0-7-9",
        "title": "音频采样率。可取值为：<code>16000</code>,<code>32000</code>,<code>44100</code>，<code>48000</code>，单位为 Hz，默认值为 <code>48000</code>。",
        "example": "<code>48000</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "AudioChannels",
        "key": "0-7-10",
        "title": "<p>音频声道数。支持取值及含义如下：</p>\n<ul>\n<li><code>1</code>：单声道。</li>\n<li><code>2</code>：双声道。</li>\n</ul>\n默认值为 <code>2</code>。",
        "example": "<code>2</code>",
        "required": "否",
        "type": "Integer"
      }
    ]
  },
  {
    "name": "Layout",
    "key": "0-8",
    "title": "布局参数。仅在合流模式（即 <code>RecordMode</code>=<code>0</code>）时下支持设置布局参数。",
    "example": "<code>-</code>",
    "required": "否",
    "type": "Object",
    "children": [
      {
        "name": "LayoutMode",
        "key": "0-8-0",
        "title": "<p>布局模式。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：<a href=\"1167930#adapt\">自适应布局</a>。</li>\n<li><code>1</code>：<a href=\"1167930#vertical\">垂直布局</a></li>\n<li><code>2</code> ：自定义布局。</li>\n<li><code>3</code> ：<a href=\"1167930#horizontal\">并排布局</a></li>\n</ul>\n默认值为<code>0</code>",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "MainVideoStream",
        "key": "0-8-1",
        "title": "在垂直布局模式下生效，指定主画面流的属性。垂直布局时，此参数必填。",
        "example": "<code>-</code>",
        "required": "否",
        "type": "Object",
        "children": [
          {
            "name": "Index",
            "key": "0-8-1-0",
            "title": "在自定义布局中，使用 <code>Index</code> 对流进行标志。后续在 <code>Layout.regions.StreamIndex</code> 中，你需要使用 <code>Index</code> 指定对应流的布局设置。",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "UserId",
            "key": "0-8-1-1",
            "title": "用户 ID，表示这个流所属的用户。",
            "example": "<code>user1</code>",
            "required": "是",
            "type": "String"
          },
          {
            "name": "StreamType",
            "key": "0-8-1-2",
            "title": "<p>流的类型。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：普通音视频流，</li>\n<li><code>1</code>：屏幕流。</li>\n</ul>\n默认值为<code>0</code>。",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Integer"
          }
        ]
      },
      {
        "name": "CustomLayout",
        "key": "0-8-2",
        "title": "使用自定义布局模式时，使用此参数进行具体设置。",
        "example": "<code>-</code>",
        "required": "否",
        "type": "Object",
        "children": [
          {
            "name": "Canvas",
            "key": "0-8-2-0",
            "title": "整体屏幕（画布）的宽高以及背景色。",
            "example": "<code>-</code>",
            "required": "否",
            "type": "Object",
            "children": [
              {
                "name": "Width",
                "key": "0-8-2-0-0",
                "title": "整体屏幕（画布）的宽度，取值范围为 <code>[2, 1920]</code>，必须是偶数，单位为像素，默认值为 <code>640</code>。",
                "example": "<code>640</code>",
                "required": "否",
                "type": "Integer"
              },
              {
                "name": "Height",
                "key": "0-8-2-0-1",
                "title": "整体屏幕（画布）的高度，取值范围为 <code>[2, 1920]</code>，必须是偶数，单位为像素，默认值为 <code>480</code>。",
                "example": "<code>480</code>",
                "required": "否",
                "type": "Integer"
              },
              {
                "name": "Background",
                "key": "0-8-2-0-2",
                "title": "整体屏幕（画布）的背景色, 范围为 <code>#000000 ~ #ffffff</code> (大小写均可)，格式为 #RGB(16进制)，默认值为 <code>#000000</code>（黑色）。",
                "example": "<code>#000000</code>",
                "required": "否",
                "type": "String"
              },
              {
                "name": "BackgroundImage",
                "key": "0-8-2-0-3",
                "title": "背景图片的 URL。长度最大为 1024 byte。可以传入的图片的格式包括：<code>JPG</code>, <code>JPEG</code>, <code>PNG</code>。<br>\n如果背景图片的宽高和整体屏幕的宽高不一致，背景图片会缩放到铺满屏幕。<br>\n如果你设置了背景图片，背景图片会覆盖背景色。",
                "example": "<code>-</code>",
                "required": "否",
                "type": "String"
              }
            ]
          },
          {
            "name": "Regions",
            "key": "0-8-2-1",
            "title": "<p>在自定义布局模式下，你可以使用 <code>Regions</code> 对每一路视频流进行画面布局设置。其中，每个 <code>Region</code> 对一路视频流进行画面布局设置。</p>\n<p>自定义布局模式下，对于 <code>StreamList</code> 中的每个 <code>Stream</code>，<code>Regions</code> 中都需要给出对应的布局信息，否则会返回请求不合法的错误。即 <code>Regions.Region.StreamIndex</code> 要与 <code>TargetStreams.StreamList.Stream.Index</code> 的值一一对应，否则自定义布局设置失败，返回 <code>InvalidParameter</code> 错误码。</p>\n<blockquote>\n<p>当传入的必填参数值不合法时，返回错误码 <code>InvalidParameter</code> 。</p>\n</blockquote>",
            "example": "<code>-</code>",
            "required": "否",
            "type": "Object[]",
            "children": [
              {
                "name": "StreamIndex",
                "key": "0-8-2-1-0",
                "title": "流的标识。这个标志应和 <code>TargetStreams.StreamList.Stream.Index</code> 对应。",
                "example": "<code>0</code>",
                "required": "是",
                "type": "Integer"
              },
              {
                "name": "LocationX",
                "key": "0-8-2-1-1",
                "title": "<p>视频流对应区域左上角的横坐标相对整体画面左上角原点的横向位移，取值的范围为 <code>[0.0, Canvas.Width)</code>。默认值为 <code>0</code>。若传入该参数，服务端会对该参数进行校验，若不合法会返回错误码 <code>InvalidParameter</code>。</p>\n视频流对应区域左上角的实际坐标是通过画面尺寸和相对位置比例相乘，并四舍五入取整得到的。假如，画布尺寸为<code>1920</code>, 视频流对应区域左上角的横坐标相对整体画面的比例为 <code>0.33</code>，那么该画布左上角的横坐标为 <code>634</code>（1920*0.33=633.6，四舍五入取整）。",
                "example": "<code>0</code>",
                "required": "否",
                "type": "Integer"
              },
              {
                "name": "LocationY",
                "key": "0-8-2-1-2",
                "title": "视频流对应区域左上角的横坐标相对整体画面左上角原点的纵向位移，取值的范围为 <code>[0.0, Canvas.Height)</code>。默认值为 <code>0</code>。若传入该参数，服务端会对该参数进行校验，若不合法会返回错误码 <code>InvalidParameter</code>。",
                "example": "<code>0</code>",
                "required": "否",
                "type": "Integer"
              },
              {
                "name": "Width",
                "key": "0-8-2-1-3",
                "title": "视频流对应区域宽度的像素绝对值，取值的范围为 <code>(0.0, Canvas.Width]</code>。",
                "example": "<code>640</code>",
                "required": "是",
                "type": "Integer"
              },
              {
                "name": "Height",
                "key": "0-8-2-1-4",
                "title": "视频流对应区域高度的像素绝对值，取值的范围为 <code>(0.0, Canvas.Height]</code>。",
                "example": "<code>480</code>",
                "required": "是",
                "type": "Integer"
              },
              {
                "name": "ZOrder",
                "key": "0-8-2-1-5",
                "title": "当多个流的画面有重叠时，使用此参数设置指定画面的图层顺序。取值范围为 <code>[0, 100]</code>，默认值为 <code>0</code>。<code>0</code> 表示该区域图像位于最下层，<code>100</code> 表示该区域图像位于最上层。",
                "example": "<code>0</code>",
                "required": "否",
                "type": "Integer"
              },
              {
                "name": "Alpha",
                "key": "0-8-2-1-6",
                "title": "画面的透明度，取值范围为 <code>(0.0, 1.0]</code>，默认值为 <code>1.0</code>。<code>0.0</code> 表示完全透明，<code>1.0</code> 表示完全不透明。",
                "example": "<code>1</code>",
                "required": "否",
                "type": "Float"
              },
              {
                "name": "RenderMode",
                "key": "0-8-2-1-7",
                "title": "<p>画面的渲染模式。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code> ：按照指定的宽高直接缩放。如果原始画面宽高比与指定的宽高比不同，就会导致画面变形</li>\n<li><code>1</code> ：按照显示区域的长宽比裁减视频，然后等比拉伸或缩小视频，占满显示区域。</li>\n<li><code>2</code> ：按照原始画面的宽高比缩放视频，在显示区域居中显示。如果原始画面宽高比与指定的宽高比不同，就会导致画面有空缺，空缺区域为填充的背景色值。</li>\n<li><code>3</code> ：按照指定的宽高直接缩放。如果原始画面宽高比与指定的宽高比不同，就会导致画面变形。</li>\n</ul>\n默认值为 <code>0</code>。<br>\n目前 <code>0</code> 和 <code>3</code> 均为按照指定的宽高直接缩放，但我们推荐你使用 <code>3</code> 以便与客户端实现相同逻辑。",
                "example": "<code>0</code>",
                "required": "否",
                "type": "Integer"
              },
              {
                "name": "SourceCrop",
                "key": "0-8-2-1-8",
                "title": "源流剪切功能，可以在源视频帧渲染之前进行裁剪，即预处理一次再渲染。",
                "example": "<code>-</code>",
                "required": "否",
                "type": "Object",
                "children": [
                  {
                    "name": "LocationX",
                    "key": "0-8-2-1-8-0",
                    "title": "裁剪后得到的视频帧左上角的横坐标相对裁剪前整体画面的比例，取值的范围为 <code>[0.0, 1.0)</code>。默认值为 <code>0.0</code>。",
                    "example": "<code>0</code>",
                    "required": "否",
                    "type": "Float"
                  },
                  {
                    "name": "LocationY",
                    "key": "0-8-2-1-8-1",
                    "title": "裁剪后得到的视频帧左上角的纵坐标相对裁剪前整体画面的比例，取值的范围为 <code>[0.0, 1.0)</code>。默认值为 <code>0.0</code>。",
                    "example": "<code>0</code>",
                    "required": "否",
                    "type": "Float"
                  },
                  {
                    "name": "WidthProportion",
                    "key": "0-8-2-1-8-2",
                    "title": "裁剪后得到的视频帧宽度相对裁剪前整体画面宽度的比例，取值范围为 <code>(0.0, 1.0]</code>。默认值为 <code>1.0</code>。",
                    "example": "<code>0.5</code>",
                    "required": "否",
                    "type": "Float"
                  },
                  {
                    "name": "HeightProportion",
                    "key": "0-8-2-1-8-3",
                    "title": "裁剪后得到的视频帧高度相对裁剪前整体画面宽度的比例，取值范围为 <code>(0.0, 1.0]</code>。默认值为 <code>1.0</code>。",
                    "example": "<code>0.5</code>",
                    "required": "否",
                    "type": "Float"
                  }
                ]
              },
              {
                "name": "AlternateImage",
                "key": "0-8-2-1-9",
                "title": "<p>补位图片的 url。长度不超过 1024 个字符串。</p>\n<ul>\n<li>在 <code>Region.StreamIndex</code> 对应的视频流没有发布，或被暂停采集时，<code>AlternateImage</code> 对应的图片会填充 <code>Region</code> 对应的画布空间。当视频流被采集并发布时，<code>AlternateImage</code> 不造成任何影响。</li>\n<li>可以传入的图片的格式包括：JPG, JPEG, PNG。</li>\n<li>当图片和画布尺寸不一致时，图片根据 <code>RenderMode</code> 的设置，在画布中进行渲染。</li>\n</ul>",
                "example": "<code>-</code>",
                "required": "否",
                "type": "String"
              },
              {
                "name": "CornerRadius",
                "key": "0-8-2-1-12",
                "title": "转推直播下边框圆角半径与画布宽度的比例值，取值范围为 <code>[0,1]</code>。默认值为 <code>0</code>，表示没有圆角效果。<br>\n圆角半径的像素位不能超过 Region 宽高最小值的一半，否则不会出现圆角效果。",
                "example": "<code>0.1</code>",
                "required": "否",
                "type": "Float"
              },
              {
                "name": "MediaType",
                "key": "0-8-2-1-13",
                "title": "<p>该路流参与混流的媒体类型。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：音视频</li>\n<li><code>1</code>：纯音频</li>\n<li><code>2</code>：纯视频</li>\n</ul>\n默认值为 <code>0</code>。<br>\n例如该路流为音视频流，<code>MediaType</code>设为<code>1</code>，则只混入音频内容。",
                "example": "<code>0</code>",
                "required": "否",
                "type": "Integer"
              },
              {
                "name": "AlternateImageFillMode",
                "key": "0-8-2-1-14",
                "title": "<p>画面的渲染模式。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：按照用户原始视频帧比例进行缩放</li>\n<li><code>1</code>：保持图片原有比例</li>\n</ul>\n默认值为 <code>0</code>。",
                "example": "<code>0</code>",
                "required": "否",
                "type": "Integer"
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "name": "Control",
    "key": "0-9",
    "title": "高级配置选项",
    "example": "<code>-</code>",
    "required": "否",
    "type": "Object",
    "children": [
      {
        "name": "MediaType",
        "key": "0-9-0",
        "title": "<p>订阅流类型。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：音视频，</li>\n<li><code>1</code>：纯音频（暂不支持）</li>\n</ul>\n默认值为<code>0</code>",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "FrameInterpolationMode",
        "key": "0-9-1",
        "title": "<p>补帧模式。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：补最后一帧，</li>\n<li><code>1</code>：补黑帧。</li>\n</ul>\n<p>默认值为<code>0</code>。自动布局模式下，该参数不生效。<br>\n补帧是指在音视频录制时，视频的帧率通常是固定的。但是，因为网络波动或其他原因，实际帧率可能无法达到预设的帧率。此时，需要补帧以保持视频流畅。补最后一帧意味着补充的视频帧和中断前的最后一帧相同，此时看到的画面可能会有短暂静止；补黑帧意味着补充的视频帧是全黑的。</p>\n<p>如果同时配置<code>Alternateimage</code> 和<code>FrameInterpolationMode</code> ，优先使用 <code>Alternateimage</code>参数。</p>\n<ul>\n<li>在 <code>Region.StreamIndex</code> 对应的视频流停止发布时, <code>Region</code> 对应的画布空间会根据设置填充占位图或补帧。但当视频流为屏幕流时，补帧模式不生效。</li>\n<li>当 <code>Region.StreamIndex</code> 对应的视频流发布后停止采集或推送时, <code>Region</code> 对应的画布空间会填充上一帧。</li>\n<li>当 <code>Region.StreamIndex</code> 对应的视频流发布时,设置的占位图或补顿模式不造成任何影响。</li>\n</ul>",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "MaxSilenceSeconds",
        "key": "0-9-2",
        "title": "<p>任务最大中断时间，仅对单流录制生效。取值范围为 <code>[60, 3600]</code>,单位为秒，默认值为 <code>3600</code>。</p>\n<ul>\n<li>若任务中断时间小于该参数值，则根据设置的补帧模式进行补帧。</li>\n<li>若任务中断时间大于该参数值但小于空闲超时时间，任务恢复时会生成一个新文件。</li>\n</ul>",
        "example": "<code>3600</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "MaxIdleTime",
        "key": "0-9-3",
        "title": "<p>任务空闲超时时间，超过此时间后，任务自动终止。取值范围为 <code>[10, 86400]</code>,单位为秒，默认值为 <code>180</code>。</p>\n<ul>\n<li>若任务空闲时间小于该参数值，任务恢复时会根据设置的补帧模式进行补帧。</li>\n<li>若任务空闲时间大于该参数值，任务会自动终止。</li>\n</ul>",
        "example": "<code>180</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "MaxRecordTime",
        "key": "0-9-4",
        "title": "最大录制时长，取值为正整数，单位为秒。默认值为 <code>0</code>。<code>0</code> 表示不限制录制时长。",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "EnableSyncUpload",
        "key": "0-9-5",
        "title": "<p>是否开启边录制边上传功能。</p>\n<ul>\n<li><code>false</code>：关闭</li>\n<li><code>true</code>：开启</li>\n</ul>\n<p>默认值为 <code>false</code>。</p>\n<div class=\"volc-custom-block-warning volc-custom-block\"><p class=\"custom-block-title\">注意</p>\n<p>该功能仅对<code>HLS</code>格式存储文件生效，即：<code>FileFormatConfig.FileFormat</code>取值必须包含 <code>HLS</code>。<br>\n若 HLS 格式文件名中包含<code>Duration</code>填充变量，开通该功能<code>Duration</code>的值始终为 <code>0</code>。</p>\n</div>",
        "example": "<code>false</code>",
        "required": "否",
        "type": "Boolean"
      }
    ]
  },
  {
    "name": "FileFormatConfig",
    "key": "0-10",
    "title": "录制文件的格式设置",
    "example": "<code>-</code>",
    "required": "否",
    "type": "Object",
    "children": [
      {
        "name": "FileFormat",
        "key": "0-10-0",
        "title": "存储文件格式。支持取值包括：<code>MP4</code>、<code>HLS</code>、<code>FLV</code>、<code>MP3</code>、 <code>AAC</code>、<code>M4A</code>。可同时选择多个存储文件格式，最终生成所选存储格式对应的多个文件。<br><br>\n<code>MP3</code>、<code>AAC</code>和<code>M4A</code>仅在编码纯音频时有效。",
        "example": "<code>[&quot;HLS&quot;]</code>",
        "required": "否",
        "type": "String[]",
        "children": []
      }
    ]
  },
  {
    "name": "FileNameConfig",
    "key": "0-11",
    "title": "<p>录制文件的命名设置。</p>\n<p>录制文件的名称由 <code>StorageConfig.Type</code> 和 <code>FileNameConfig</code> 共同决定。</p>\n<ul>\n<li>当<code>StorageConfig.Type</code>配置为 <code>0</code> ，即存储在 TOS 平台时，录制文件名称由<code>FilenameConfig.Prefix</code> + <code>FilenameConfig.Pattern</code> +随机数组成</li>\n<li>当<code>StorageConfig.Type</code>配置为 <code>1</code> ，即存储在 <a href=\"https://www.volcengine.com/product/vod\" target=\"_blank\" class=\"external\">火山引擎视频点播平台</a> 平台时，录制文件名称由<code>FilenameConfig.Pattern</code> + 随机数组成</li>\n<li>当<code>StorageConfig.Type</code>配置为 <code>2</code> ，即存储在指定第三方S3 对象存储平台时，录制文件名称由<code>FilenameConfig.Prefix</code> + <code>FilenameConfig.Pattern</code> +随机数组成。<br>\n例如：当 <code>StorageConfig.Type</code> 配置为 <code>0</code> ，<code>FilenameConfig.Prefix</code>配置为<code>directory1/directory2/</code>，<code>FilenameConfig.Pattern</code> 配置为 <code>{TaskId}_{RoomId}_{StartTime}_{Duration}</code>，<br>\n若此时该文件的 <code>TaskId</code> = <code>mytask123456789</code>, <code>RoomId</code> = <code>myroom99991234</code>，<code>StartTime</code> =<code>1645769481126</code>，<code>Duration</code> = <code>30s</code> 且生成的随机八位字符为 <code>c4694fa1</code>，则生成录制文件的文件名为：<code>directory1/directory2/mytask123456789_myroom99991234_1645769481126_000030_c4694fa1.mp4</code>。</li>\n</ul>\n<blockquote>\n<p>文件名在 <a href=\"https://www.volcengine.com/product/vod\" target=\"_blank\" class=\"external\">视频点播平台</a> 上可以重复，但在 <a href=\"https://www.volcengine.com/product/tos\" target=\"_blank\" class=\"external\">TOS</a> 或第三方存储平台上默认不可以重复。</p>\n</blockquote>",
    "example": "<code>-</code>",
    "required": "否",
    "type": "Object",
    "children": [
      {
        "name": "Prefix",
        "key": "0-11-0",
        "title": "指定录制文件名的前缀，对<code>TosConfig</code>和<code>CustomConfig</code>生效。<br>\n在 TOS 以及支持 S3 的第三方存储平台上，可以实现指定文件夹的功能。如：<code>Prefix</code> = <code>[&quot;directory1&quot;,&quot;directory2&quot;]</code>，将在录制文件名前加上前缀 &quot;<code>directory1/directory2/</code>&quot;。<br>\n前缀长度最大值为 128 个字符。仅支持大小写字母、数字。",
        "example": "<code>[&quot;directory1&quot;,&quot;directory2&quot;]</code>",
        "required": "否",
        "type": "String[]",
        "children": []
      },
      {
        "name": "Pattern",
        "key": "0-11-1",
        "title": "自定义录制文件名模式，具体参看<a href=\"106873\">自定义录制文件名</a>。<br>\n如果你设置了 <code>Pattern</code>，需自行保证最终文件名的唯一性，否则在 TOS 或第三方存储平台上同名文件将被覆盖; 你也可以给对应 bucket 开启版本控制，允许文件名重复，防止被覆盖的情况发生。",
        "example": "<code>{TaskId}<em>{RoomId}</em>{UserId}<em>{Type}</em>{StartTime}<em>{Duration}</em>{Random}</code>",
        "required": "否",
        "type": "String"
      }
    ]
  },
  {
    "name": "StorageConfig",
    "key": "0-12",
    "title": "<p>录制文件的存储平台配置。</p>\n<p>支持：</p>\n<ul>\n<li><a href=\"https://www.volcengine.com/product/vod\" target=\"_blank\" class=\"external\">火山引擎视频点播 VOD</a></li>\n<li><a href=\"https://www.volcengine.com/product/tos\" target=\"_blank\" class=\"external\">火山引擎对象存储 TOS</a></li>\n<li>Amazon S3</li>\n<li>阿里云对象存储 OSS</li>\n<li>华为云 OBS</li>\n<li>腾讯云 COS</li>\n<li>七牛云 Kodo。</li>\n</ul>",
    "example": "<code>-</code>",
    "required": "是",
    "type": "Object",
    "children": [
      {
        "name": "Type",
        "key": "0-12-0",
        "title": "<p>存储平台类型</p>\n<ul>\n<li>0：<a href=\"https://www.volcengine.com/product/tos\" target=\"_blank\" class=\"external\">火山引擎对象存储 TOS</a></li>\n<li>1: <a href=\"https://www.volcengine.com/product/vod\" target=\"_blank\" class=\"external\">火山引擎视频点播 VOD</a></li>\n<li>2: 支持 S3 协议的第三方存储平台</li>\n</ul>\n默认值为 <code>0</code>。",
        "example": "<code>0</code>",
        "required": "否",
        "type": "Integer"
      },
      {
        "name": "TosConfig",
        "key": "0-12-1",
        "title": "Tos 平台设置。当 Type = <code>0</code> 时，需正确设置 <code>TosConfig</code> 的值，否则请求会报错",
        "example": "<code>-</code>",
        "required": "否",
        "type": "Object",
        "children": [
          {
            "name": "AccountId",
            "key": "0-12-1-0",
            "title": "<p>火山引擎平台账号 ID，例如：<code>200000000</code>。</p>\n<ul>\n<li>\n<p>火山引擎平台账号 ID 查看路径参看<a href=\"https://www.volcengine.com/docs/6261/64929\" target=\"_blank\" class=\"external\">查看和管理账号信息</a>。</p>\n</li>\n<li>\n<p>此账号 ID 为火山引擎主账号 ID。</p>\n</li>\n<li>\n<p>若你调用 OpenAPI 鉴权过程中使用的 AK、SK 为子用户 AK、SK，账号 ID 也必须为火山引擎主账号 ID，不能使用子用户账号 ID。</p>\n</li>\n</ul>",
            "example": "<code>210****990</code>",
            "required": "是",
            "type": "String"
          },
          {
            "name": "Region",
            "key": "0-12-1-1",
            "title": "<p>不同存储平台支持的 Region 不同，具体参看 <a href=\"1167931#region\">Region对照表</a></p>\n默认值为<code>0</code>。",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "Bucket",
            "key": "0-12-1-2",
            "title": "存储桶的名称。",
            "example": "<code>tos-vod-c****16fd9e8343</code>",
            "required": "是",
            "type": "String"
          }
        ]
      },
      {
        "name": "VodConfig",
        "key": "0-12-2",
        "title": "点播平台设置。当 Type = <code>1</code> 时，需正确设置 <code>VodConfig</code> 的值，否则请求会报错",
        "example": "<code>-</code>",
        "required": "否",
        "type": "Object",
        "children": [
          {
            "name": "AccountId",
            "key": "0-12-2-0",
            "title": "<p>火山引擎平台账号 ID，例如：<code>200000000</code>。</p>\n<ul>\n<li>\n<p>火山引擎平台账号 ID 查看路径参看<a href=\"https://www.volcengine.com/docs/6261/64929\" target=\"_blank\" class=\"external\">查看和管理账号信息</a>。</p>\n</li>\n<li>\n<p>此账号 ID 为火山引擎主账号 ID。</p>\n</li>\n<li>\n<p>若你调用 OpenAPI 鉴权过程中使用的 AK、SK 为子用户 AK、SK，账号 ID 也必须为火山引擎主账号 ID，不能使用子用户账号 ID。</p>\n</li>\n</ul>",
            "example": "<code>210****933</code>",
            "required": "是",
            "type": "String"
          },
          {
            "name": "Region",
            "key": "0-12-2-1",
            "title": "<p>不同存储平台支持的 Region 不同，具体参看 <a href=\"1167931#region\">Region对照表</a></p>\n默认值为<code>0</code>。",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "Space",
            "key": "0-12-2-2",
            "title": "点播空间名称。",
            "example": "<code>Storagespace</code>",
            "required": "是",
            "type": "String"
          },
          {
            "name": "StorageClass",
            "key": "0-12-2-3",
            "title": "<p>上传到视频点播平台时, 文件的存储类型。支持取值及含义如下：：</p>\n<ul>\n<li><code>1</code>：标准存储。</li>\n<li><code>2</code>：归档存储。</li>\n<li><code>3</code>：低频存储。</li>\n</ul>\n默认值为 <code>1</code>。<br>\n关于存储类型的详细说明，参看<a href=\"https://www.volcengine.com/docs/4/73629#%E5%AA%92%E8%B5%84%E5%AD%98%E5%82%A8\" target=\"_blank\" class=\"external\">媒资存储存储类型</a>",
            "example": "<code>1</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "AutoSetFileExtension",
            "key": "0-12-2-4",
            "title": "<p>上传到视频点播平台时, 是否需要根据文件后缀自动设置 <code>FileExtension</code>。关于 <code>FileExtension</code> 的详细说明，参看 <a href=\"https://www.volcengine.com/docs/4/164295#fileextension\" target=\"_blank\" class=\"external\">FileExtension</a>。</p>\n<ul>\n<li><code>true</code>：需要；</li>\n<li><code>false</code>：不需要。</li>\n</ul>\n默认值为 <code>false</code>。",
            "example": "<code>false</code>",
            "required": "否",
            "type": "Boolean"
          }
        ]
      },
      {
        "name": "CustomConfig",
        "key": "0-12-3",
        "title": "第三方存储平台设置。当 Type = <code>2</code>时，需正确设置 <code>CustomConfig</code> 的值，否则请求会报错",
        "example": "<code>-</code>",
        "required": "否",
        "type": "Object",
        "children": [
          {
            "name": "Vendor",
            "key": "0-12-3-0",
            "title": "<p>第三方云存储平台。支持取值及含义如下：</p>\n<ul>\n<li><code>0</code>：Amazon S3</li>\n<li><code>1</code>：阿里云 OSS</li>\n<li><code>2</code>：华为云 OBS</li>\n<li><code>3</code>：腾讯云 COS</li>\n<li><code>4</code>：七牛云 Kodo。</li>\n</ul>\n默认值为 <code>0</code>。",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "Region",
            "key": "0-12-3-1",
            "title": "<p>不同存储平台支持的 Region 不同，具体参看 <a href=\"1167931#region\">Region对照表</a></p>\n默认值为<code>0</code>。",
            "example": "<code>0</code>",
            "required": "否",
            "type": "Integer"
          },
          {
            "name": "Bucket",
            "key": "0-12-3-2",
            "title": "存储桶的名称。",
            "example": "<code>tos-vod-c****16fd9e8343</code>",
            "required": "是",
            "type": "String"
          },
          {
            "name": "AccessKey",
            "key": "0-12-3-3",
            "title": "第三方存储平台账号的密钥。需确保此账号对存储桶有写权限。<strong>不建议开启读权限</strong>",
            "example": "<code>AKLTMzV****NDcyNjU</code>",
            "required": "是",
            "type": "String"
          },
          {
            "name": "SecretKey",
            "key": "0-12-3-4",
            "title": "第三方存储平台账号的密钥",
            "example": "<code>TVRjMl****aadf==</code>",
            "required": "是",
            "type": "String"
          }
        ]
      }
    ]
  }
];

return (<Table
  defaultExpandAllRows={true}
  columns={columns}
  data={data}
  border={{ cell: true, wrapper: true }}
  pagination={false}
/>);
```
## 返回参数
本接口无特有的返回参数。公共返回参数请见[返回结构](1178322)。
其中返回值 `Result` 仅在请求成功时返回 `ok`,失败时为空。
## 请求示例
```json
POST https://rtc.volcengineapi.com?Action=StartRecord&Version=2023-11-01
{
  "AppId": "661e****543cf",
  "BusinessId": "12312312****2131djad",
  "RoomId": "Room1",
  "TaskId": "Task1",
  "RecordMode": 0,
  "FileFormatConfig": {
    "FileFormat": ["HLS", "FLV"]
  },
  "FileNameConfig": {
    "Prefix": ["directory1", "directory2"],
    "Pattern": ""
  },
  "StorageConfig": {
    "Type": 0,
    "TosConfig": {
      "UserAccountId": "21****89",
      "Region": "0",
      "Bucket": "tos-vod-c****16fd9e8343"
    }
  }
}
```
## 返回示例
```json
{
  "Result": "ok",
  "ResponseMetadata": {
    "RequestId": "20230****10420",
    "Action": "StartRecord",
    "Version": "2023-11-01",
    "Service": "rtc",
    "Region": "cn-north-1"
  }
}
```

## 错误码
您可访问[公共错误码](https://www.volcengine.com/docs/6348/70426)，获取更多错误码信息。
<div data-source="api-doc-hub" style="display: none"></div>
