---
is_dir: False    # True for dir; False for doc
status: 1    # 0 for offline; 1 for online; 2 for whitelist; 4 for online but hidden in TOC
keywords: 实时音视频    # use ',' as separator
---

# IAudioDeviceManager
```csharp
public interface bytertc.IAudioDeviceManager
```

音频设备管理


`Defined in : IAudioDeviceManager.cs`

## 成员函数
| 返回 | 名称 |
| --- | --- |
| **IDeviceCollection** | [EnumerateAudioPlaybackDevices](#IAudioDeviceManager-enumerateaudioplaybackdevices) |
| **IDeviceCollection** | [EnumerateAudioCaptureDevices](#IAudioDeviceManager-enumerateaudiocapturedevices) |
| **void** | [FollowSystemPlaybackDevice](#IAudioDeviceManager-followsystemplaybackdevice) |
| **void** | [FollowSystemCaptureDevice](#IAudioDeviceManager-followsystemcapturedevice) |
| **int** | [SetAudioPlaybackDevice](#IAudioDeviceManager-setaudioplaybackdevice) |
| **int** | [SetAudioCaptureDevice](#IAudioDeviceManager-setaudiocapturedevice) |
| **int** | [SetAudioPlaybackDeviceVolume](#IAudioDeviceManager-setaudioplaybackdevicevolume) |
| **int** | [GetAudioPlaybackDeviceVolume](#IAudioDeviceManager-getaudioplaybackdevicevolume) |
| **int** | [SetAudioCaptureDeviceVolume](#IAudioDeviceManager-setaudiocapturedevicevolume) |
| **int** | [GetAudioCaptureDeviceVolume](#IAudioDeviceManager-getaudiocapturedevicevolume) |
| **int** | [SetAudioPlaybackDeviceMute](#IAudioDeviceManager-setaudioplaybackdevicemute) |
| **int** | [GetAudioPlaybackDeviceMute](#IAudioDeviceManager-getaudioplaybackdevicemute) |
| **int** | [SetAudioCaptureDeviceMute](#IAudioDeviceManager-setaudiocapturedevicemute) |
| **int** | [GetAudioCaptureDeviceMute](#IAudioDeviceManager-getaudiocapturedevicemute) |
| **int** | [GetAudioPlaybackDevice](#IAudioDeviceManager-getaudioplaybackdevice) |
| **int** | [GetAudioCaptureDevice](#IAudioDeviceManager-getaudiocapturedevice) |

## 函数说明
<span id="IAudioDeviceManager-enumerateaudioplaybackdevices"></span>
### EnumerateAudioPlaybackDevices
```csharp
IDeviceCollection bytertc.IAudioDeviceManager.EnumerateAudioPlaybackDevices();
```
获取当前系统内音频播放设备列表。如果后续设备有变更，你需要重新调用本接口以获得新的设备列表。

**返回值**
包含系统中所有音频播放设备的列表，参看 [IDeviceCollection](#idevicecollection)。


<span id="IAudioDeviceManager-enumerateaudiocapturedevices"></span>
### EnumerateAudioCaptureDevices
```csharp
IDeviceCollection bytertc.IAudioDeviceManager.EnumerateAudioCaptureDevices();
```
获取当前系统内音频采集设备列表。如果后续设备有变更，你需要重新调用本接口以获得新的设备列表。

**返回值**
包含系统中所有音频采集设备的列表，参看 [IDeviceCollection](#idevicecollection)。


<span id="IAudioDeviceManager-followsystemplaybackdevice"></span>
### FollowSystemPlaybackDevice
```csharp
void bytertc.IAudioDeviceManager.FollowSystemPlaybackDevice(
    Boolean followed)
```
设置音频播放路由是否跟随系统。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| followed | **Boolean** | • true: 跟随。此时，调用 [SetAudioPlaybackDevice](#IAudioDeviceManager-setaudioplaybackdevice) 会失败。<br/>• false: 不跟随系统。此时，可以调用 [SetAudioPlaybackDevice](#IAudioDeviceManager-setaudioplaybackdevice) 进行设置。 |

<span id="IAudioDeviceManager-followsystemcapturedevice"></span>
### FollowSystemCaptureDevice
```csharp
void bytertc.IAudioDeviceManager.FollowSystemCaptureDevice(
    Boolean followed)
```
设置音频采集路由是否跟随系统。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| followed | **Boolean** | • true: 跟随。此时，调用 [SetAudioCaptureDevice](#IAudioDeviceManager-setaudiocapturedevice) 会失败。<br/>• false: 不跟随系统。此时，可以调用 [SetAudioCaptureDevice](#IAudioDeviceManager-setaudiocapturedevice) 进行设置。 |

<span id="IAudioDeviceManager-setaudioplaybackdevice"></span>
### SetAudioPlaybackDevice
```csharp
int bytertc.IAudioDeviceManager.SetAudioPlaybackDevice(
    string deviceID)
```
设置音频播放设备。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| deviceID | **string** | 音频播放设备 ID，可通过 [EnumerateAudioPlaybackDevices](#IAudioDeviceManager-enumerateaudioplaybackdevices) 获取。 |
**返回值**
+ 0： 成功
+ < 0：失败


<span id="IAudioDeviceManager-setaudiocapturedevice"></span>
### SetAudioCaptureDevice
```csharp
int bytertc.IAudioDeviceManager.SetAudioCaptureDevice(
    string deviceID)
```
设置音频采集设备。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| deviceID | **string** | 音频采集设备 ID，可通过 [EnumerateAudioCaptureDevices](#IAudioDeviceManager-enumerateaudiocapturedevices) 获取。 |
**返回值**
+ 0： 成功
+ < 0：失败


<span id="IAudioDeviceManager-setaudioplaybackdevicevolume"></span>
### SetAudioPlaybackDeviceVolume
```csharp
int bytertc.IAudioDeviceManager.SetAudioPlaybackDeviceVolume(
    uint volume)
```
设置当前音频播放设备音量

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| volume | **uint** | 音频播放设备音量，取值范围为 [0,255], 超出此范围设置无效。<br/>• [0,25] 接近无声；<br/>• [25,75] 为低音量；<br/>• [76,204] 为中音量；<br/>• [205,255] 为高音量。 |
**返回值**
+ 0： 成功
+ < 0：失败


<span id="IAudioDeviceManager-getaudioplaybackdevicevolume"></span>
### GetAudioPlaybackDeviceVolume
```csharp
int bytertc.IAudioDeviceManager.GetAudioPlaybackDeviceVolume(
    ref uint volume)
```
获取当前音频播放设备音量

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| volume | **ref uint** | 音频播放设备音量，范围应在 [0,255] 内。<br/>• [0,25] 接近无声；<br/>• [25,75] 为低音量；<br/>• [76,204] 为中音量；<br/>• [205,255] 为高音量。 |
**返回值**
+ 0： 成功
+ < 0：失败


<span id="IAudioDeviceManager-setaudiocapturedevicevolume"></span>
### SetAudioCaptureDeviceVolume
```csharp
int bytertc.IAudioDeviceManager.SetAudioCaptureDeviceVolume(
    uint volume)
```
设置当前音频采集设备音量

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| volume | **uint** | 音频采集设备音量，取值范围为 [0,255], 超出此范围设置无效。<br/>• [0,25] 接近无声；<br/>• [25,75] 为低音量；<br/>• [76,204] 为中音量；<br/>• [205,255] 为高音量。 |
**返回值**
+ 0： 成功。将影响 [OnLocalAudioPropertiesReportEventHandler](191860#onlocalaudiopropertiesreporteventhandler) 回调的音量信息。
+ < 0：失败


**注意**
如果音频采集设备通过 [SetAudioCaptureDeviceMute](#IAudioDeviceManager-setaudiocapturedevicemute) 被静音，则音量调节会在取消静音后生效。

<span id="IAudioDeviceManager-getaudiocapturedevicevolume"></span>
### GetAudioCaptureDeviceVolume
```csharp
int bytertc.IAudioDeviceManager.GetAudioCaptureDeviceVolume(
    ref uint volume)
```
获取当前音频采集设备音量

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| volume | **ref uint** | 音频采集设备音量，范围应在 [0,255] 内。<br/>• [0,25] 接近无声；<br/>• [25,75] 为低音量；<br/>• [76,204] 为中音量；<br/>• [205,255] 为高音量。 |
**返回值**
+ 0： 成功
+ < 0：失败


<span id="IAudioDeviceManager-setaudioplaybackdevicemute"></span>
### SetAudioPlaybackDeviceMute
```csharp
int bytertc.IAudioDeviceManager.SetAudioPlaybackDeviceMute(
    bool mute)
```
设置当前音频播放设备静音状态，默认为非静音。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| mute | **bool** | • true：静音<br/>• false：非静音 |
**返回值**
+ 0： 成功
+ < 0：失败


<span id="IAudioDeviceManager-getaudioplaybackdevicemute"></span>
### GetAudioPlaybackDeviceMute
```csharp
int bytertc.IAudioDeviceManager.GetAudioPlaybackDeviceMute(
    ref bool mute)
```
获取当前音频播放设备是否静音的信息。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| mute | **ref bool** | • true：静音<br/>• false：非静音 |
**返回值**
+ 0： 成功
+ < 0：失败


<span id="IAudioDeviceManager-setaudiocapturedevicemute"></span>
### SetAudioCaptureDeviceMute
```csharp
int bytertc.IAudioDeviceManager.SetAudioCaptureDeviceMute(
    bool mute)
```
设置当前音频采集设备静音状态，默认为非静音。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| mute | **bool** | • true：静音<br/>• false：非静音 |
**返回值**
+ 0： 成功
+ < 0：失败


**注意**
+ 该方法用于静音整个系统的音频采集。
+ 设该方法为 `true` 静音后仍可通过 [SetAudioCaptureDeviceVolume](#IAudioDeviceManager-setaudiocapturedevicevolume) 调整采集音量，调整后的音量会在取消静音后生效。


<span id="IAudioDeviceManager-getaudiocapturedevicemute"></span>
### GetAudioCaptureDeviceMute
```csharp
int bytertc.IAudioDeviceManager.GetAudioCaptureDeviceMute(
    ref bool mute)
```
获取当前音频采集设备是否静音的信息。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| mute | **ref bool** | • true：静音<br/>• false：非静音 |
**返回值**
+ 0： 成功
+ < 0：失败


<span id="IAudioDeviceManager-getaudioplaybackdevice"></span>
### GetAudioPlaybackDevice
```csharp
int bytertc.IAudioDeviceManager.GetAudioPlaybackDevice(
    ref string deviceID)
```
获取当前音频播放设备 ID。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| deviceID | **ref string** | 音频播放设备 ID |
**返回值**
+ 0： 成功
+ < 0：失败


<span id="IAudioDeviceManager-getaudiocapturedevice"></span>
### GetAudioCaptureDevice
```csharp
int bytertc.IAudioDeviceManager.GetAudioCaptureDevice(
    ref string deviceID)
```
获取当前音频采集设备 ID。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| deviceID | **ref string** | 音频采集设备 ID，使用方负责按 MAX_DEVICE_ID_LENGTH 大小，分配与释放内存 |
**返回值**
+ 0： 成功
+ < 0：失败


# IDeviceCollection
```csharp
public interface bytertc.IDeviceCollection
```

音视频设备相关的信息


`Defined in : IDeviceCollection.cs`

## 成员函数
| 返回 | 名称 |
| --- | --- |
| **int** | [GetCount](#IDeviceCollection-getcount) |
| **int** | [GetDevice](#IDeviceCollection-getdevice) |
| **void** | [Release](#IDeviceCollection-release) |

## 函数说明
<span id="IDeviceCollection-getcount"></span>
### GetCount
```csharp
int bytertc.IDeviceCollection.GetCount();
```
获取当前系统内音视频设备数量

**返回值**
音视频设备数量


<span id="IDeviceCollection-getdevice"></span>
### GetDevice
```csharp
int bytertc.IDeviceCollection.GetDevice(
    int index,
    ref string deviceName,
    ref string deviceID)
```
根据索引号，获取设备信息

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| index | **int** | 设备索引号，从 0 开始，注意需小于 [GetCount](#IDeviceCollection-getcount) 返回值。 |
| deviceName | **ref string** | 设备名称 |
| deviceID | **ref string** | 设备 ID |
**返回值**
+ 0：方法调用成功
+ !0：方法调用失败


<span id="IDeviceCollection-release"></span>
### Release
```csharp
void bytertc.IDeviceCollection.Release();
```
释放当前 [IDeviceCollection](#idevicecollection) 对象占用的资源。


**注意**
不需要返回音视频设备相关信息列表时应该调用本方法释放相关资源。

# IRangeAudio
```csharp
public interface bytertc.IRangeAudio
```

范围语音接口。


`Defined in : IRangeAudio.cs`

## 成员函数
| 返回 | 名称 |
| --- | --- |
| **void** | [EnableRangeAudio](#IRangeAudio-enablerangeaudio) |
| **int** | [UpdateReceiveRange](#IRangeAudio-updatereceiverange) |
| **int** | [UpdatePosition](#IRangeAudio-updateposition) |
| **int** | [SetAttenuationModel](#IRangeAudio-setattenuationmodel) |
| **void** | [SetNoAttenuationFlags](#IRangeAudio-setnoattenuationflags) |
| **void** | [Release](#IRangeAudio-release) |

## 函数说明
<span id="IRangeAudio-enablerangeaudio"></span>
### EnableRangeAudio
```csharp
void bytertc.IRangeAudio.EnableRangeAudio(
    bool enable)
```
开启/关闭范围语音功能。
范围语音是指，在同一 RTC 房间中设定的音频接收距离范围内，本地用户收听到的远端用户音频音量会随着远端用户的靠近/远离而放大/衰减；若远端用户在房间内的位置超出设定范围，则本地用户无法接收其音频。音频接收范围设置参看 [UpdateReceiveRange](#IRangeAudio-updatereceiverange)。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| enable | **bool** | 是否开启范围语音功能：<br/>• true: 开启<br/>• false: 关闭（默认） |

**注意**
该方法进房前后都可调用，为保证进房后范围语音效果的平滑切换，你需在该方法前先调用 [UpdateReceiveRange](#IRangeAudio-updatereceiverange) 设置自身位置坐标，然后开启该方法收听范围语音效果。

<span id="IRangeAudio-updatereceiverange"></span>
### UpdateReceiveRange
```csharp
int bytertc.IRangeAudio.UpdateReceiveRange(
    ReceiveRange range)
```
更新本地用户的音频收听范围。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| range | **ReceiveRange** | 音频收听范围，参看 [ReceiveRange](191862#receiverange)。 |
**返回值**
方法调用结果：
+ 0：成功；
+ !0: 失败。


<span id="IRangeAudio-updateposition"></span>
### UpdatePosition
```csharp
int bytertc.IRangeAudio.UpdatePosition(
    Position pos)
```
更新本地用户在房间内空间直角坐标系中的位置坐标。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| pos | **Position** | 三维坐标的值，默认为 [0, 0, 0]，参看 [Position](191862#position)。 |
**返回值**
+ 0：成功；
+ !0：失败。


**注意**
调用该接口更新坐标后，你需调用 [EnableRangeAudio](#IRangeAudio-enablerangeaudio) 开启范围语音功能以收听范围语音效果。

<span id="IRangeAudio-setattenuationmodel"></span>
### SetAttenuationModel
```csharp
int bytertc.IRangeAudio.SetAttenuationModel(
    AttenuationType type,
    float coefficient)
```
设置范围语音的音量衰减模式。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| type | **AttenuationType** | 音量衰减模式。默认为线性衰减。详见 [AttenuationType](191862#attenuationtype)。 |
| coefficient | **float** | 指数衰减模式下的音量衰减系数，默认值为 1。范围 [0.1,100]，推荐设置为 `50`。数值越大，音量的衰减速度越快。 |
**返回值**
调用是否成功
+ `0`:调用成功
+ `-1`:调用失败。原因为在调用 [EnableRangeAudio](#IRangeAudio-enablerangeaudio) 开启范围语音前或进房前调用本接口


**注意**
音量衰减范围通过 [UpdateReceiveRange](#IRangeAudio-updatereceiverange) 进行设置。

<span id="IRangeAudio-setnoattenuationflags"></span>
### SetNoAttenuationFlags
```csharp
void bytertc.IRangeAudio.SetNoAttenuationFlags(
    string[] flags,
    int len)
```
添加标签组，用于标记相互之间通话不衰减的用户组。
在同一个 RTC 房间中，如果多个用户的标签组之间有交集，那么，他们之间互相通话时，通话不衰减。
比如，用户身处多个队伍，队伍成员间通话不衰减。那么，可以为每个队伍绑定专属标签，每个用户的标签组包含用户所属各个队伍的标签。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| flags | **string[]** | 标签组 |

<span id="IRangeAudio-release"></span>
### Release
```csharp
void bytertc.IRangeAudio.Release();
```
释放当前 [IRangeAudio](#irangeaudio) 对象占用的资源。


# IRTCVideo
```csharp
public interface bytertc.IRTCVideo
```

引擎接口


`Defined in : IRTCVideo.cs`

## 成员函数
| 返回 | 名称 |
| --- | --- |
| **int** | [CreateRTCVideo](#IRTCVideo-creatertcvideo) |
| **void** | [Release](#IRTCVideo-release) |
| **string** | [GetErrorDescription](#IRTCVideo-geterrordescription) |
| **string** | [GetSDKVersion](#IRTCVideo-getsdkversion) |
| **int** | [SetBusinessId](#IRTCVideo-setbusinessid) |
| **int** | [Feedback](#IRTCVideo-feedback) |
| **void** | [SetRuntimeParameters](#IRTCVideo-setruntimeparameters) |
| **IRTCVideoRoom** | [CreateRTCRoom](#IRTCVideo-creatertcroom) |
| **int** | [MuteAudioCapture](#IRTCVideo-muteaudiocapture) |
| **void** | [SetCaptureVolume](#IRTCVideo-setcapturevolume) |
| **void** | [SetPlaybackVolume](#IRTCVideo-setplaybackvolume) |
| **void** | [StartAudioCapture](#IRTCVideo-startaudiocapture) |
| **void** | [StopAudioCapture](#IRTCVideo-stopaudiocapture) |
| **void** | [SetAudioProfile](#IRTCVideo-setaudioprofile) |
| **void** | [SetAudioScenario](#IRTCVideo-setaudioscenario) |
| **int** | [EnableAudioPropertiesReport](#IRTCVideo-enableaudiopropertiesreport) |
| **int** | [SetVoiceReverbType](#IRTCVideo-setvoicereverbtype) |
| **int** | [SetVoiceChangerType](#IRTCVideo-setvoicechangertype) |
| **int** | [SetLocalVoicePitch](#IRTCVideo-setlocalvoicepitch) |
| **int** | [SetLocalVoiceEqualization](#IRTCVideo-setlocalvoiceequalization) |
| **int** | [SetLocalVoiceReverbParam](#IRTCVideo-setlocalvoicereverbparam) |
| **int** | [EnableLocalVoiceReverb](#IRTCVideo-enablelocalvoicereverb) |
| **int** | [SetDummyCaptureImagePath](#IRTCVideo-setdummycaptureimagepath) |
| **int** | [SetVideoCaptureRotation](#IRTCVideo-setvideocapturerotation) |
| **int** | [SetVideoWatermark](#IRTCVideo-setvideowatermark) |
| **int** | [ClearVideoWatermark](#IRTCVideo-clearvideowatermark) |
| **int** | [EnableEffectBeauty](#IRTCVideo-enableeffectbeauty) |
| **int** | [SetBeautyIntensity](#IRTCVideo-setbeautyintensity) |
| **int** | [GetAuthMessage](#IRTCVideo-getauthmessage) |
| **int** | [FreeAuthMessage](#IRTCVideo-freeauthmessage) |
| **int** | [InitCVResource](#IRTCVideo-initcvresource) |
| **int** | [EnableVideoEffect](#IRTCVideo-enablevideoeffect) |
| **int** | [DisableVideoEffect](#IRTCVideo-disablevideoeffect) |
| **int** | [SetEffectNodes](#IRTCVideo-seteffectnodes) |
| **int** | [UpdateEffectNode](#IRTCVideo-updateeffectnode) |
| **int** | [SetColorFilter](#IRTCVideo-setcolorfilter) |
| **int** | [SetColorFilterIntensity](#IRTCVideo-setcolorfilterintensity) |
| **int** | [EnableVirtualBackground](#IRTCVideo-enablevirtualbackground) |
| **int** | [DisableVirtualBackground](#IRTCVideo-disablevirtualbackground) |
| **int** | [VideoSDKEnableFaceDetection](#IRTCVideo-videosdkenablefacedetection) |
| **int** | [VideoSDKDisableFaceDetection](#IRTCVideo-videosdkdisablefacedetection) |
| **int** | [SetVideoDigitalZoomConfig](#IRTCVideo-setvideodigitalzoomconfig) |
| **int** | [SetVideoDigitalZoomControl](#IRTCVideo-setvideodigitalzoomcontrol) |
| **int** | [StartVideoDigitalZoomControl](#IRTCVideo-startvideodigitalzoomcontrol) |
| **int** | [StopVideoDigitalZoomControl](#IRTCVideo-stopvideodigitalzoomcontrol) |
| **void** | [SetEarMonitorMode](#IRTCVideo-setearmonitormode) |
| **void** | [SetEarMonitorVolume](#IRTCVideo-setearmonitorvolume) |
| **void** | [EnableVocalInstrumentBalance](#IRTCVideo-enablevocalinstrumentbalance) |
| **int** | [SetRemoteAudioPlaybackVolume](#IRTCVideo-setremoteaudioplaybackvolume) |
| **int** | [SetDefaultAudioRoute](#IRTCVideo-setdefaultaudioroute) |
| **int** | [SetAudioRoute](#IRTCVideo-setaudioroute) |
| **AudioRouteDevice** | [GetAudioRoute](#IRTCVideo-getaudioroute) |
| **int** | [EnableAudioFrameCallback](#IRTCVideo-enableaudioframecallback) |
| **int** | [DisableAudioFrameCallback](#IRTCVideo-disableaudioframecallback) |
| **int** | [StartAudioRecording](#IRTCVideo-startaudiorecording) |
| **int** | [StopAudioRecording](#IRTCVideo-stopaudiorecording) |
| **int** | [SendStreamSyncInfo](#IRTCVideo-sendstreamsyncinfo) |
| **int** | [SendSEIMessage](#IRTCVideo-sendseimessage) |
| **int** | [EnableAudioProcessor](#IRTCVideo-enableaudioprocessor) |
| **int** | [DisableAudioProcessor](#IRTCVideo-disableaudioprocessor) |
| **IAudioDeviceManager** | [GetAudioDeviceManager](#IRTCVideo-getaudiodevicemanager) |
| **IVideoDeviceManager** | [GetVideoDeviceManager](#IRTCVideo-getvideodevicemanager) |
| **void** | [StartVideoCapture](#IRTCVideo-startvideocapture) |
| **void** | [StopVideoCapture](#IRTCVideo-stopvideocapture) |
| **int** | [SetVideoCaptureConfig](#IRTCVideo-setvideocaptureconfig) |
| **int** | [SetVideoEncoderConfig1](#IRTCVideo-setvideoencoderconfig1) |
| **int** | [SetScreenVideoEncoderConfig](#IRTCVideo-setscreenvideoencoderconfig) |
| **void** | [SetVideoSourceType](#IRTCVideo-setvideosourcetype) |
| **void** | [SetLocalVideoMirrorType](#IRTCVideo-setlocalvideomirrortype) |
| **int** | [SetVideoRotationMode](#IRTCVideo-setvideorotationmode) |
| **void** | [SetLocalVideoSink](#IRTCVideo-setlocalvideosink) |
| **void** | [SetRemoteVideoSink](#IRTCVideo-setremotevideosink) |
| **IScreenCaptureSourceList** | [GetScreenCaptureSourceList](#IRTCVideo-getscreencapturesourcelist) |
| **int** | [StartScreenVideoCapture](#IRTCVideo-startscreenvideocapture) |
| **void** | [StopScreenVideoCapture](#IRTCVideo-stopscreenvideocapture) |
| **void** | [UpdateScreenCaptureRegion](#IRTCVideo-updatescreencaptureregion) |
| **void** | [UpdateScreenCaptureHighlightConfig](#IRTCVideo-updatescreencapturehighlightconfig) |
| **void** | [UpdateScreenCaptureMouseCursor](#IRTCVideo-updatescreencapturemousecursor) |
| **void** | [UpdateScreenCaptureFilterConfig](#IRTCVideo-updatescreencapturefilterconfig) |
| **VideoFrame** | [GetThumbnail](#IRTCVideo-getthumbnail) |
| **void** | [SetScreenAudioSourceType](#IRTCVideo-setscreenaudiosourcetype) |
| **void** | [SetScreenAudioStreamIndex](#IRTCVideo-setscreenaudiostreamindex) |
| **void** | [StartScreenAudioCapture](#IRTCVideo-startscreenaudiocapture) |
| **void** | [StopScreenAudioCapture](#IRTCVideo-stopscreenaudiocapture) |
| **void** | [StartScreenCapture](#IRTCVideo-startscreencapture) |
| **int** | [PushScreenAudioFrame](#IRTCVideo-pushscreenaudioframe) |
| **int** | [SwitchCamera](#IRTCVideo-switchcamera) |
| **int** | [PushExternalAudioFrame](#IRTCVideo-pushexternalaudioframe) |
| **void** | [SetAudioSourceType](#IRTCVideo-setaudiosourcetype) |
| **int** | [PushExternalVideoFrame](#IRTCVideo-pushexternalvideoframe) |
| **int** | [PushScreenVideoFrame](#IRTCVideo-pushscreenvideoframe) |

## 函数说明
<span id="IRTCVideo-creatertcvideo"></span>
### CreateRTCVideo
```csharp
int bytertc.IRTCVideo.CreateRTCVideo(
    RTCVideoEngineParams initParams)
```
创建 RTCVideoEngine 实例。
RTCVideoEngine 实例成功创建后，你才可以使用 SDK 提供的其他能力。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| initParams | **RTCVideoEngineParams** | 引擎初始化参数，参看 [RTCVideoEngineParams](191862#rtcvideoengineparams)。 |

<span id="IRTCVideo-release"></span>
### Release
```csharp
void bytertc.IRTCVideo.Release();
```
销毁由 [CreateRTCVideo](#IRTCVideo-creatertcvideo) 所创建引擎实例，并释放所有相关资源。


**注意**
+ 你必须在所有业务场景的最后阶段调用该方法。该方法在调用之后，会销毁所有 SDK 相关的内存，并且停止与媒体服务器的任何交互。
+ 本方法为阻塞调用，会阻塞当前线程直到 SDK 彻底完成退出逻辑。因此，不可在回调线程中直接调用本方法；也不可在回调方法中等待主线程的执行而同时在主线程调用本方法，否则会造成死锁。


<span id="IRTCVideo-geterrordescription"></span>
### GetErrorDescription
```csharp
string bytertc.IRTCVideo.GetErrorDescription(
    int code)
```
获取 SDK 内各种错误码、警告码的描述文字

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| code | **int** | 警告码、错误码。 |
**返回值**
string 描述文字


<span id="IRTCVideo-getsdkversion"></span>
### GetSDKVersion
```csharp
string bytertc.IRTCVideo.GetSDKVersion();
```
获取 SDK 当前的版本号。

**返回值**
SDK 当前的版本号。


<span id="IRTCVideo-setbusinessid"></span>
### SetBusinessId
```csharp
int bytertc.IRTCVideo.SetBusinessId(
    string businessID)
```
设置业务标识参数。
可通过 businessId 区分不同的业务场景。businessId 由客户自定义，相当于一个“标签”，可以分担和细化现在 AppId 的逻辑划分的功能，但不需要鉴权。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| businessID | **string** | 用户设置的自己的 businessId 值<br/>businessId 只是一个标签，颗粒度需要用户自定义。 |
**返回值**
+ 0： 成功
+ < 0： 失败
+ -6001： 用户已经在房间中。
+ -6002： 输入非法，合法字符包括所有小写字母、大写字母和数字，除此外还包括四个独立字符，分别是：英文句号，短横线，下划线和 @。


**注意**
需要在调用 [JoinRoom](#IRTCVideoRoom-joinroom) 之前调用，之后调用该方法无效。

<span id="IRTCVideo-feedback"></span>
### Feedback
```csharp
int bytertc.IRTCVideo.Feedback(
    String roomID,
    String userID,
    List<int> typeArray,
    string problemDescription)
```
通话结束，将用户反馈的问题上报到 RTC。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| roomID | **String** | 房间 ID。 |
| userID | **String** | 用户 ID。 |
| typeArray | **List<int>** | 预设问题列表，参看 [ProblemFeedbackOption](191862#problemfeedbackoption)。 |
| problemDescription | **string** | 预设问题以外的其他问题的具体描述。 |
**返回值**
+ 0: 上报成功
+ -1: 上报失败，还没加入过房间
+ -2: 上报失败，数据解析错误
+ -3: 上报失败，字段缺失


**注意**
+ 如果用户上报时在房间内，那么问题会定位到用户当前所在的一个或多个房间；
+ 如果用户上报时不在房间内，那么问题会定位到引擎此前退出的房间。


<span id="IRTCVideo-setruntimeparameters"></span>
### SetRuntimeParameters
```csharp
void bytertc.IRTCVideo.SetRuntimeParameters(
    string jsonString)
```
设置运行时的参数。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| jsonString | **string** | json 序列化之后的字符串。 |

<span id="IRTCVideo-creatertcroom"></span>
### CreateRTCRoom
```csharp
IRTCVideoRoom bytertc.IRTCVideo.CreateRTCRoom(
    string roomID)
```
创建房间

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| roomID | **string** | 标识通话房间的房间 ID，最大长度为 128 字节的非空字符串。支持的字符集范围为:<br/>• 26 个大写字母 A ~ Z<br/>• 26 个小写字母 a ~ z<br/>• 10 个数字 0 ~ 9<br/>• 下划线 "_", at 符 "@", 减号 "-"<br/>多房间模式下，调用创建房间接口后，请勿调用同样的 roomID 创建房间，否则会导致创建房间失败。 |
**返回值**
IRTCVideoRoom 创建的房间 IRTCVideoRoom


**注意**
+ 用户可以多次调用此方法创建多个 [IRTCVideoRoom](#irtcvideoroom) 对象，再分别调用各 IRTCVideoRoom 对象的 [JoinRoom](#IRTCVideoRoom-joinroom) 方法，实现同时加入多个房间；
+ 加入多个房间后，用户可以同时订阅各房间的音频流，同一时间仅能在一个房间内发布音频流。


<span id="IRTCVideo-muteaudiocapture"></span>
### MuteAudioCapture
```csharp
int bytertc.IRTCVideo.MuteAudioCapture(
    StreamIndex index,
    bool mute)
```
> Available since 3.58.1

设置是否将录音信号静音（不改变本端硬件）。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| index | **StreamIndex** | 流索引，指定调节主流/屏幕流音量，参看 [StreamIndex](191862#streamindex)。 |
| mute | **bool** | 是否静音音频采集。<br/>• True：静音（关闭麦克风）<br/>• False：（默认）开启麦克风 |
**返回值**
+ 0: 调用成功。
+ < 0 : 调用失败。


**注意**
+ 该方法支持选择静音或取消静音麦克风采集，而不影响 SDK 音频流发布状态。
+ 静音后通过 [SetCaptureVolume](#IRTCVideo-setcapturevolume) 调整音量不会取消静音状态，音量状态会保存至取消静音。
+ 调用 [StartAudioCapture](#IRTCVideo-startaudiocapture) 开启音频采集前后，都可以使用此接口设置采集音量。


<span id="IRTCVideo-setcapturevolume"></span>
### SetCaptureVolume
```csharp
void bytertc.IRTCVideo.SetCaptureVolume(
    StreamIndex index,
    int volume)
```
调节音频采集音量

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| index | **StreamIndex** | 流索引，指定调节主流还是调节屏幕流的音量，参看 [StreamIndex](191862#streamindex) |
| volume | **int** | 采集的音量值和原始音量的比值，范围是 [0, 400]，单位为 %，自带溢出保护。<br/>为保证更好的通话质量，建议将 volume 值设为 [0,100]。<br/>• 0：静音<br/>• 100：原始音量<br/>• 400: 最大可为原始音量的 4 倍(自带溢出保护) |

**注意**
在开启音频采集前后，你都可以使用此接口设定采集音量。

<span id="IRTCVideo-setplaybackvolume"></span>
### SetPlaybackVolume
```csharp
void bytertc.IRTCVideo.SetPlaybackVolume(
    int volume)
```
调节本地播放的所有远端用户音频混音后的音量，混音内容包括远端人声、音乐、音效等。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| volume | **int** | 播放音量，调节范围：[0,400]<br/>为保证更好的通话质量，建议将 volume 值设为 [0,100]。<br/>• 0：静音<br/>• 100：原始音量<br/>• 400: 最大可为原始音量的 4 倍(自带溢出保护) |

<span id="IRTCVideo-startaudiocapture"></span>
### StartAudioCapture
```csharp
void bytertc.IRTCVideo.StartAudioCapture();
```
开启内部音频采集。默认为关闭状态。
内部采集是指：使用 RTC SDK 内置的视频采集机制进行视频采集。
调用该方法开启后，本地用户会收到 [OnAudioDeviceStateChangedEventHandler](191860#onaudiodevicestatechangedeventhandler) 的回调。
可见用户进房后调用该方法，房间中的其他用户会收到 [OnUserStartAudioCaptureEventHandler](191860#onuserstartaudiocaptureeventhandler) 的回调。


**注意**
+ 若未取得当前设备的麦克风权限，调用该方法后会触发 [OnAudioDeviceStateChangedEventHandler](191860#onaudiodevicestatechangedeventhandler) 回调，对应的错误码为 `MediaDeviceError.kMediaDeviceErrorDeviceNoPermission = 1`。
+ 调用 [StopAudioCapture](#IRTCVideo-stopaudiocapture) 可以关闭音频采集设备，否则，SDK 只会在销毁引擎的时候自动关闭设备。
+ 创建引擎后，无论是否发布音频数据，你都可以调用该方法开启音频采集，并且调用后方可发布音频。


<span id="IRTCVideo-stopaudiocapture"></span>
### StopAudioCapture
```csharp
void bytertc.IRTCVideo.StopAudioCapture();
```
立即关闭内部音频采集。默认为关闭状态。
内部采集是指：使用 RTC SDK 内置的视频采集机制进行视频采集。
调用该方法，本地用户会收到 [OnAudioDeviceStateChangedEventHandler](191860#onaudiodevicestatechangedeventhandler) 的回调。
可见用户进房后调用该方法，房间中的其他用户会收到 [OnUserStopAudioCaptureEventHandler](191860#onuserstopaudiocaptureeventhandler) 的回调。


**注意**
+ 调用 [StartAudioCapture](#IRTCVideo-startaudiocapture) 可以开启内部音频采集设备。
+ 如果不调用本方法停止内部视频采集，则只有当销毁引擎实例时，内部音频采集才会停止。


<span id="IRTCVideo-setaudioprofile"></span>
### SetAudioProfile
```csharp
void bytertc.IRTCVideo.SetAudioProfile(
    AudioProfileType audioProfile)
```
设置音质档位。你应根据业务场景需要选择适合的音质档位。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| audioProfile | **AudioProfileType** | 音质档位，参看 [AudioProfileType](191862#audioprofiletype) |

**注意**
+ 该方法在进房前后均可调用；
+ 支持通话过程中动态切换音质档位。


<span id="IRTCVideo-setaudioscenario"></span>
### SetAudioScenario
```csharp
void bytertc.IRTCVideo.SetAudioScenario(
    AudioScenarioType scenario)
```
设置音频场景类型

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| scenario | **AudioScenarioType** | 音频场景类型，参看 [AudioScenarioType](191862#audioscenariotype)。 |

**注意**
该方法在进房前后均可调用。

<span id="IRTCVideo-enableaudiopropertiesreport"></span>
### EnableAudioPropertiesReport
```csharp
int bytertc.IRTCVideo.EnableAudioPropertiesReport(
    AudioPropertiesConfig config)
```
启用音频信息提示。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| config | **AudioPropertiesConfig** | 详见 [AudioPropertiesConfig](191862#audiopropertiesconfig) |

**注意**
开启提示后，你可以：+ 通过 [OnLocalAudioPropertiesReportEventHandler](191860#onlocalaudiopropertiesreporteventhandler) 回调获取本地麦克风和屏幕音频流采集的音频信息；
+ 通过 [OnRemoteAudioPropertiesReportEventHandler](191860#onremoteaudiopropertiesreporteventhandler) 回调获取订阅的远端用户的音频信息。


<span id="IRTCVideo-setvoicereverbtype"></span>
### SetVoiceReverbType
```csharp
int bytertc.IRTCVideo.SetVoiceReverbType(
    VoiceReverbType type)
```
设置混响特效类型

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| type | **VoiceReverbType** | 混响特效类型，参看 [VoiceReverbType](191862#voicereverbtype) |

**注意**
+ 在进房前后都可设置。
+ 对 RTC SDK 内部采集的音频和自定义采集的音频都生效。
+ 只对单声道音频生效。
+ 只在包含美声特效能力的 SDK 中有效。


<span id="IRTCVideo-setvoicechangertype"></span>
### SetVoiceChangerType
```csharp
int bytertc.IRTCVideo.SetVoiceChangerType(
    VoiceChangerType voice_changer)
```
设置变声特效类型

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| voice_changer | **VoiceChangerType** | 变声特效类型，参看 [VoiceChangerType](191862#voicechangertype)。 |
**返回值**
方法调用结果：
+ 0：成功；
+ !0：失败。


**注意**
+ 在进房前后都可设置。
+ 对 RTC SDK 内部采集的音频和自定义采集的音频都生效。
+ 只对单声道音频生效。
+ 与 [SetVoiceReverbType](#IRTCVideo-setvoicereverbtype) 互斥，后设置的特效会覆盖先设置的特效。
+ 在 Windows 端使用此功能前，必须额外接入 [音频技术](https://www.volcengine.com/docs/6489/71986)。请联系技术支持了解详情。


<span id="IRTCVideo-setlocalvoicepitch"></span>
### SetLocalVoicePitch
```csharp
int bytertc.IRTCVideo.SetLocalVoicePitch(
    int pitch)
```
开启本地语音变调功能，多用于 K 歌场景。
使用该方法，你可以对本地语音的音调进行升调或降调等调整。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| pitch | **int** | 相对于语音原始音调的升高/降低值，取值范围[-12，12]，默认值为 0，即不做调整。<br/>取值范围内每相邻两个值的音高距离相差半音，正值表示升调，负值表示降调，设置的绝对值越大表示音调升高或降低越多。<br/>超出取值范围则设置失败，并且会触发 [OnWarningEventHandler](191860#onwarningeventhandler) 回调，提示 [WarningCode](191861#warningcode) 错误码为 `WARNING_CODE_SET_SCREEN_STREAM_INVALID_VOICE_PITCH` 设置语音音调不合法 |
**返回值**
+ 0: 调用成功。
+ < 0 : 调用失败。


<span id="IRTCVideo-setlocalvoiceequalization"></span>
### SetLocalVoiceEqualization
```csharp
int bytertc.IRTCVideo.SetLocalVoiceEqualization(
    VoiceEqualizationConfig config)
```
设置本地采集语音的均衡效果。包含内部采集和外部采集，但不包含混音音频文件。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| config | **VoiceEqualizationConfig** | 语音均衡效果，参看 [VoiceEqualizationConfig](191862#voiceequalizationconfig) |
**返回值**
+ 0： 成功。
+ < 0： 失败。


**注意**
根据奈奎斯特采样率，音频采样率必须大于等于设置的中心频率的两倍，否则，设置不生效。

<span id="IRTCVideo-setlocalvoicereverbparam"></span>
### SetLocalVoiceReverbParam
```csharp
int bytertc.IRTCVideo.SetLocalVoiceReverbParam(
    VoiceReverbConfig param)
```
设置本地采集音频的混响效果。包含内部采集和外部采集，但不包含混音音频文件。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| param | **VoiceReverbConfig** | 混响效果，参看 [VoiceReverbConfig](191862#voicereverbconfig) |
**返回值**
+ 0： 成功。
+ < 0： 失败。


**注意**
调用 [EnableLocalVoiceReverb](#IRTCVideo-enablelocalvoicereverb) 开启混响效果。

<span id="IRTCVideo-enablelocalvoicereverb"></span>
### EnableLocalVoiceReverb
```csharp
int bytertc.IRTCVideo.EnableLocalVoiceReverb(
    bool enable)
```
开启本地音效混响效果

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| enable | **bool** | 是否开启 |
**返回值**
+ 0： 成功。
+ < 0： 失败。


**注意**
调用 [SetLocalVoiceReverbParam](#IRTCVideo-setlocalvoicereverbparam) 设置混响效果。

<span id="IRTCVideo-setdummycaptureimagepath"></span>
### SetDummyCaptureImagePath
```csharp
int bytertc.IRTCVideo.SetDummyCaptureImagePath(
    string file_path)
```
摄像头处于关闭状态时，使用静态图片填充本地推送的视频流。
调用 `stopVideoCapture` 接口时，会开始推静态图片。若要停止发送图片，可传入空字符串或启用内部摄像头采集。
可重复调用该接口来更新图片。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| file_path | **string** | 设置静态图片的路径。<br/>支持本地文件绝对路径，不支持网络链接，长度限制为 512 字节。<br/>静态图片支持类型为 JPEG/JPG、PNG、BMP。<br/>若图片宽高比与设置的编码宽高比不一致，图片会按编码高宽等比缩放，并裁剪长边。推流帧率与码率与设置的编码参数一致。 |
**返回值**
+ 0: 成功。
+ -1: 失败。


**注意**
+ 该接口只适用于 SDK 内部摄像头采集，不适用于自定义视频采集。
+ 本地预览无法看到静态图片。
+ 进入房间前后均可调用此方法。在多房间场景中，静态图片仅在发布的房间中生效。
+ 针对该静态图片，滤镜和镜像效果不生效，水印效果生效。
+ 只有主流能设置静态图片，屏幕流不支持设置。
+ 开启大小流后，静态图片对大小流均生效，且针对小流进行等比例缩小。


<span id="IRTCVideo-setvideocapturerotation"></span>
### SetVideoCaptureRotation
```csharp
int bytertc.IRTCVideo.SetVideoCaptureRotation(
    VideoRotation rotation)
```
设置本端采集的视频帧的旋转角度。
当摄像头倒置或者倾斜安装时，可调用本接口进行调整。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| rotation | **VideoRotation** | 相机朝向角度，默认为 `kVideoRotation0`，无旋转角度。详见 [VideoRotation](191862#videorotation)。 |
**返回值**
+ 0: 调用成功。
+ < 0 : 调用失败。


**注意**
+ 调用本接口也将对自定义采集视频画面生效，在原有的旋转角度基础上叠加本次设置。
+ 视频贴纸特效或通过 [EnableVirtualBackground](#IRTCVideo-enablevirtualbackground) 增加的虚拟背景，也会跟随本接口的设置进行旋转。


<span id="IRTCVideo-setvideowatermark"></span>
### SetVideoWatermark
```csharp
int bytertc.IRTCVideo.SetVideoWatermark(
    StreamIndex stream_index,
    string image_path,
    RTCWatermarkConfig config)
```
在指定视频流上添加水印。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| stream_index | **StreamIndex** | 需要添加水印的视频流属性，参看 [StreamIndex](191862#streamindex)。 |
| image_path | **string** | 水印图片路径，仅支持本地文件绝对路径，长度限制为 512 字节。<br/>水印图片为 PNG 或 JPG 格式。 |
| config | **RTCWatermarkConfig** | 水印参数，参看 [RTCWatermarkConfig](191862#rtcwatermarkconfig)。 |
**返回值**
+ 0: 调用成功。
+ < 0 : 调用失败。


**注意**
+ 调用 [ClearVideoWatermark](#IRTCVideo-clearvideowatermark) 移除指定视频流的水印。
+ 同一路流只能设置一个水印，新设置的水印会代替上一次的设置。你可以多次调用本方法来设置不同流的水印。
+ 若开启本地预览镜像，或开启本地预览和编码传输镜像，则远端水印均不镜像；在开启本地预览水印时，本端水印会镜像。
+ 开启大小流后，水印对大小流均生效，且针对小流进行等比例缩小。


<span id="IRTCVideo-clearvideowatermark"></span>
### ClearVideoWatermark
```csharp
int bytertc.IRTCVideo.ClearVideoWatermark(
    StreamIndex stream_index)
```
移除指定视频流的水印。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| stream_index | **StreamIndex** | 需要移除水印的视频流属性，参看 [StreamIndex](191862#streamindex)。 |
**返回值**
+ 0: 调用成功。
+ < 0 : 调用失败。


<span id="IRTCVideo-enableeffectbeauty"></span>
### EnableEffectBeauty
```csharp
int bytertc.IRTCVideo.EnableEffectBeauty(
    bool enable)
```
开启/关闭基础美颜。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| enable | **bool** | 基础美颜开关<br/>• true: 开启基础美颜<br/>• false: 关闭基础美颜（默认） |
**返回值**
+ 0: 调用成功。
+ –1000: 未集成特效 SDK。
+ –1001: RTC SDK 版本不支持此功能。
+ –1002: 特效 SDK 当前版本不支持此功能，建议使用特效 SDK v4.4.2+ 版本。
+ –1003: 联系技术支持人员。
+ –1004: 正在下载相关资源，下载完成后生效。
+ <0: 调用失败，特效 SDK 内部错误，具体错误码请参考[错误码表](https://www.volcengine.com/docs/6705/102042)。


**注意**
+ 本方法不能与高级视频特效接口共用。如已购买高级视频特效，建议参看[集成指南](https://www.volcengine.com/docs/6348/114717)使用高级美颜、特效、贴纸功能等。
+ 使用此功能需要集成特效 SDK，建议使用特效 SDK v4.4.2+ 版本。更多信息参看 [Native 端基础美颜](https://www.volcengine.com/docs/6348/372605)。
+ 调用 [SetBeautyIntensity](#IRTCVideo-setbeautyintensity) 设置基础美颜强度。若在调用本方法前没有设置美颜强度，则使用默认强度。各基础美颜模式的强度默认值分别为：美白 0.7，磨皮 0.8，锐化 0.5，清晰 0.7。
+ 本方法仅适用于视频源，不适用于屏幕源。


<span id="IRTCVideo-setbeautyintensity"></span>
### SetBeautyIntensity
```csharp
int bytertc.IRTCVideo.SetBeautyIntensity(
    EffectBeautyMode beauty_mode,
    float intensity)
```
调整基础美颜强度。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| beauty_mode | **EffectBeautyMode** | 基础美颜模式，参看 [EffectBeautyMode](191862#effectbeautymode)。 |
| intensity | **float** | 美颜强度，取值范围为 [0,1]。强度为 0 表示关闭。<br/>各基础美颜模式的强度默认值分别为：美白 0.7，磨皮 0.8，锐化 0.5，清晰 0.7。 |
**返回值**
+ 0: 调用成功。
+ –1000: 未集成特效 SDK。
+ –1001: RTC SDK 版本不支持此功能。
+ <0: 调用失败，特效 SDK 内部错误，具体错误码请参考[错误码表](https://www.volcengine.com/docs/6705/102042)。


**注意**
+ 若在调用 [EnableEffectBeauty](#IRTCVideo-enableeffectbeauty) 前设置美颜强度，则对应美颜功能的强度初始值会根据设置更新。
+ 销毁引擎后，美颜功能强度恢复默认值。


<span id="IRTCVideo-getauthmessage"></span>
### GetAuthMessage
```csharp
int bytertc.IRTCVideo.GetAuthMessage(
    ref IntPtr ppmsg,
    ref int len)
```
从特效 SDK 获取授权消息，用于获取在线许可证。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| ppmsg | **ref IntPtr** | 指向授权消息字符串地址 |
| len | **ref int** | 授权消息字符串的长度 |
**返回值**
+ 0: 调用成功。
+ –1000: 未集成特效 SDK。
+ –1001: 特效 SDK 不支持该功能。
+ –1002: 特效 SDK 版本不兼容。
+ < 0: 调用失败，错误码对应具体描述参看 [错误码表](https://www.volcengine.com/docs/6705/102042)。


**注意**
+ 使用视频特效的功能前，你必须获取特效 SDK 的在线许可证。
+ 通过此接口获取授权消息后，你必须参考 [在线授权说明](https://www.volcengine.com/docs/6705/102012) 自行实现获取在线许可证的业务逻辑。获取许可证后，你必须调用 [InitCVResource](#IRTCVideo-initcvresource) 确认许可证有效。然后，你才可以使用 CV 功能。
+ 获取授权消息后，调用 [FreeAuthMessage](#IRTCVideo-freeauthmessage) 释放内存。


<span id="IRTCVideo-freeauthmessage"></span>
### FreeAuthMessage
```csharp
int bytertc.IRTCVideo.FreeAuthMessage(
    string pmsg)
```
使用完授权消息字符串后，释放内存。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| pmsg | **string** | getAuthMessage 返回的授权消息字符串。 |
**返回值**
+ 0: 调用成功。
+ –1000: 未集成特效 SDK。
+ –1001: 特效 SDK 不支持该功能。
+ –1002: 特效 SDK 版本不兼容。
+ < 0: 调用失败，错误码对应具体描述参看 [错误码表](https://www.volcengine.com/docs/6705/102042)。


<span id="IRTCVideo-initcvresource"></span>
### InitCVResource
```csharp
int bytertc.IRTCVideo.InitCVResource(
    string license_file_path,
    string algo_model_dir)
```
检查视频特效证书，设置算法模型路径，并初始化特效模块。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| license_file_path | **string** | 证书文件的绝对路径，用于鉴权。 |
| algo_model_dir | **string** | 算法模型绝对路径，即存放特效 SDK 所有算法模型的目录。 |
**返回值**
+ 0: 调用成功。
+ –1000: 未集成特效 SDK。
+ –1002: 特效 SDK 版本不兼容。
+ < 0: 调用失败，错误码对应具体描述参看 [错误码表](https://www.volcengine.com/docs/6705/102042)。


<span id="IRTCVideo-enablevideoeffect"></span>
### EnableVideoEffect
```csharp
int bytertc.IRTCVideo.EnableVideoEffect();
```
开启高级美颜、滤镜等视频特效。

**返回值**
+ 0: 调用成功。
+ –1000: 未集成特效 SDK。
+ –1001: 特效 SDK 不支持该功能。
+ –1002: 特效 SDK 版本不兼容。
+ < 0: 调用失败，错误码对应具体描述参看 [错误码表](https://www.volcengine.com/docs/6705/102042)。


**注意**
+ 调用本方法前，必须先调用 [InitCVResource](#IRTCVideo-initcvresource) 进行初始化。
+ 调用该方法后，特效不直接生效，你还需调用 [SetEffectNodes](#IRTCVideo-seteffectnodes) 设置视频特效素材包或调用 [SetColorFilter](#IRTCVideo-setcolorfilter) 设置滤镜。
+ 调用 [DisableVideoEffect](#IRTCVideo-disablevideoeffect) 关闭视频特效。


<span id="IRTCVideo-disablevideoeffect"></span>
### DisableVideoEffect
```csharp
int bytertc.IRTCVideo.DisableVideoEffect();
```
关闭视频特效。

**返回值**
+ 0: 调用成功。
+ –1000: 未集成特效 SDK。
+ –1001: 特效 SDK 不支持该功能。
+ –1002: 特效 SDK 版本不兼容。
+ < 0: 调用失败，错误码对应具体描述参看 [错误码表](https://www.volcengine.com/docs/6705/102042)。


**注意**
调用 [EnableVideoEffect](#IRTCVideo-enablevideoeffect) 开启视频特效。

<span id="IRTCVideo-seteffectnodes"></span>
### SetEffectNodes
```csharp
int bytertc.IRTCVideo.SetEffectNodes(
    string[] effect_node_paths,
    int node_num)
```
设置视频特效素材包。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| effect_node_paths | **string[]** | 特效素材包绝对路径数组。<br/>要取消当前视频特效，将此参数设置为 null。 |
| node_num | **int** | 特效素材包个数。 |
**返回值**
+ 0: 调用成功。
+ –1000: 未集成特效 SDK。
+ –1001: 特效 SDK 不支持该功能。
+ –1002: 特效 SDK 版本不兼容。
+ < 0: 调用失败，错误码对应具体描述参看 [错误码表](https://www.volcengine.com/docs/6705/102042)。


**注意**
调用本方法前，必须先调用 [EnableVideoEffect](#IRTCVideo-enablevideoeffect)。

<span id="IRTCVideo-updateeffectnode"></span>
### UpdateEffectNode
```csharp
int bytertc.IRTCVideo.UpdateEffectNode(
    string effect_node_path,
    string node_key,
    float node_value)
```
设置特效强度。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| effect_node_path | **string** | 特效素材包绝对路径，参考[素材包结构说明](https://www.volcengine.com/docs/6705/102039)。 |
| node_key | **string** | 需要设置的素材 key 名称，参考[素材 key 对应说明](https://www.volcengine.com/docs/6705/102041)。 |
| node_value | **float** | 特效强度值，取值范围 [0,1]，超出范围时设置无效。 |
**返回值**
+ 0: 调用成功。
+ –1000: 未集成特效 SDK。
+ –1001: 特效 SDK 不支持该功能。
+ –1002: 特效 SDK 版本不兼容。
+ < 0: 调用失败，错误码对应具体描述参看 [错误码表](https://www.volcengine.com/docs/6705/102042)。


<span id="IRTCVideo-setcolorfilter"></span>
### SetColorFilter
```csharp
int bytertc.IRTCVideo.SetColorFilter(
    string res_path)
```
设置颜色滤镜。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| res_path | **string** | 滤镜资源包绝对路径。 |
**返回值**
+ 0: 调用成功。
+ –1000: 未集成特效 SDK。
+ –1001: 特效 SDK 不支持该功能。
+ –1002: 特效 SDK 版本不兼容。
+ < 0: 调用失败，错误码对应具体描述参看 [错误码表](https://www.volcengine.com/docs/6705/102042)。


**注意**
调用 [SetColorFilterIntensity](#IRTCVideo-setcolorfilterintensity) 设置已启用颜色滤镜的强度。设置强度为 0 时即关闭颜色滤镜。

<span id="IRTCVideo-setcolorfilterintensity"></span>
### SetColorFilterIntensity
```csharp
int bytertc.IRTCVideo.SetColorFilterIntensity(
    float intensity)
```
设置已启用颜色滤镜的强度。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| intensity | **float** | 滤镜强度。取值范围 [0,1]，超出范围时设置无效。<br/>当设置滤镜强度为 0 时即关闭颜色滤镜。 |
**返回值**
+ 0: 调用成功。
+ –1000: 未集成特效 SDK。
+ –1001: 特效 SDK 不支持该功能。
+ –1002: 特效 SDK 版本不兼容。
+ < 0: 调用失败，错误码对应具体描述参看 [错误码表](https://www.volcengine.com/docs/6705/102042)。


<span id="IRTCVideo-enablevirtualbackground"></span>
### EnableVirtualBackground
```csharp
int bytertc.IRTCVideo.EnableVirtualBackground(
    string background_sticker_path,
    VirtualBackgroundSource source)
```
将摄像头采集画面中的人像背景替换为指定图片或纯色背景。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| background_sticker_path | **string** | 背景贴纸特效素材绝对路径。 |
| source | **VirtualBackgroundSource** | 背景贴纸对象，参看 [VirtualBackgroundSource](191862#virtualbackgroundsource)。 |
**返回值**
+ 0: 调用成功。
+ –1000: 未集成特效 SDK。
+ –1001: 特效 SDK 不支持该功能。
+ –1002: 特效 SDK 版本不兼容。
+ < 0: 调用失败，错误码对应具体描述参看 [错误码表](https://www.volcengine.com/docs/6705/102042)。


**注意**
+ 调用本方法前，必须先调用 [InitCVResource](#IRTCVideo-initcvresource) 进行初始化。
+ 调用 [DisableVirtualBackground](#IRTCVideo-disablevirtualbackground) 关闭虚拟背景。


<span id="IRTCVideo-disablevirtualbackground"></span>
### DisableVirtualBackground
```csharp
int bytertc.IRTCVideo.DisableVirtualBackground();
```
关闭虚拟背景。

**返回值**
+ 0: 调用成功。
+ –1000: 未集成特效 SDK。
+ –1001: 特效 SDK 不支持该功能。
+ –1002: 特效 SDK 版本不兼容。
+ < 0: 调用失败，错误码对应具体描述参看 [错误码表](https://www.volcengine.com/docs/6705/102042)。


**注意**
调用 [EnableVirtualBackground](#IRTCVideo-enablevirtualbackground) 开启虚拟背景后，可以调用此接口关闭虚拟背景。

<span id="IRTCVideo-videosdkenablefacedetection"></span>
### VideoSDKEnableFaceDetection
```csharp
int bytertc.IRTCVideo.VideoSDKEnableFaceDetection(
    uint interval_ms,
    string face_model_path)
```
开启人脸识别功能，并设置人脸检测结果回调观察者。
此观察者后，你会周期性收到 [OnFaceDetectResultEventHandler](191860#onfacedetectresulteventhandler) 回调。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| interval_ms | **uint** | 两次回调之间的最小时间间隔，必须大于 0，单位为毫秒。实际收到回调的时间间隔大于 interval_ms，小于 interval_ms+视频采集帧间隔。 |
| face_model_path | **string** | 人脸检测算法模型文件路径，一般为 ttfacemodel 文件夹中 tt_face_vXXX.model 文件的绝对路径。 |
**返回值**
+ 0: 调用成功。
+ –1000: 未集成特效 SDK。
+ –1001: 特效 SDK 不支持该功能。
+ –1002: 特效 SDK 版本不兼容。
+ -1004: 初始化中，初始化完成后启动此功能。
+ < 0: 调用失败，错误码对应具体描述参看 [错误码表](https://www.volcengine.com/docs/6705/102042)。


<span id="IRTCVideo-videosdkdisablefacedetection"></span>
### VideoSDKDisableFaceDetection
```csharp
int bytertc.IRTCVideo.VideoSDKDisableFaceDetection();
```
关闭人脸识别功能。

**返回值**
+ 0: 调用成功。
+ –1000: 未集成特效 SDK。
+ –1001: 特效 SDK 不支持该功能。
+ –1002: 特效 SDK 版本不兼容。
+ < 0: 调用失败，错误码对应具体描述参看 [错误码表](https://www.volcengine.com/docs/6705/102042)。


<span id="IRTCVideo-setvideodigitalzoomconfig"></span>
### SetVideoDigitalZoomConfig
```csharp
int bytertc.IRTCVideo.SetVideoDigitalZoomConfig(
    ZoomConfigType type,
    float size)
```
> Available since 3.51

设置本地摄像头数码变焦参数，包括缩放倍数，移动步长。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| type | **ZoomConfigType** | 数码变焦参数类型，缩放系数或移动步长。参看 [ZoomConfigType](191862#zoomconfigtype)。必填。 |
| size | **float** | 缩放系数或移动步长，保留到小数点后三位。默认值为 0。必填。<br/>选择不同 `type` 时有不同的取值范围。当计算后的结果超过缩放和移动边界时，取临界值。<br/>• `kZoomConfigTypeFocusOffset`：缩放系数增量，范围为 [0, 7]。例如，设置为 0.5 时，如果调用 [SetVideoDigitalZoomControl](#IRTCVideo-setvideodigitalzoomcontrol) 选择 Zoom in，则缩放系数增加 0.5。缩放系数范围 [1，8]，默认为 `1`，原始大小。<br/>• `kZoomConfigTypeMoveOffset`：移动百分比，范围为 [0, 0.5]，默认为 0，不移动。如果调用 [SetVideoDigitalZoomControl](#IRTCVideo-setvideodigitalzoomcontrol) 选择的是左右移动，则移动距离为 size x 原始视频宽度；如果选择的是上下移动，则移动距离为 size x 原始视频高度。例如，视频帧边长为 1080 px，设置为 0.5 时，实际移动距离为 0.5 x 1080 px = 540 px。 |
**返回值**
+ 0：成功。
+ !0：失败。
@note
+ 每次调用本接口只能设置一种参数。如果缩放系数和移动步长都需要设置，分别调用本接口传入相应参数。
+ 由于移动步长的默认值为 `0` ，在调用 [SetVideoDigitalZoomControl](#IRTCVideo-setvideodigitalzoomcontrol) 或 [StartVideoDigitalZoomControl](#IRTCVideo-startvideodigitalzoomcontrol) 进行数码变焦操作前，应先调用本接口。


<span id="IRTCVideo-setvideodigitalzoomcontrol"></span>
### SetVideoDigitalZoomControl
```csharp
int bytertc.IRTCVideo.SetVideoDigitalZoomControl(
    ZoomDirectionType direction)
```
> Available since 3.51

控制本地摄像头数码变焦，缩放或移动一次。设置对本地预览画面和发布到远端的视频都生效。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| direction | **ZoomDirectionType** | 数码变焦操作类型，参看 [ZoomDirectionType](191862#zoomdirectiontype)。 |
**返回值**
+ 0：成功。
+ !0：失败。
@note
+ 由于默认步长为 `0`，调用该方法前需通过 [SetVideoDigitalZoomConfig](#IRTCVideo-setvideodigitalzoomconfig) 设置参数。
+ 调用该方法进行移动前，应先使用本方法或 [StartVideoDigitalZoomControl](#IRTCVideo-startvideodigitalzoomcontrol) 进行放大，否则无法移动。
+ 当数码变焦操作超出范围时，将置为临界值。例如，移动到了图片边界、放大到了 8 倍、缩小到原图大小。
+ 如果你希望实现持续数码变焦操作，调用 [StartVideoDigitalZoomControl](#IRTCVideo-startvideodigitalzoomcontrol)。
+ 移动端可对摄像头进行光学变焦控制，参看 `setCameraZoomRatio`。


<span id="IRTCVideo-startvideodigitalzoomcontrol"></span>
### StartVideoDigitalZoomControl
```csharp
int bytertc.IRTCVideo.StartVideoDigitalZoomControl(
    ZoomDirectionType direction)
```
> Available since 3.51

开启本地摄像头持续数码变焦，缩放或移动。设置对本地预览画面和发布到远端的视频都生效。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| direction | **ZoomDirectionType** | 数码变焦操作类型，参看 [ZoomDirectionType](191862#zoomdirectiontype)。 |
**返回值**
+ 0：成功。
+ !0：失败。


**注意**
+ 由于默认步长为 `0`，调用该方法前需通过 [SetVideoDigitalZoomConfig](#IRTCVideo-setvideodigitalzoomconfig) 设置参数。
+ 调用该方法进行移动前，应先使用本方法或 [SetVideoDigitalZoomControl](#IRTCVideo-setvideodigitalzoomcontrol) 进行放大，否则无法移动。
+ 当数码变焦操作超出范围时，将置为临界值并停止操作。例如，移动到了图片边界、放大到了 8 倍、缩小到原图大小。
+ 你也可以调用 [StopVideoDigitalZoomControl](#IRTCVideo-stopvideodigitalzoomcontrol) 手动停止控制。
+ 如果你希望实现单次数码变焦操作，调用 [SetVideoDigitalZoomControl](#IRTCVideo-setvideodigitalzoomcontrol)。
+ 移动端可对摄像头进行光学变焦控制，参看 `setCameraZoomRatio`。


<span id="IRTCVideo-stopvideodigitalzoomcontrol"></span>
### StopVideoDigitalZoomControl
```csharp
int bytertc.IRTCVideo.StopVideoDigitalZoomControl();
```
> Available since 3.51

停止本地摄像头持续数码变焦。

**返回值**
+ 0：成功。
+ !0：失败。


**注意**
关于开始数码变焦，参看 [StartVideoDigitalZoomControl](#IRTCVideo-startvideodigitalzoomcontrol)。

<span id="IRTCVideo-setearmonitormode"></span>
### SetEarMonitorMode
```csharp
void bytertc.IRTCVideo.SetEarMonitorMode(
    EarMonitorMode mode)
```
打开/关闭耳返功能。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| mode | **EarMonitorMode** | 耳返功能是否开启，详见 [EarMonitorMode](191862#earmonitormode)。 |

**注意**
+ 你必须在使用 RTC SDK 提供的内部音频采集功能时，使用耳返功能。
+ 耳返功能仅在连接了有线耳机时有效。
+ RTC SDK 支持硬件耳返和软件耳返。一般来说，硬件耳返的时延和音质等效果明显更佳。
+ 使用华为手机硬件耳返功能时，请添加[华为硬件耳返的依赖配置](https://www.volcengine.com/docs/6348/1155036#%E5%A6%82%E4%BD%95%E5%9C%A8%E5%8D%8E%E4%B8%BA%E6%89%8B%E6%9C%BA%E4%BD%BF%E7%94%A8%E7%A1%AC%E4%BB%B6%E8%80%B3%E8%BF%94%E5%8A%9F%E8%83%BD%EF%BC%9F)
+ 关于你的应用能否使用硬件耳返功能，你需要联系终端厂商进行确认和开启白名单。此后，你必须联系技术支持同学，在 RTC 侧开启硬件耳返白名单。


<span id="IRTCVideo-setearmonitorvolume"></span>
### SetEarMonitorVolume
```csharp
void bytertc.IRTCVideo.SetEarMonitorVolume(
    int volume)
```
设置耳返音量。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| volume | **int** | 耳返音量，调节范围：[0,100]，单位：% |

**注意**
设置耳返音量前，你必须先调用 [SetEarMonitorMode](#IRTCVideo-setearmonitormode) 打开耳返功能。

<span id="IRTCVideo-enablevocalinstrumentbalance"></span>
### EnableVocalInstrumentBalance
```csharp
void bytertc.IRTCVideo.EnableVocalInstrumentBalance(
    bool enable)
```
开启/关闭音量均衡功能。
开启音量均衡功能后，人声的响度会调整为 -16lufs。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| enable | **bool** | 是否开启音量均衡功能：<br/>• True: 是<br/>• False: 否 |

<span id="IRTCVideo-setremoteaudioplaybackvolume"></span>
### SetRemoteAudioPlaybackVolume
```csharp
int bytertc.IRTCVideo.SetRemoteAudioPlaybackVolume(
    string roomID,
    string userID,
    int volume)
```
调节来自指定远端用户的音频播放音量，默认为 100。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| userID | **string** | 音频来源的远端用户 ID |
| volume | **int** | 播放音量，调节范围：[0,400]<br/>• 0: 静音<br/>• 100: 原始音量<br/>• 400: 最大可为原始音量的 4 倍(自带溢出保护) |

<span id="IRTCVideo-setdefaultaudioroute"></span>
### SetDefaultAudioRoute
```csharp
int bytertc.IRTCVideo.SetDefaultAudioRoute(
    AudioRouteDevice route)
```
将默认的音频播放设备设置为听筒或扬声器。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| route | **AudioRouteDevice** | 音频播放设备。参看 [AudioRouteDevice](191862#audioroutedevice)。仅支持听筒或扬声器。 |
**返回值**
+ 0: 方法调用成功。
+ < 0: 方法调用失败。


**注意**
对于音频路由切换逻辑，参见[移动端设置音频路由](https://www.volcengine.com/docs/6348/117836)。

<span id="IRTCVideo-setaudioroute"></span>
### SetAudioRoute
```csharp
int bytertc.IRTCVideo.SetAudioRoute(
    AudioRouteDevice device)
```
设置当前音频播放路由。
音频播放路由发生变化时，会收到 [OnAudioRouteChangedEventHandler](191860#onaudioroutechangedeventhandler) 回调。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| device | **AudioRouteDevice** | 音频播放路由，参见 [AudioRouteDevice](191862#audioroutedevice)。<br/>不支持 `AudioRouteUnknown`。<br/>当音量类型为媒体音量时，此参数不可设置为 `AudioRouteEarpiece`；当音量模式为通话音量时，此参数不可设置为 `AudioRouteHeadsetBluetooth` 或 `AudioRouteHeadsetUSB`。 |
**返回值**
+ 0: 方法调用成功
+ < 0: 方法调用失败。失败原因参看 [MediaDeviceWarning](191862#mediadevicewarning) 回调。指定为 `kAudioRouteUnknown` 时将会失败。


**注意**
+ 连接有线或者蓝牙音频播放设备后，音频路由将自动切换至此设备。
+ 移除后，音频设备会自动切换回原设备。
+ 不同音频场景中，音频路由和发布订阅状态到音量类型的映射关系详见 [AudioScenarioType](191862#audioscenariotype)。


<span id="IRTCVideo-getaudioroute"></span>
### GetAudioRoute
```csharp
AudioRouteDevice bytertc.IRTCVideo.GetAudioRoute();
```
获取当前使用的音频播放路由。

**返回值**
详见 [AudioRouteDevice](191862#audioroutedevice)


**注意**
要设置音频路由，详见 [SetAudioRoute](#IRTCVideo-setaudioroute)。

<span id="IRTCVideo-enableaudioframecallback"></span>
### EnableAudioFrameCallback
```csharp
int bytertc.IRTCVideo.EnableAudioFrameCallback(
    AudioFrameCallbackMethod method,
    AudioFormat format)
```
设置并开启指定的音频数据帧回调

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| method | **AudioFrameCallbackMethod** | 音频回调方法，方法对应的回调名称参看 [AudioFrameCallbackMethod](191862#audioframecallbackmethod)。每次调用本接口设置一种回调。<br/>当音频回调方法设置为 `kAudioFrameCallbackRecord`、`kAudioFrameCallbackPlayback`、`kAudioFrameCallbackMixed`、`kAudioFrameCallbackRecordScreen`时，你需要在参数 `format` 中指定准确的采样率和声道，暂不支持设置为自动。<br/>当音频回调方法设置为 `kAudioFrameCallbackRemoteUser`时，暂不支持音频参数格式中设置准确的采样率和声道，你需要设置为自动。 |
| format | **AudioFormat** | 音频参数格式，参看 [AudioFormat](191862#audioformat)。 |
**返回值**
+ 0: 调用成功。
+ < 0 : 调用失败。


<span id="IRTCVideo-disableaudioframecallback"></span>
### DisableAudioFrameCallback
```csharp
int bytertc.IRTCVideo.DisableAudioFrameCallback(
    AudioFrameCallbackMethod method)
```
关闭音频回调

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| method | **AudioFrameCallbackMethod** | 音频回调方法，参看 [AudioFrameCallbackMethod](191862#audioframecallbackmethod)。 |
**返回值**
+ 0: 调用成功。
+ < 0 : 调用失败。


**注意**
该方法需要在调用 [EnableAudioFrameCallback](#IRTCVideo-enableaudioframecallback) 之后调用。

<span id="IRTCVideo-startaudiorecording"></span>
### StartAudioRecording
```csharp
int bytertc.IRTCVideo.StartAudioRecording(
    AudioRecordingConfig config)
```
开启录制语音通话，生成本地文件。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| config | **AudioRecordingConfig** | 参看 [AudioRecordingConfig](191862#audiorecordingconfig) |
**返回值**
+ 0: 正常
+ -2: 参数设置异常
+ -3: 当前版本 SDK 不支持该特性，请联系技术支持人员


**注意**
+ 录制包含各种音频效果。但不包含混音的背景音乐。
+ 调用 [StopAudioRecording](#IRTCVideo-stopaudiorecording) 关闭录制。
+ 加入房间后才可调用。如果加入了多个房间，录制的文件中会包含各个房间的音频。离开最后一个房间后，录制任务自动停止。
+ 调用该方法后，你会收到 [OnAudioRecordingStateUpdateEventHandler](191860#onaudiorecordingstateupdateeventhandler) 回调。


<span id="IRTCVideo-stopaudiorecording"></span>
### StopAudioRecording
```csharp
int bytertc.IRTCVideo.StopAudioRecording();
```
停止音频文件录制

**返回值**
+ 0: 正常
+ -3: 当前版本 SDK 不支持该特性，请联系技术支持人员


**注意**
调用 [StartAudioRecording](#IRTCVideo-startaudiorecording) 开启本地录制后，你必须调用该方法停止录制。

<span id="IRTCVideo-sendstreamsyncinfo"></span>
### SendStreamSyncInfo
```csharp
int bytertc.IRTCVideo.SendStreamSyncInfo(
    byte[] data,
    int length,
    int stream_index,
    int repeat_count)
```
发送音频流同步信息。将消息通过音频流发送到远端，并实现与音频流同步，该接口调用成功后，远端用户会收到 [OnStreamSyncInfoReceivedEventHandler](191860#onstreamsyncinforeceivedeventhandler) 回调。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| data | **byte[]** | 消息内容。 |
| length | **int** | 消息长度。取值范围是 [1,255] 字节，建议小于 16 字节，否则可能占用较大带宽。 |
| stream_index | **int** | 指定携带 SEI 数据的媒体流类型，参看 [StreamIndex](191862#streamindex)。<br/>语音通话场景下，该值需设为 `kStreamIndexMain`，否则 SEI 数据会被丢弃从而无法送达远端。 |
| repeat_count | **int** | 消息发送重复次数。取值范围是 [0, max{29, %{视频帧率}-1}]。推荐范围 [2,4]。<br/>调用此接口后，SEI 数据会添加到从当前视频帧开始的连续 `repeat_count+1` 个视频帧中。 |
**返回值**
+ \>=0: 消息发送成功。返回成功发送的次数。
+ -1: 消息发送失败。消息长度大于 255 字节。
+ -2: 消息发送失败。传入的消息内容为空。
+ -3: 消息发送失败。通过屏幕流进行消息同步时，此屏幕流还未发布。
+ -4: 消息发送失败。通过用麦克风或自定义设备采集到的音频流进行消息同步时，此音频流还未发布，详见错误码 [ErrorCode](191861#errorcode)。


**注意**
+ 调用本接口的频率建议不超过 50 次每秒。
+ 在 `kRoomProfileTypeInteractivePodcast` 房间模式下，此消息一定会送达。在其他房间模式下，如果本地用户未说话，此消息不一定会送达。


<span id="IRTCVideo-sendseimessage"></span>
### SendSEIMessage
```csharp
int bytertc.IRTCVideo.SendSEIMessage(
    byte[] data,
    int length,
    int stream_index,
    int repeat_count,
    int sei_mode)
```
通过视频帧发送 SEI 数据。
在视频通话场景下，SEI 数据会随视频帧发送；在语音通话场景下，SDK 会自动生成一路 16px × 16px 的黑帧视频流用来发送 SEI 数据。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| data | **byte[]** | SEI 消息。 |
| length | **int** | SEI 消息长度，建议每帧 SEI 数据总长度长度不超过 4 KB。 |
| stream_index | **int** | 指定携带 SEI 数据的媒体流类型，参看 [StreamIndex](191862#streamindex)。<br/>语音通话场景下，该值需设为 `kStreamIndexMain`，否则 SEI 数据会被丢弃从而无法送达远端。 |
| repeat_count | **int** | 消息发送重复次数。取值范围是 [0, max{29, %{视频帧率}-1}]。推荐范围 [2,4]。<br/>调用此接口后，SEI 数据会添加到从当前视频帧开始的连续 `repeat_count+1` 个视频帧中。 |
| sei_mode | **int** | SEI 发送模式。<br/>• 0: 单发模式。即在 1 帧间隔内多次发送 SEI 数据时，多个 SEI 按队列逐帧发送。<br/>• 1: 多发模式。即在 1 帧间隔内多次发送 SEI 数据时，多个 SEI 随下个视频帧同时发送。 |
**返回值**
+ \>= 0: 将被添加到视频帧中的 SEI 的数量。
+ < 0: 发送失败。


**注意**
+ 每秒发送的 SEI 消息数量建议不超过当前的视频帧率。在语音通话场景下，黑帧帧率为 15 fps。
+ 语音通话场景中，仅支持在内部采集模式下调用该接口发送 SEI 数据。
+ 视频通话场景中，使用自定义采集并通过 [PushExternalVideoFrame](#IRTCVideo-pushexternalvideoframe) 推送至 SDK 的视频帧，若本身未携带 SEI 数据，也可通过本接口发送 SEI 数据；若原视频帧中已添加了 SEI 数据，则调用此方法不生效。
+ 视频帧仅携带前后 2s 内收到的 SEI 数据；语音通话场景下，若调用此接口后 1min 内未有 SEI 数据发送，则 SDK 会自动取消发布视频黑帧。
+ 消息发送成功后，远端会收到 [OnSEIMessageReceivedEventHandler](191860#onseimessagereceivedeventhandler) 回调。
+ 语音通话切换至视频通话时，会停止使用黑帧发送 SEI 数据，自动转为用采集到的正常视频帧发送 SEI 数据。
+ SEI PayLoadType 需为 `5` 或 `100`。


<span id="IRTCVideo-enableaudioprocessor"></span>
### EnableAudioProcessor
```csharp
int bytertc.IRTCVideo.EnableAudioProcessor(
    AudioProcessorMethod method,
    AudioFormat format)
```
设置并开启指定的音频帧回调，进行自定义处理。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| method | **AudioProcessorMethod** | 音频帧类型，参看 [AudioProcessorMethod](191862#audioprocessormethod)。可多次调用此接口，处理不同类型的音频帧。<br/>选择不同类型的音频帧将收到对应的回调：<br/>• 选择本地采集的音频时，会收到 [OnProcessRecordAudioFrameEventHandler](191860#onprocessrecordaudioframeeventhandler)。<br/>• 选择远端音频流的混音音频时，会收到 [OnProcessPlaybackAudioFrameEventHandler](191860#onprocessplaybackaudioframeeventhandler)。<br/>• 选择远端音频流时，会收到 [OnProcessRemoteUserAudioFrameEventHandler](191860#onprocessremoteuseraudioframeeventhandler)。<br/>• 选择软件耳返音频时，会收到 [OnProcessEarMonitorAudioFrameEventHandler](191860#onprocessearmonitoraudioframeeventhandler)。<br/>• 选择屏幕共享音频流时，会收到 [OnProcessScreenAudioFrameEventHandler](191860#onprocessscreenaudioframeeventhandler)。 |
| format | **AudioFormat** | 设定自定义处理时获取的音频帧格式，参看 [AudioFormat](191862#audioformat)。 |
**返回值**
+ 0: 调用成功。
+ < 0 : 调用失败。


**注意**
要关闭音频自定义处理，调用 [DisableAudioProcessor](#IRTCVideo-disableaudioprocessor)。

<span id="IRTCVideo-disableaudioprocessor"></span>
### DisableAudioProcessor
```csharp
int bytertc.IRTCVideo.DisableAudioProcessor(
    AudioProcessorMethod method)
```
关闭自定义音频处理。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| method | **AudioProcessorMethod** | 音频帧类型，参看 [AudioProcessorMethod](191862#audioprocessormethod)。 |
**返回值**
+ 0: 调用成功。
+ < 0 : 调用失败。


<span id="IRTCVideo-getaudiodevicemanager"></span>
### GetAudioDeviceManager
```csharp
IAudioDeviceManager bytertc.IRTCVideo.GetAudioDeviceManager();
```
获取音频设备管理接口，该接口依赖引擎

**返回值**
音频设备管理接口


<span id="IRTCVideo-getvideodevicemanager"></span>
### GetVideoDeviceManager
```csharp
IVideoDeviceManager bytertc.IRTCVideo.GetVideoDeviceManager();
```
获取视频设备管理接口

**返回值**
视频设备管理接口


<span id="IRTCVideo-startvideocapture"></span>
### StartVideoCapture
```csharp
void bytertc.IRTCVideo.StartVideoCapture();
```
立即开启内部视频采集。默认为关闭状态。
内部视频采集指：使用 RTC SDK 内置视频采集模块，进行采集。
调用该方法后，本地用户会收到 [OnVideoDeviceStateChangedEventHandler](191860#onvideodevicestatechangedeventhandler) 的回调。
本地用户在非隐身状态下调用该方法后，房间中的其他用户会收到 [OnUserStartVideoCaptureEventHandler](191860#onuserstartvideocaptureeventhandler) 的回调。


**注意**
+ 调用 [StopVideoCapture](#IRTCVideo-stopvideocapture) 可以停止内部视频采集。否则，只有当销毁引擎实例时，内部视频采集才会停止。
+ 创建引擎后，无论是否发布视频数据，你都可以调用该方法开启内部视频采集。只有当（内部或外部）视频采集开始以后视频流才会发布。
+ 如果需要从自定义视频采集切换为内部视频采集，你必须先停止发布流，关闭自定义采集，再调用此方法手动开启内部采集。
+ 内部视频采集使用的摄像头由 [SwitchCamera](#IRTCVideo-switchcamera) 接口指定。
+ 你还可以联系技术支持同学，帮助你在服务端配置采集格式并下发到 Android 端。


<span id="IRTCVideo-stopvideocapture"></span>
### StopVideoCapture
```csharp
void bytertc.IRTCVideo.StopVideoCapture();
```
立即关闭内部视频采集。默认为关闭状态。
内部视频采集指：使用 RTC SDK 内置视频采集模块，进行采集。
调用该方法，本地用户会收到 [OnVideoDeviceStateChangedEventHandler](191860#onvideodevicestatechangedeventhandler) 的回调。
可见用户进房后调用该方法，房间中的其他用户会收到 [OnUserStopVideoCaptureEventHandler](191860#onuserstopvideocaptureeventhandler) 的回调。


**注意**
+ 调用 [StartVideoCapture](#IRTCVideo-startvideocapture) 可以开启内部视频采集。
+ 如果不调用本方法停止内部视频采集，则只有当销毁引擎实例时，内部视频采集才会停止。


<span id="IRTCVideo-setvideocaptureconfig"></span>
### SetVideoCaptureConfig
```csharp
int bytertc.IRTCVideo.SetVideoCaptureConfig(
    VideoCaptureConfig videoCaptureConfig)
```
设置 RTC SDK 内部采集时的视频采集参数。
如果你的项目使用了 SDK 内部采集模块，可以通过本接口指定视频采集参数包括模式、分辨率、帧率。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| videoCaptureConfig | **VideoCaptureConfig** | 视频采集参数。参看 [VideoCaptureConfig](191862#videocaptureconfig)。 |
**返回值**
+ 0: 成功
+ < 0: 失败


**注意**
+ 本接口在引擎创建后即可调用，建议在调用 [StartVideoCapture](#IRTCVideo-startvideocapture) 前调用本接口。
+ 建议同一设备上的不同 Engine 使用相同的视频采集参数。
+ 如果调用本接口前使用内部模块开始视频采集，采集参数默认为 Auto 模式。


<span id="IRTCVideo-setvideoencoderconfig1"></span>
### SetVideoEncoderConfig1
```csharp
int bytertc.IRTCVideo.SetVideoEncoderConfig1(
    VideoEncoderConfig maxSolution)
```
视频发布端设置期望发布的最大分辨率视频流参数，包括分辨率、帧率、码率、缩放模式、网络不佳时的回退策略等。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| maxSolution | **VideoEncoderConfig** | 期望发布的最大分辨率视频流参数。参看 [VideoEncoderConfig](191862#videoencoderconfig)。 |
**返回值**
+ 0：成功
+ !0：失败


**注意**
+ 调用该方法设置多路视频流参数前，SDK 默认仅发布一条分辨率为 640px × 360px，帧率为 15fps 的视频流。
+ 该方法适用于摄像头采集的视频流，设置屏幕共享视频流参数参看 [SetScreenVideoEncoderConfig](#IRTCVideo-setscreenvideoencoderconfig)。


<span id="IRTCVideo-setscreenvideoencoderconfig"></span>
### SetScreenVideoEncoderConfig
```csharp
int bytertc.IRTCVideo.SetScreenVideoEncoderConfig(
    ScreenVideoEncoderConfig screenSolution)
```
为发布的屏幕共享视频流设置期望的编码参数，包括分辨率、帧率、码率、缩放模式、网络不佳时的回退策略等。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| screenSolution | **ScreenVideoEncoderConfig** | 屏幕共享视频流参数。参看 [ScreenVideoEncoderConfig](191862#screenvideoencoderconfig)。 |
**返回值**
方法调用结果：
0：成功
!0：失败


**注意**
调用该方法之前，屏幕共享视频流默认的编码参数为：分辨率 1920px × 1080px，帧率 15fps。

<span id="IRTCVideo-setvideosourcetype"></span>
### SetVideoSourceType
```csharp
void bytertc.IRTCVideo.SetVideoSourceType(
    StreamIndex streamIndex,
    VideoSourceType type)
```
设置向 SDK 输入的视频源，包括屏幕流。
默认使用内部采集。内部采集指：使用 RTC SDK 内置的视频采集机制进行视频采集。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| streamIndex | **StreamIndex** | 视频流的属性，参看 [StreamIndex](191862#streamindex)。 |
| type | **VideoSourceType** | 视频输入源类型，参看 [VideoSourceType](191862#videosourcetype)。 |

**注意**
+ 该方法进房前后均可调用。
+ 当你已调用 [StartVideoCapture](#IRTCVideo-startvideocapture) 开启内部采集后，再调用此方法切换至自定义采集时，SDK 会自动关闭内部采集。
+ 当你调用此方法开启自定义采集后，想要切换至内部采集，你必须先调用此方法关闭自定义采集，然后调用 [StartVideoCapture](#IRTCVideo-startvideocapture) 手动开启内部采集。
+ 当你需要向 SDK 推送自定义编码后的视频帧，你需调用该方法将视频源切换至自定义编码视频源。


<span id="IRTCVideo-setlocalvideomirrortype"></span>
### SetLocalVideoMirrorType
```csharp
void bytertc.IRTCVideo.SetLocalVideoMirrorType(
    MirrorType mirrorType)
```
为采集到的视频流开启镜像

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| mirrorType | **MirrorType** | 镜像类型，参看 [MirrorType](191862#mirrortype) |

**注意**
+ 切换视频源不影响镜像设置。
+ 屏幕视频流始终不受镜像设置影响。
+ 该接口调用前，各视频源的初始状态如下：
<table>
<tr><th></th><th>前置摄像头</th><th>后置摄像头</th><th>自定义采集视频源</th> <th>桌面端摄像头</th> </tr>
<tr><td>移动端</td><td>本地预览镜像，编码传输不镜像</td><td> 本地预览不镜像，编码传输不镜像 </td><td> 本地预览不镜像，编码传输不镜像 </td><td>/</td></tr>
<tr><td>桌面端</td><td>/</td><td>/</td><td> 本地预览不镜像，编码传输不镜像 </td><td> 本地预览镜像，编码传输不镜像 </td></tr>
</table>


<span id="IRTCVideo-setvideorotationmode"></span>
### SetVideoRotationMode
```csharp
int bytertc.IRTCVideo.SetVideoRotationMode(
    VideoRotationMode rotationMode)
```
设置采集视频的旋转模式。默认以 App 方向为旋转参考系。
接收端渲染视频时，将按照和发送端相同的方式进行旋转。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| rotationMode | **VideoRotationMode** | 视频旋转参考系为 App 方向或重力方向，参看 [VideoRotationMode](191862#videorotationmode) |
**返回值**
+ 0:设置成功
+ <0:设置失败


**注意**
+ 旋转仅对内部视频采集生效，不适用于外部视频源和屏幕源。
+ 调用该接口时已开启视频采集，将立即生效；调用该接口时未开启视频采集，则将在采集开启后生效。
+ 更多信息请参考[视频采集方向](106458)。


<span id="IRTCVideo-setlocalvideosink"></span>
### SetLocalVideoSink
```csharp
void bytertc.IRTCVideo.SetLocalVideoSink(
    StreamIndex index,
    VideoSinkPixelFormat requiredFormat)
```
将本地视频流与自定义渲染器绑定。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| index | **StreamIndex** | 视频流属性。采集的视频流/屏幕视频流，参看 [StreamIndex](191862#streamindex) |
| requiredFormat | **VideoSinkPixelFormat** | videoSink 适用的视频帧编码格式，参看 [VideoSinkPixelFormat](191862#videosinkpixelformat) |

**注意**
+ RTC SDK 默认使用自带的渲染器（内部渲染器）进行视频渲染。
+ 进退房操作不会影响绑定状态。
+ 一般在收到 [OnFirstLocalVideoFrameCapturedEventHandler](191860#onfirstlocalvideoframecapturedeventhandler) 回调通知完成本地视频首帧采集后，调用此方法为视频流绑定自定义渲染器；然后加入房间。


<span id="IRTCVideo-setremotevideosink"></span>
### SetRemoteVideoSink
```csharp
void bytertc.IRTCVideo.SetRemoteVideoSink(
    RemoteStreamKey streamKey,
    VideoSinkPixelFormat requiredFormat)
```
将远端视频流与自定义渲染器绑定。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| streamKey | **RemoteStreamKey** | 远端流信息，用于指定需要渲染的视频流来源及属性，参看 [RemoteStreamKey](191862#remotestreamkey) |
| requiredFormat | **VideoSinkPixelFormat** | videoSink 适用的视频帧编码格式，参看 [VideoSinkPixelFormat](191862#videosinkpixelformat) |

**注意**
+ RTC SDK 默认使用 RTC SDK 自带的渲染器（内部渲染器）进行视频渲染。
+ 该方法进房前后均可以调用。若想在进房前调用，你需要在加入房间前获取远端流信息；若无法预先获取远端流信息，你可以在加入房间并通过 [OnUserPublishStreamEventHandler](191860#onuserpublishstreameventhandler) 回调获取到远端流信息之后，再调用该方法。


<span id="IRTCVideo-getscreencapturesourcelist"></span>
### GetScreenCaptureSourceList
```csharp
IScreenCaptureSourceList bytertc.IRTCVideo.GetScreenCaptureSourceList();
```
获取共享对象(应用窗口和桌面)列表, 使用完之后需要调用对应的 release 接口释放

**返回值**
屏幕共享对象列表，参看 [IScreenCaptureSourceList](#iscreencapturesourcelist)


**注意**
+ 枚举的窗体可作为开启屏幕共享时的输入参数，详见：[StartScreenVideoCapture](#IRTCVideo-startscreenvideocapture)
+ 本函数仅供PC端使用


<span id="IRTCVideo-startscreenvideocapture"></span>
### StartScreenVideoCapture
```csharp
int bytertc.IRTCVideo.StartScreenVideoCapture(
    ScreenCaptureSourceInfo sourceInfo,
    ScreenCaptureParameters captureParams)
```
使用 RTC SDK 提供的采集模块，采集当前屏幕视频流，用于共享。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| sourceInfo | **ScreenCaptureSourceInfo** | 屏幕共享对象信息。参看 [ScreenCaptureSourceInfo](191862#screencapturesourceinfo)。 |
| captureParams | **ScreenCaptureParameters** | 屏幕采集参数。参看 [ScreenCaptureParameters](191862#screencaptureparameters)。 |
**返回值**
+ 0 :开启成功
+ -1 :开启失败


**注意**
+ 调用此方法仅开启屏幕流视频采集，不会发布采集到的视频。发布屏幕流视频需要调用 [PublishScreen](#IRTCVideoRoom-publishscreen)。
+ 要关闭屏幕视频源采集，调用 [StopScreenVideoCapture](#IRTCVideo-stopscreenvideocapture)。
+ 调用成功后，本端会收到 [OnFirstLocalVideoFrameCapturedEventHandler](191860#onfirstlocalvideoframecapturedeventhandler) 回调。
+ 调用此接口前，你可以调用 [SetVideoEncoderConfig1](#IRTCVideo-setvideoencoderconfig1) 设置屏幕视频流的采集帧率和编码分辨率。


<span id="IRTCVideo-stopscreenvideocapture"></span>
### StopScreenVideoCapture
```csharp
void bytertc.IRTCVideo.StopScreenVideoCapture();
```
停止屏幕视频流采集。

**返回值**
+ 0 :调用成功
+ -1 :调用失败


**注意**
调用此接口不影响屏幕视频流发布状态。

<span id="IRTCVideo-updatescreencaptureregion"></span>
### UpdateScreenCaptureRegion
```csharp
void bytertc.IRTCVideo.UpdateScreenCaptureRegion(
    Rectangle regionRect)
```
通过 RTC SDK 提供的采集模块采集屏幕视频流时，更新采集区域。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| regionRect | **Rectangle** | 采集区域。参见 [Rectangle](191862#rectangle)<br/>此参数描述了调用此接口后的采集区域，和 [StartScreenVideoCapture](#IRTCVideo-startscreenvideocapture) 中 `source_info` 设定区域的相对关系。 |

**注意**
调用此接口前，必须已通过调用 [StartScreenVideoCapture](#IRTCVideo-startscreenvideocapture) 开启了内部屏幕流采集。

<span id="IRTCVideo-updatescreencapturehighlightconfig"></span>
### UpdateScreenCaptureHighlightConfig
```csharp
void bytertc.IRTCVideo.UpdateScreenCaptureHighlightConfig(
    HighlightConfig highlightConfig)
```
通过 RTC SDK 提供的采集模块采集屏幕视频流时，更新边框高亮设置。默认展示表框。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| highlightConfig | **HighlightConfig** | 边框高亮设置。参见 [HighlightConfig](191862#highlightconfig) |

**注意**
调用此接口前，必须已通过调用 [StartScreenVideoCapture](#IRTCVideo-startscreenvideocapture) 开启了内部屏幕流采集。

<span id="IRTCVideo-updatescreencapturemousecursor"></span>
### UpdateScreenCaptureMouseCursor
```csharp
void bytertc.IRTCVideo.UpdateScreenCaptureMouseCursor(
    MouseCursorCaptureState captureMouseCursor)
```
通过 RTC SDK 提供的采集模块采集屏幕视频流时，更新对鼠标的处理设置。默认采集鼠标。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| captureMouseCursor | **MouseCursorCaptureState** | 参看 [MouseCursorCaptureState](191862#mousecursorcapturestate) |

**注意**
调用此接口前，必须已通过调用 [StartScreenVideoCapture](#IRTCVideo-startscreenvideocapture) 开启了内部屏幕流采集。

<span id="IRTCVideo-updatescreencapturefilterconfig"></span>
### UpdateScreenCaptureFilterConfig
```csharp
void bytertc.IRTCVideo.UpdateScreenCaptureFilterConfig(
    ScreenFilterConfig filterConfig)
```
通过 RTC SDK 提供的采集模块采集屏幕视频流时，设置需要过滤的窗口。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| filterConfig | **ScreenFilterConfig** | 窗口过滤设置，参看 [ScreenFilterConfig](191862#screenfilterconfig) |

**注意**
+ 调用此接口前，必须已通过调用 [StartScreenVideoCapture](#IRTCVideo-startscreenvideocapture) 开启了内部屏幕流采集。
+ 本函数在屏幕源类别是屏幕而非应用窗体时才起作用。详见：[ScreenCaptureSourceType](191862#screencapturesourcetype)


<span id="IRTCVideo-getthumbnail"></span>
### GetThumbnail
```csharp
VideoFrame bytertc.IRTCVideo.GetThumbnail(
    ScreenCaptureSourceType type,
    IntPtr sourceID,
    int maxWidth,
    int maxHeight)
```
获取共享对象缩略图

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| type | **ScreenCaptureSourceType** | 屏幕采集对象的类型。详见 [ScreenCaptureSourceType](191862#screencapturesourcetype)。 |
| sourceID | **IntPtr** | 指向屏幕共享对象的 ID。 |
| maxWidth | **int** | 最大宽度 |
| maxHeight | **int** | 最大高度 |

<span id="IRTCVideo-setscreenaudiosourcetype"></span>
### SetScreenAudioSourceType
```csharp
void bytertc.IRTCVideo.SetScreenAudioSourceType(
    AudioSourceType sourceType)
```
在屏幕共享时，设置屏幕音频的采集方式（内部采集/自定义采集）

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| sourceType | **AudioSourceType** | 屏幕音频输入源类型, 参看 [AudioSourceType](191862#audiosourcetype)。 |

**注意**
+ 默认采集方式是 RTC SDK 内部采集。
+ 你应该在 [PublishScreen](#IRTCVideoRoom-publishscreen) 前，调用此方法。否则，你将收到 [OnWarningEventHandler](191860#onwarningeventhandler) 的报错：`WARNING_CODE_SET_SCREEN_AUDIO_SOURCE_TYPE_FAILED`。
+ 如果设定为内部采集，你必须再调用 [StartScreenVideoCapture](#IRTCVideo-startscreenvideocapture) 开始采集。
+ 如果设定为自定义采集，你必须再调用 [PushScreenAudioFrame](#IRTCVideo-pushscreenaudioframe) 将自定义采集到的屏幕音频帧推送到 RTC SDK。
+ 无论是内部采集还是自定义采集，你都必须调用 [PublishScreen](#IRTCVideoRoom-publishscreen) 发布采集到的屏幕音频流。


<span id="IRTCVideo-setscreenaudiostreamindex"></span>
### SetScreenAudioStreamIndex
```csharp
void bytertc.IRTCVideo.SetScreenAudioStreamIndex(
    StreamIndex index)
```
在屏幕共享时，设置屏幕音频流和麦克风采集到的音频流的混流方式

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| index | **StreamIndex** | 混流方式，参看 [StreamIndex](191862#streamindex)<br/>• `kStreamIndexMain`: 将屏幕音频流和麦克风采集到的音频流混流<br/>• `kStreamIndexScreen`: 将屏幕音频流和麦克风采集到的音频流分为两路音频流 |

**注意**
你应该在 [PublishScreen](#IRTCVideoRoom-publishscreen) 之前，调用此方法。否则，你将收到 [OnWarningEventHandler](191860#onwarningeventhandler) 的报错：`WARNING_CODE_SET_SCREEN_STREAM_INDEX_FAILED`

<span id="IRTCVideo-startscreenaudiocapture"></span>
### StartScreenAudioCapture
```csharp
void bytertc.IRTCVideo.StartScreenAudioCapture();
```
在屏幕共享时，开始使用 RTC SDK 内部采集方式，采集屏幕音频


**注意**
+ 本接口仅对内部采集生效，RTC SDK 默认使用内部采集模块采集屏幕音频。若已调用 [SetScreenAudioSourceType](#IRTCVideo-setscreenaudiosourcetype) 将音频输入源设置为 `kAudioSourceTypeExternal` 自定义采集，需先切换为 `kAudioSourceTypeInternal` 内部采集，否则该接口调用无效，并将触发 [OnAudioDeviceWarningEventHandler](191860#onaudiodevicewarningeventhandler) 回调。
+ 采集后，你还需要调用 [PublishScreen](#IRTCVideoRoom-publishscreen) 将采集到的屏幕音频推送到远端。
+ 要关闭屏幕音频内部采集，调用 [StopScreenAudioCapture](#IRTCVideo-stopscreenaudiocapture)。


<span id="IRTCVideo-stopscreenaudiocapture"></span>
### StopScreenAudioCapture
```csharp
void bytertc.IRTCVideo.StopScreenAudioCapture();
```
在屏幕共享时，停止使用 RTC SDK 内部采集方式，采集屏幕音频。


**注意**
+ 要开始屏幕音频内部采集，调用 [StartScreenAudioCapture](#IRTCVideo-startscreenaudiocapture)。
+ 此接口暂不支持。


<span id="IRTCVideo-startscreencapture"></span>
### StartScreenCapture
```csharp
void bytertc.IRTCVideo.StartScreenCapture(
    ScreenMediaType type,
    string bundleId)
```
使用 RTC SDK 内部采集模块开始采集屏幕音频流和（或）视频流。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| type | **ScreenMediaType** | 媒体类型，参看 [ScreenMediaType](191862#screenmediatype)。 |
| bundleId | **string** | 绑定 Extension 的 Bundle ID，绑定后在应用中，共享屏幕的选择列表中只展示你的 Extension 可供选择。 |

**注意**
+ 调用本接口时，采集模式应为内部模式。在外部采集模式下调用无效，并将触发 [OnVideoDeviceWarningEventHandler](191860#onvideodevicewarningeventhandler) 回调。
+ 当从 iOS 控制中心发起屏幕采集时无需调用本方法。
+ 采集后，你还需要调用 [PublishScreen](#IRTCVideoRoom-publishscreen) 发布采集到的屏幕音视频。
+ 开启屏幕音频/视频采集成功后，本地用户会收到 [OnVideoDeviceStateChangedEventHandler](191860#onvideodevicestatechangedeventhandler) 回调。


<span id="IRTCVideo-pushscreenaudioframe"></span>
### PushScreenAudioFrame
```csharp
int bytertc.IRTCVideo.PushScreenAudioFrame(
    AudioFrame frame)
```
使用自定义采集方式，采集屏幕共享时的屏幕音频时，将音频帧推送至 RTC SDK 处进行编码等处理。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| frame | **AudioFrame** | 音频数据帧，参见 [AudioFrame](191862#audioframe) |
**返回值**
+ 0: 成功。
+ < 0: 失败。


**注意**
+ 调用此接口推送屏幕共享时的自定义采集的音频数据前，必须调用 [SetScreenAudioSourceType](#IRTCVideo-setscreenaudiosourcetype) 开启屏幕音频自定义采集。
+ 你应每隔 10 毫秒，调用一次此方法推送一次自定义采集的音频帧。一次推送的音频帧中应包含 frame.sample_rate / 100 个音频采样点。比如，假如采样率为 48000Hz，则每次应该推送 480 个采样点。
+ 音频采样格式为 S16。音频缓冲区内的数据格式必须为 PCM 数据，其容量大小应该为 samples × frame.channel × 2。
+ 调用此接口将自定义采集的音频帧推送到 RTC SDK 后，你必须调用 [PublishScreen](#IRTCVideoRoom-publishscreen) 将采集到的屏幕音频推送到远端。在调用 [PublishScreen](#IRTCVideoRoom-publishscreen) 前，推送到 RTC SDK 的音频帧信息会丢失。


<span id="IRTCVideo-switchcamera"></span>
### SwitchCamera
```csharp
int bytertc.IRTCVideo.SwitchCamera(
    CameraID cameraId)
```
切换视频内部采集时使用的前置/后置摄像头
调用此接口后，在本地会触发 [OnVideoDeviceStateChangedEventHandler](191860#onvideodevicestatechangedeventhandler) 回调。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| cameraId | **CameraID** | Camera ID，移动端摄像头。参看 [CameraID](191862#cameraid)。 |
**返回值**
+ 0：成功
+ !0：失败


**注意**
+ 默认使用前置摄像头。
+ 如果你正在使用相机进行视频采集，切换操作当即生效；如果相机未启动，后续开启内部采集时，会打开设定的摄像头。
+ 如果本地有多个摄像头且想选择特定工作摄像头可通过 [IVideoDeviceManager](#ivideodevicemanager) 来控制。


<span id="IRTCVideo-pushexternalaudioframe"></span>
### PushExternalAudioFrame
```csharp
int bytertc.IRTCVideo.PushExternalAudioFrame(
    AudioFrame frame)
```
推送自定义采集的音频数据到 RTC SDK。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| frame | **AudioFrame** | 音频数据帧，参看 [AudioFrame](191862#audioframe)。 |
**返回值**
+ 0: 成功
+ < 0: 失败


**注意**
+ 推送自定义采集的音频数据前，必须先调用 [SetAudioSourceType](#IRTCVideo-setaudiosourcetype) 开启自定义采集。
+ 你必须每隔 10 毫秒推送一次外部采集的音频数据。单次推送的 samples (音频采样点个数）应该为 audioFrame.sampleRate / 100。比如设置采样率为 48000 时， 每次应该推送 480 个采样点。
+ 音频采样格式必须为 S16。音频缓冲区内的数据格式必须为 PCM，其容量大小应该为 audioFrame.samples × audioFrame.channel × 2。


<span id="IRTCVideo-setaudiosourcetype"></span>
### SetAudioSourceType
```csharp
void bytertc.IRTCVideo.SetAudioSourceType(
    AudioSourceType sourceType)
```
切换音频采集方式

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| sourceType | **AudioSourceType** | 音频数据源，参看 [AudioSourceType](191862#audiosourcetype)。<br/>默认使用内部音频采集。音频采集和渲染方式无需对应。 |
**返回值**
+ \>0: 成功。
+ -1：失败。


**注意**
+ 进房前后调用此方法均有效。
+ 如果你调用此方法由内部采集切换至自定义采集，SDK 会自动关闭内部采集。然后，调用 [PushExternalAudioFrame](#IRTCVideo-pushexternalaudioframe) 推送自定义采集的音频数据到 RTC SDK 用于传输。
+ 如果你调用此方法由自定义采集切换至内部采集，你必须再调用 [StartAudioCapture](#IRTCVideo-startaudiocapture) 手动开启内部采集。


<span id="IRTCVideo-pushexternalvideoframe"></span>
### PushExternalVideoFrame
```csharp
int bytertc.IRTCVideo.PushExternalVideoFrame(
    VideoFrame frame)
```
推送外部视频帧。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| frame | **VideoFrame** | 视频帧的数据信息，参看 [VideoFrame](191862#videoframe)。 |
**返回值**
+ 0: 成功
+ -1: 失败


**注意**
+ 该方法主动将视频帧数据用 [VideoFrame](191862#videoframe) 类封装后传递给 SDK。
+ 请确保在你调用本方法前已调用 [SetVideoSourceType](#IRTCVideo-setvideosourcetype) 设置为自定义视频采集。
+ 当使用纹理数据时， 确保 createEngine中的 `eglContext`与 `frame` 中的 `eglContext` 为 `sharedContext` 或者相同，否则会无法编码


<span id="IRTCVideo-pushscreenvideoframe"></span>
### PushScreenVideoFrame
```csharp
int bytertc.IRTCVideo.PushScreenVideoFrame(
    VideoFrame frame)
```
推送屏幕视频帧

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| frame | **VideoFrame** | 视频帧 [VideoFrame](191862#videoframe) |
**返回值**
+ 0 :调用成功
+ -1 :调用失败


# IRTCVideoRoom
```csharp
public interface bytertc.IRTCVideoRoom
```

房间接口


`Defined in : IRTCVideoRoom.cs`

## 成员函数
| 返回 | 名称 |
| --- | --- |
| **void** | [Destroy](#IRTCVideoRoom-destroy) |
| **int** | [JoinRoom](#IRTCVideoRoom-joinroom) |
| **void** | [LeaveRoom](#IRTCVideoRoom-leaveroom) |
| **void** | [UpdateToken](#IRTCVideoRoom-updatetoken) |
| **void** | [SetUserVisibility](#IRTCVideoRoom-setuservisibility) |
| **void** | [PublishStream](#IRTCVideoRoom-publishstream) |
| **void** | [UnpublishStream](#IRTCVideoRoom-unpublishstream) |
| **void** | [PublishScreen](#IRTCVideoRoom-publishscreen) |
| **void** | [UnpublishScreen](#IRTCVideoRoom-unpublishscreen) |
| **void** | [SubscribeStream](#IRTCVideoRoom-subscribestream) |
| **void** | [UnsubscribeStream](#IRTCVideoRoom-unsubscribestream) |
| **int** | [StartForwardStreamToRooms](#IRTCVideoRoom-startforwardstreamtorooms) |
| **int** | [StopForwardStreamToRooms](#IRTCVideoRoom-stopforwardstreamtorooms) |
| **int** | [UpdateForwardStreamToRooms](#IRTCVideoRoom-updateforwardstreamtorooms) |
| **int** | [PauseForwardStreamToAllRooms](#IRTCVideoRoom-pauseforwardstreamtoallrooms) |
| **int** | [ResumeForwardStreamToAllRooms](#IRTCVideoRoom-resumeforwardstreamtoallrooms) |
| **int** | [SetMultiDeviceAVSync](#IRTCVideoRoom-setmultideviceavsync) |
| **void** | [SubscribeScreen](#IRTCVideoRoom-subscribescreen) |
| **void** | [UnsubscribeScreen](#IRTCVideoRoom-unsubscribescreen) |
| **void** | [PauseAllSubscribedStream](#IRTCVideoRoom-pauseallsubscribedstream) |
| **void** | [ResumeAllSubscribedStream](#IRTCVideoRoom-resumeallsubscribedstream) |
| **int** | [SubscribeAllStreams](#IRTCVideoRoom-subscribeallstreams) |
| **int** | [UnsubscribeAllStreams](#IRTCVideoRoom-unsubscribeallstreams) |
| **IRangeAudio** | [GetRangeAudio](#IRTCVideoRoom-getrangeaudio) |
| **ISpatialAudio** | [GetSpatialAudio](#IRTCVideoRoom-getspatialaudio) |
| **long** | [SendUserMessage](#IRTCVideoRoom-sendusermessage) |
| **long** | [SendRoomMessage](#IRTCVideoRoom-sendroommessage) |

## 函数说明
<span id="IRTCVideoRoom-destroy"></span>
### Destroy
```csharp
void bytertc.IRTCVideoRoom.Destroy();
```
退出并销毁调用 [CreateRTCRoom](#IRTCVideo-creatertcroom) 所创建的房间。


<span id="IRTCVideoRoom-joinroom"></span>
### JoinRoom
```csharp
int bytertc.IRTCVideoRoom.JoinRoom(
    string token,
    UserInfo info,
    MultiRoomConfig roomConfig)
```
加入房间。
调用 [CreateRTCRoom](#IRTCVideo-creatertcroom) 创建房间后，调用此方法加入房间，同房间内其他用户进行音视频通话。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| token | **string** | 动态密钥，用于对进房用户进行鉴权验证。<br/>进入房间需要携带 Token。测试时可使用控制台生成临时 Token，正式上线需要使用密钥 SDK 在你的服务端生成并下发 Token。<br/>使用不同 AppID 的 App 是不能互通的。<br/>请务必保证生成 Token 使用的 AppID 和创建引擎时使用的 AppID 相同，否则会导致加入房间失败。 |
| info | **UserInfo** | 用户信息。参看 [UserInfo](191862#userinfo)。 |
| roomConfig | **MultiRoomConfig** | 房间参数配置，设置房间模式以及是否自动发布或订阅流。具体配置模式参看 [MultiRoomConfig](191862#multiroomconfig)。 |
**返回值**
+  0: 成功。
+ -1: 参数无效。
+ -2: 已经在房间内。接口调用成功后，只要收到返回值为 0，且未调用 [LeaveRoom](#IRTCVideoRoom-leaveroom) 成功，则再次调用进房接口时，无论填写的房间 ID 和用户 ID 是否重复，均触发此返回值。
+ -3: room 为空。


**注意**
+ 同一个 App ID 的同一个房间内，每个用户的用户 ID 必须是唯一的。如果两个用户的用户 ID 相同，则后进房的用户会将先进房的用户踢出房间，并且先进房的用户会收到 [OnRoomStateChangedEventHandler](191860#onroomstatechangedeventhandler) 回调通知。
+ 本地用户调用此方法加入房间成功后，会收到 [OnRoomStateChangedEventHandler](191860#onroomstatechangedeventhandler) 回调通知。
+ 本地用户调用 [SetUserVisibility](#IRTCVideoRoom-setuservisibility) 将自身设为可见后加入房间，远端用户会收到 [OnUserJoinedEventHandler](191860#onuserjoinedeventhandler) 回调通知。
+ 用户加入房间成功后，在本地网络状况不佳的情况下，SDK 可能会与服务器失去连接，此时 SDK 将会自动重连。重连成功后，本地会收到 [OnRoomStateChangedEventHandler](191860#onroomstatechangedeventhandler) 回调通知；如果加入房间的用户是可见用户，远端用户会收到 [OnUserJoinedEventHandler](191860#onuserjoinedeventhandler) 回调通知。


<span id="IRTCVideoRoom-leaveroom"></span>
### LeaveRoom
```csharp
void bytertc.IRTCVideoRoom.LeaveRoom();
```
离开房间。
用户调用此方法离开房间，结束通话过程，释放所有通话相关的资源。


**注意**
+ 调用 [JoinRoom](#IRTCVideoRoom-joinroom) 方法加入房间后，必须调用此方法结束通话，否则无法开始下一次通话。无论当前是否在房间内，都可以调用此方法。重复调用此方法没有负面影响。
+ 此方法是异步操作，调用返回时并没有真正退出房间。真正退出房间后，本地会收到 [OnLeaveRoomEventHandler](191860#onleaveroomeventhandler) 回调通知。
+ 调用 [SetUserVisibility](#IRTCVideoRoom-setuservisibility) 将自身设为可见的用户离开房间后，房间内其他用户会收到 [OnUserLeaveEventHandler](191860#onuserleaveeventhandler) 回调通知。
+ 如果调用此方法后立即销毁引擎，SDK 将无法触发 [OnLeaveRoomEventHandler](191860#onleaveroomeventhandler) 回调。


<span id="IRTCVideoRoom-updatetoken"></span>
### UpdateToken
```csharp
void bytertc.IRTCVideoRoom.UpdateToken(
    string token)
```
更新 Token。
收到 [OnTokenWillExpireEventHandler](191860#ontokenwillexpireeventhandler) 时，你必须重新获取 Token，并调用此方法更新 Token，以保证通话的正常进行。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| token | **string** | 重新获取的有效 Token。<br/>如果 Token 无效，你会收到 [OnRoomStateChangedEventHandler](191860#onroomstatechangedeventhandler)，错误码是 `-1010`。 |

<span id="IRTCVideoRoom-setuservisibility"></span>
### SetUserVisibility
```csharp
void bytertc.IRTCVideoRoom.SetUserVisibility(
    bool enable)
```
设置用户可见性。默认可见。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| enable | **bool** | 设置用户是否对房间内其他用户可见：<br/>• true: 可以在房间内发布音视频流，房间中的其他用户将收到用户的行为通知，例如进房、开启视频采集和退房。<br/>• false: 不可以在房间内发布音视频流，房间中的其他用户不会收到用户的行为通知，例如进房、开启视频采集和退房。 |

**注意**
+ 该方法在加入房间前后均可调用。
+ 在房间内调用此方法，房间内其他用户会收到相应的回调通知：
- 从 false 切换至 true 时，房间内其他用户会收到 [OnUserJoinedEventHandler](191860#onuserjoinedeventhandler) 回调通知；
- 从 true 切换至 false 时，房间内其他用户会收到 [OnUserLeaveEventHandler](191860#onuserleaveeventhandler) 回调通知。
+ 若调用该方法将可见性设为 false，此时尝试发布流会收到 `WARNING_CODE_PUBLISH_STREAM_FORBIDEN` 警告。


<span id="IRTCVideoRoom-publishstream"></span>
### PublishStream
```csharp
void bytertc.IRTCVideoRoom.PublishStream(
    MediaStreamType type)
```
在当前所在房间内发布本地通过摄像头/麦克风采集的媒体流

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| type | **MediaStreamType** | 媒体流类型，用于指定发布音频/视频，参看 [MediaStreamType](191862#mediastreamtype) |

**注意**
+ 调用 [SetUserVisibility](#IRTCVideoRoom-setuservisibility) 方法将自身设置为不可见后无法调用该方法，需将自身切换至可见后方可调用该方法发布摄像头音视频流。
+ 如果你需要发布屏幕共享流，调用 [PublishScreen](#IRTCVideoRoom-publishscreen)。
+ 调用此方法后，房间中的所有远端用户会收到 [OnUserPublishStreamEventHandler](191860#onuserpublishstreameventhandler) 回调通知，其中成功收到了音频流的远端用户会收到 [OnFirstRemoteAudioFrameEventHandler](191860#onfirstremoteaudioframeeventhandler) 回调，订阅了视频流的远端用户会收到 [OnFirstRemoteVideoFrameDecodedEventHandler](191860#onfirstremotevideoframedecodedeventhandler) 回调。
+ 调用 [UnpublishStream](#IRTCVideoRoom-unpublishstream) 取消发布。


<span id="IRTCVideoRoom-unpublishstream"></span>
### UnpublishStream
```csharp
void bytertc.IRTCVideoRoom.UnpublishStream(
    MediaStreamType type)
```
停止将本地摄像头/麦克风采集的媒体流发布到当前所在房间中

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| type | **MediaStreamType** | 媒体流类型，用于指定停止发布音频/视频，参看 [MediaStreamType](191862#mediastreamtype) |

**注意**
+ 调用 [PublishStream](#IRTCVideoRoom-publishstream) 手动发布摄像头音视频流后，你需调用此接口停止发布。
+ 调用此方法停止发布音视频流后，房间中的其他用户将会收到 [OnUserUnPublishStreamEventHandler](191860#onuserunpublishstreameventhandler) 回调通知。


<span id="IRTCVideoRoom-publishscreen"></span>
### PublishScreen
```csharp
void bytertc.IRTCVideoRoom.PublishScreen(
    MediaStreamType type)
```
在当前所在房间内发布本地屏幕共享音视频流

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| type | **MediaStreamType** | 媒体流类型，用于指定发布屏幕音频/视频，参看 [MediaStreamType](191862#mediastreamtype)。 |

**注意**
+ 调用 [SetUserVisibility](#IRTCVideoRoom-setuservisibility) 方法将自身设置为不可见后无法调用该方法，需将自身切换至可见后方可调用该方法发布屏幕流。
+ 调用该方法后，房间中的所有远端用户会收到 [OnUserPublishScreenEventHandler](191860#onuserpublishscreeneventhandler) 回调，其中成功收到音频流的远端用户会收到 [OnFirstRemoteAudioFrameEventHandler](191860#onfirstremoteaudioframeeventhandler) 回调，订阅了视频流的远端用户会收到 [OnFirstRemoteVideoFrameDecodedEventHandler](191860#onfirstremotevideoframedecodedeventhandler) 回调。
+ 调用 [UnpublishScreen](#IRTCVideoRoom-unpublishscreen) 取消发布。


<span id="IRTCVideoRoom-unpublishscreen"></span>
### UnpublishScreen
```csharp
void bytertc.IRTCVideoRoom.UnpublishScreen(
    MediaStreamType type)
```
停止将本地屏幕共享音视频流发布到当前所在房间中

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| type | **MediaStreamType** | 媒体流类型，用于指定停止发布屏幕音频/视频，参看 [MediaStreamType](191862#mediastreamtype) |

**注意**
+ 调用 [PublishScreen](#IRTCVideoRoom-publishscreen) 发布屏幕流后，你需调用此接口停止发布。
+ 调用此方法停止发布屏幕音视频流后，房间中的其他用户将会收到 [OnUserUnPublishScreenEventHandler](191860#onuserunpublishscreeneventhandler) 回调。


<span id="IRTCVideoRoom-subscribestream"></span>
### SubscribeStream
```csharp
void bytertc.IRTCVideoRoom.SubscribeStream(
    string userID,
    MediaStreamType type)
```
订阅房间内指定的通过摄像头/麦克风采集的媒体流，或更新对指定远端用户的订阅选项。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| userID | **string** | 指定订阅的远端发布音视频流的用户 ID。 |
| type | **MediaStreamType** | 媒体流类型，用于指定订阅音频/视频。参看 [MediaStreamType](191862#mediastreamtype)。 |

**注意**
+ 当调用本接口时，当前用户已经订阅该远端用户，不论是通过手动订阅还是自动订阅，都将根据本次传入的参数，更新订阅配置。
+ 你必须先通过 [OnUserPublishStreamEventHandler](191860#onuserpublishstreameventhandler) 回调获取当前房间里的远端摄像头音视频流信息，然后调用本方法按需订阅。
+ 调用该方法后，你会收到 [OnStreamSubscribedEventHandler](191860#onstreamsubscribedeventhandler) 通知方法调用结果。
+ 成功订阅远端用户的媒体流后，订阅关系将持续到调用 [UnsubscribeStream](#IRTCVideoRoom-unsubscribestream) 取消订阅或本端用户退房。
+ 关于其他调用异常，你会收到 [OnStreamStateChangedEventHandler](191860#onstreamstatechangedeventhandler) 回调通知，具体异常原因参看 [ErrorCode](191861#errorcode)。


<span id="IRTCVideoRoom-unsubscribestream"></span>
### UnsubscribeStream
```csharp
void bytertc.IRTCVideoRoom.UnsubscribeStream(
    string userID,
    MediaStreamType type)
```
取消订阅房间内指定的通过摄像头/麦克风采集的媒体流。
该方法对自动订阅和手动订阅模式均适用。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| userID | **string** | 指定取消订阅的远端发布音视频流的用户 ID。 |
| type | **MediaStreamType** | 媒体流类型，用于指定取消订阅音频/视频。参看 [MediaStreamType](191862#mediastreamtype)。 |

**注意**
+ 调用该方法后，你会收到 [OnStreamSubscribedEventHandler](191860#onstreamsubscribedeventhandler) 通知方法调用结果。
+ 关于其他调用异常，你会收到 [OnStreamStateChangedEventHandler](191860#onstreamstatechangedeventhandler) 回调通知，具体失败原因参看 [ErrorCode](191861#errorcode)。


<span id="IRTCVideoRoom-startforwardstreamtorooms"></span>
### StartForwardStreamToRooms
```csharp
int bytertc.IRTCVideoRoom.StartForwardStreamToRooms(
    ForwardStreamConfiguration configuration)
```
开始跨房间转发媒体流。
在调用 [JoinRoom](#IRTCVideoRoom-joinroom) 后调用本接口，实现向多个房间转发媒体流，适用于跨房间连麦等场景。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| configuration | **ForwardStreamConfiguration** | 跨房间媒体流转发指定房间的信息。参看 [ForwardStreamConfiguration](191862#forwardstreamconfiguration)。 |
**返回值**
0: 方法调用成功
<0: 方法调用失败


**注意**
+ 调用本方法后，将在本端触发 [OnForwardStreamStateChangedEventHandler](191860#onforwardstreamstatechangedeventhandler) 回调。
+ 调用本方法后，你可以通过监听 [OnForwardStreamEventEventHandler](191860#onforwardstreameventeventhandler) 回调来获取各个目标房间在转发媒体流过程中的相关事件。
+ 开始转发后，目标房间中的用户将接收到本地用户进房 [OnUserJoinedEventHandler](191860#onuserjoinedeventhandler) 和发流 [OnUserPublishStreamEventHandler](191860#onuserpublishstreameventhandler)/[OnUserPublishScreenEventHandler](191860#onuserpublishscreeneventhandler) 的回调。
+ 调用本方法后，可以调用 [UpdateForwardStreamToRooms](#IRTCVideoRoom-updateforwardstreamtorooms) 更新目标房间信息，例如，增加或减少目标房间等。
+ 调用本方法后，可以调用 [StopForwardStreamToRooms](#IRTCVideoRoom-stopforwardstreamtorooms) 停止向所有房间转发媒体流。
+ 调用本方法后，可以调用 [PauseForwardStreamToAllRooms](#IRTCVideoRoom-pauseforwardstreamtoallrooms) 暂停向所有房间转发媒体流。


<span id="IRTCVideoRoom-stopforwardstreamtorooms"></span>
### StopForwardStreamToRooms
```csharp
int bytertc.IRTCVideoRoom.StopForwardStreamToRooms();
```
停止跨房间媒体流转发。
通过 [StartForwardStreamToRooms](#IRTCVideoRoom-startforwardstreamtorooms) 发起媒体流转发后，可调用本方法停止向所有目标房间转发媒体流。

**返回值**
+ 0: 调用成功。
+ < 0 : 调用失败。


**注意**
+ 调用本方法后，将在本端触发 [OnForwardStreamStateChangedEventHandler](191860#onforwardstreamstatechangedeventhandler) 回调。
+ 调用本方法后，原目标房间中的用户将接收到本地用户停止发布 [OnUserUnPublishStreamEventHandler](191860#onuserunpublishstreameventhandler)/[OnUserUnPublishScreenEventHandler](191860#onuserunpublishscreeneventhandler) 和退房 [OnUserLeaveEventHandler](191860#onuserleaveeventhandler) 的回调。
+ 如果需要停止向指定的房间转发媒体流，请调用 [UpdateForwardStreamToRooms](#IRTCVideoRoom-updateforwardstreamtorooms) 更新房间信息。
+ 如果需要暂停转发，请调用 [PauseForwardStreamToAllRooms](#IRTCVideoRoom-pauseforwardstreamtoallrooms)，并在之后随时调用 [ResumeForwardStreamToAllRooms](#IRTCVideoRoom-resumeforwardstreamtoallrooms) 快速恢复转发。


<span id="IRTCVideoRoom-updateforwardstreamtorooms"></span>
### UpdateForwardStreamToRooms
```csharp
int bytertc.IRTCVideoRoom.UpdateForwardStreamToRooms(
    ForwardStreamConfiguration configuration)
```
更新跨房间媒体流转发信息。
通过 [StartForwardStreamToRooms](#IRTCVideoRoom-startforwardstreamtorooms) 发起媒体流转发后，可调用本方法增加或者减少目标房间，或更新房间密钥。
调用本方法增加或删减房间后，将在本端触发 [OnForwardStreamStateChangedEventHandler](191860#onforwardstreamstatechangedeventhandler) 回调，包含发生了变动的目标房间中媒体流转发状态。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| configuration | **ForwardStreamConfiguration** | 跨房间媒体流转发目标房间信息。参看 [ForwardStreamConfiguration](191862#forwardstreamconfiguration)。 |
**返回值**
+ 0: 方法调用成功
+ <0: 方法调用失败


**注意**
+ 增加目标房间后，新增目标房间中的用户将接收到本地用户进房 [OnUserJoinedEventHandler](191860#onuserjoinedeventhandler) 和发布 [OnUserPublishStreamEventHandler](191860#onuserpublishstreameventhandler)/[OnUserPublishScreenEventHandler](191860#onuserpublishscreeneventhandler) 的回调。
+ 删减目标房间后，原目标房间中的用户将接收到本地用户停止发布 [OnUserUnPublishStreamEventHandler](191860#onuserunpublishstreameventhandler)/[OnUserUnPublishScreenEventHandler](191860#onuserunpublishscreeneventhandler) 和退房 [OnUserLeaveEventHandler](191860#onuserleaveeventhandler) 的回调。


<span id="IRTCVideoRoom-pauseforwardstreamtoallrooms"></span>
### PauseForwardStreamToAllRooms
```csharp
int bytertc.IRTCVideoRoom.PauseForwardStreamToAllRooms();
```
暂停跨房间媒体流转发。
通过 [StartForwardStreamToRooms](#IRTCVideoRoom-startforwardstreamtorooms) 发起媒体流转发后，可调用本方法暂停向所有目标房间转发媒体流。
调用本方法暂停向所有目标房间转发后，你可以随时调用 [ResumeForwardStreamToAllRooms](#IRTCVideoRoom-resumeforwardstreamtoallrooms) 快速恢复转发。

**返回值**
+ 0: 调用成功。
+ < 0 : 调用失败。


**注意**
调用本方法后，目标房间中的用户将接收到本地用户停止发布 OnUserUnpublishStreamEventHandler[OnUserUnPublishStreamEventHandler](191860#onuserunpublishstreameventhandler)/[OnUserUnPublishScreenEventHandler](191860#onuserunpublishscreeneventhandler) 和退房 [OnUserLeaveEventHandler](191860#onuserleaveeventhandler) 的回调。

<span id="IRTCVideoRoom-resumeforwardstreamtoallrooms"></span>
### ResumeForwardStreamToAllRooms
```csharp
int bytertc.IRTCVideoRoom.ResumeForwardStreamToAllRooms();
```
恢复跨房间媒体流转发。
调用 [PauseForwardStreamToAllRooms](#IRTCVideoRoom-pauseforwardstreamtoallrooms) 暂停转发之后，调用本方法恢复向所有目标房间转发媒体流。

**返回值**
+ 0: 调用成功。
+ < 0 : 调用失败。


**注意**
目标房间中的用户将接收到本地用户进房 [OnUserJoinedEventHandler](191860#onuserjoinedeventhandler) 和发布 [OnUserPublishStreamEventHandler](191860#onuserpublishstreameventhandler)/[OnUserPublishScreenEventHandler](191860#onuserpublishscreeneventhandler) 的回调。


<span id="IRTCVideoRoom-setmultideviceavsync"></span>
### SetMultiDeviceAVSync
```csharp
int bytertc.IRTCVideoRoom.SetMultiDeviceAVSync(
    string audio_user_id)
```
设置发流端音画同步。
当同一用户同时使用两个通话设备分别采集发送音频和视频时，有可能会因两个设备所处的网络环境不一致而导致发布的流不同步，此时你可以在视频发送端调用该接口，SDK 会根据音频流的时间戳自动校准视频流，以保证接收端听到音频和看到视频在时间上的同步性。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| audio_user_id | **string** | 音频发送端的用户 ID，将该参数设为空则可解除当前音视频的同步关系。 |
**返回值**
+ 0: 调用成功。
+ < 0 : 调用失败。


**注意**
+ 该方法在进房前后均可调用。
+ 进行音画同步的音频发布用户 ID 和视频发布用户 ID 须在同一个 RTC 房间内。
+ 调用该接口后音画同步状态发生改变时，你会收到 [OnAVSyncStateChangeCallback](191860#onavsyncstatechangecallback) 回调。
+ 同一 RTC 房间内允许存在多个音视频同步关系，但需注意单个音频源不支持与多个视频源同时同步。
+ 如需更换同步音频源，再次调用该接口传入新的 `audio_user_id` 即可；如需更换同步视频源，需先解除当前的同步关系，后在新视频源端开启同步。


<span id="IRTCVideoRoom-subscribescreen"></span>
### SubscribeScreen
```csharp
void bytertc.IRTCVideoRoom.SubscribeScreen(
    string userID,
    MediaStreamType type)
```
订阅房间内指定的远端屏幕共享音视频流，或更新对指定远端用户的订阅选项

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| userID | **string** | 指定订阅的远端发布屏幕流的用户 ID。 |
| type | **MediaStreamType** | 媒体流类型，用于指定订阅音频/视频。参看 [MediaStreamType](191862#mediastreamtype)。 |

**注意**
+ 当调用本接口时，当前用户已经订阅该远端用户，不论是通过手动订阅还是自动订阅，都将根据本次传入的参数，更新订阅配置。
+ 你必须先通过 [OnUserPublishScreenEventHandler](191860#onuserpublishscreeneventhandler) 回调获取当前房间里的远端屏幕流信息，然后调用本方法按需订阅。
+ 调用该方法后，你会收到 [OnStreamSubscribedEventHandler](191860#onstreamsubscribedeventhandler) 通知方法调用结果。
+ 成功订阅远端用户的媒体流后，订阅关系将持续到调用 [UnsubscribeScreen](#IRTCVideoRoom-unsubscribescreen) 取消订阅或本端用户退房。
+ 关于其他调用异常，你会收到 [OnStreamStateChangedEventHandler](191860#onstreamstatechangedeventhandler) 回调通知，具体异常原因参看 [ErrorCode](191861#errorcode)。


<span id="IRTCVideoRoom-unsubscribescreen"></span>
### UnsubscribeScreen
```csharp
void bytertc.IRTCVideoRoom.UnsubscribeScreen(
    string userID,
    MediaStreamType type)
```
取消订阅房间内指定的远端屏幕共享音视频流。
该方法对自动订阅和手动订阅模式均适用。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| userID | **string** | 指定取消订阅的远端发布屏幕流的用户 ID。 |
| type | **MediaStreamType** | 媒体流类型，用于指定取消订阅音频/视频。参看 [MediaStreamType](191862#mediastreamtype)。 |

**注意**
+ 调用该方法后，你会收到 [OnStreamSubscribedEventHandler](191860#onstreamsubscribedeventhandler) 通知流的退订结果。
+ 关于其他调用异常，你会收到 [OnStreamStateChangedEventHandler](191860#onstreamstatechangedeventhandler) 回调通知，具体失败原因参看 [ErrorCode](191861#errorcode)。


<span id="IRTCVideoRoom-pauseallsubscribedstream"></span>
### PauseAllSubscribedStream
```csharp
void bytertc.IRTCVideoRoom.PauseAllSubscribedStream(
    PauseResumeControlMediaType mediaType)
```
暂停接收来自远端的媒体流。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| mediaType | **PauseResumeControlMediaType** | 媒体流类型，指定需要暂停接收音频还是视频流，参看 [PauseResumeControlMediaType](191862#pauseresumecontrolmediatype)。 |

**注意**
+ 该方法仅暂停远端流的接收，并不影响远端流的采集和发送；
+ 该方法不改变用户的订阅状态以及订阅流的属性。
+ 若想恢复接收远端流，需调用 [ResumeAllSubscribedStream](#IRTCVideoRoom-resumeallsubscribedstream)。


<span id="IRTCVideoRoom-resumeallsubscribedstream"></span>
### ResumeAllSubscribedStream
```csharp
void bytertc.IRTCVideoRoom.ResumeAllSubscribedStream(
    PauseResumeControlMediaType mediaType)
```
恢复接收来自远端的媒体流

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| mediaType | **PauseResumeControlMediaType** | 媒体流类型，指定需要暂停接收音频还是视频流，参看 [PauseResumeControlMediaType](191862#pauseresumecontrolmediatype) |

**注意**
+ 该方法仅恢复远端流的接收，并不影响远端流的采集和发送；
+ 该方法不改变用户的订阅状态以及订阅流的属性。


<span id="IRTCVideoRoom-subscribeallstreams"></span>
### SubscribeAllStreams
```csharp
int bytertc.IRTCVideoRoom.SubscribeAllStreams(
    MediaStreamType type)
```
订阅房间内所有通过摄像头/麦克风采集的媒体流，或更新订阅选项。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| type | **MediaStreamType** | 媒体流类型，用于指定订阅音频/视频。参看 [MediaStreamType](191862#mediastreamtype)。 |
**返回值**
0: 方法调用成功
!0: 方法调用失败


**注意**
+ 多次调用订阅接口时，将根据末次调用接口和传入的参数，更新订阅配置。
+ 大会模式下，如果房间内的媒体流超过上限，建议通过调用 [SubscribeStream](#IRTCVideoRoom-subscribestream) 逐一指定需要订阅的媒体流。
+ 调用该方法后，你会收到 [OnStreamSubscribedEventHandler](191860#onstreamsubscribedeventhandler) 通知方法调用结果。
+ 成功订阅远端用户的媒体流后，订阅关系将持续到调用 [UnsubscribeStream](#IRTCVideoRoom-unsubscribestream) 取消订阅或本端用户退房。
+ 关于其他调用异常，你会收到 [OnStreamStateChangedEventHandler](191860#onstreamstatechangedeventhandler) 回调通知，具体异常原因参看 [ErrorCode](191861#errorcode)。


<span id="IRTCVideoRoom-unsubscribeallstreams"></span>
### UnsubscribeAllStreams
```csharp
int bytertc.IRTCVideoRoom.UnsubscribeAllStreams(
    MediaStreamType type)
```
取消订阅房间内所有的通过摄像头/麦克风采集的媒体流。
自动订阅和手动订阅的流都可以通过本方法取消订阅。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| type | **MediaStreamType** | 媒体流类型，用于指定取消订阅音频/视频。参看 [MediaStreamType](191862#mediastreamtype)。 |
**返回值**
方法调用结果：
+ 0：成功
+ !0：失败


**注意**
+ 调用该方法后，你会收到 [OnStreamSubscribedEventHandler](191860#onstreamsubscribedeventhandler) 通知方法调用结果。
+ 关于其他调用异常，你会收到 [OnStreamStateChangedEventHandler](191860#onstreamstatechangedeventhandler) 回调通知，具体失败原因参看 [ErrorCode](191861#errorcode)。


<span id="IRTCVideoRoom-getrangeaudio"></span>
### GetRangeAudio
```csharp
IRangeAudio bytertc.IRTCVideoRoom.GetRangeAudio();
```
获取范围语音接口。

**返回值**
范围语音接口，参看 [IRangeAudio](#irangeaudio)。


<span id="IRTCVideoRoom-getspatialaudio"></span>
### GetSpatialAudio
```csharp
ISpatialAudio bytertc.IRTCVideoRoom.GetSpatialAudio();
```
获取空间音频接口。

**返回值**
空间音频接口，参看 [ISpatialAudio](#ispatialaudio)。


<span id="IRTCVideoRoom-sendusermessage"></span>
### SendUserMessage
```csharp
long bytertc.IRTCVideoRoom.SendUserMessage(
    string userID,
    string message)
```
给房间内指定的用户发送点对点文本消息（P2P）。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| userID | **string** | 消息接收用户的 ID |
| message | **string** | 发送的文本消息内容。消息不超过 64 KB。 |
**返回值**
+ \>0：发送成功，返回这次发送消息的编号，从 1 开始递增
+ -1：发送失败，RTCRoom 实例未创建
+ -2：发送失败，userID 为空


**注意**
在发送房间内文本消息前，必须先调用 [JoinRoom](#IRTCVideoRoom-joinroom) 加入房间。

<span id="IRTCVideoRoom-sendroommessage"></span>
### SendRoomMessage
```csharp
long bytertc.IRTCVideoRoom.SendRoomMessage(
    string message)
```
给房间内的所有其他用户群发文本消息。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| message | **string** | 发送的文本消息内容，消息不超过 64 KB。 |

**注意**
在房间内广播文本消息前，必须先调用 [JoinRoom](#IRTCVideoRoom-joinroom) 加入房间。

# IScreenCaptureSourceList
```csharp
public interface bytertc.IScreenCaptureSourceList
```

屏幕源类型信息列表


`Defined in : IScreenCaptureSourceList.cs`

## 成员函数
| 返回 | 名称 |
| --- | --- |
| **int** | [GetCount](#IScreenCaptureSourceList-getcount) |
| **ScreenCaptureSourceInfo** | [GetSourceInfo](#IScreenCaptureSourceList-getsourceinfo) |
| **void** | [Release](#IScreenCaptureSourceList-release) |

## 函数说明
<span id="IScreenCaptureSourceList-getcount"></span>
### GetCount
```csharp
int bytertc.IScreenCaptureSourceList.GetCount();
```
获取列表大小

**返回值**
获取列表大小


<span id="IScreenCaptureSourceList-getsourceinfo"></span>
### GetSourceInfo
```csharp
ScreenCaptureSourceInfo bytertc.IScreenCaptureSourceList.GetSourceInfo(
    int index)
```
根据索引号，获取屏幕共享列表中的元素。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| index | **int** | 列表索引号 |
**返回值**
屏幕源类型信息，参看 [ScreenCaptureSourceInfo](191862#screencapturesourceinfo)。


**注意**
返回类型中有 char* 类型的字符串，该字符串在本对象 Release 后释放，请注意内存管理。

<span id="IScreenCaptureSourceList-release"></span>
### Release
```csharp
void bytertc.IScreenCaptureSourceList.Release();
```
析构当前对象，释放内存


**注意**
严禁调用 delete 该结构体，该结构不需要的时候应该调用本函数释放资源

# ISpatialAudio
```csharp
public interface bytertc.ISpatialAudio
```

空间音频接口


`Defined in : ISpatialAudio.cs`

## 成员函数
| 返回 | 名称 |
| --- | --- |
| **void** | [EnableSpatialAudio](#ISpatialAudio-enablespatialaudio) |
| **int** | [UpdatePosition](#ISpatialAudio-updateposition) |
| **int** | [UpdateSelfOrientation](#ISpatialAudio-updateselforientation) |
| **void** | [DisableRemoteOrientation](#ISpatialAudio-disableremoteorientation) |
| **void** | [Release](#ISpatialAudio-release) |

## 函数说明
<span id="ISpatialAudio-enablespatialaudio"></span>
### EnableSpatialAudio
```csharp
void bytertc.ISpatialAudio.EnableSpatialAudio(
    bool enable)
```
设置是否开启空间语音

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| enable | **bool** | • true：开启<br/>• false: 关闭（默认设置） |

**注意**
开启空间语音后，非同一小队的队友之间收听的声音会根据设置的坐标和方位不同而产生空间音效，如果不需要设置为 false 即可。

<span id="ISpatialAudio-updateposition"></span>
### UpdatePosition
```csharp
int bytertc.ISpatialAudio.UpdatePosition(
    Position pos)
```
更新本地用户发声时，在房间内空间直角坐标系中的位置坐标。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| pos | **Position** | 三维坐标的值，默认为 [0, 0, 0]。参看 [Position](191862#position)。 |
**返回值**
+ 0: 成功；
+ !0: 失败。


**注意**
调用该接口更新坐标前，你需调用 [EnableSpatialAudio](#ISpatialAudio-enablespatialaudio) 开启空间音频功能。空间音频相关 API 和调用时序详见[空间音频](https://www.volcengine.com/docs/6348/93903)。

<span id="ISpatialAudio-updateselforientation"></span>
### UpdateSelfOrientation
```csharp
int bytertc.ISpatialAudio.UpdateSelfOrientation(
    HumanOrientation orientation)
```
更新自己的朝向。本地朝向的设置只影响本地听到的音频效果，不影响本地发出的音频效果。

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| orientation | **HumanOrientation** | 朝向信息，必须是单位向量。参看 [HumanOrientation](191862#humanorientation)。当朝向的正方向使用默认值时，朝向的坐标系和位置信息使用的坐标系一致。此时，正前方朝向是：`[1, 0, 0]`，正右方朝向是：`[0, 1, 0]`，正上方朝向是：`[0, 0, 1]`。 |
**返回值**
0: 更新成功


**注意**
本地用户调用 [EnableSpatialAudio](#ISpatialAudio-enablespatialaudio) 使用空间音频功能时，需要调用 [UpdatePosition](#ISpatialAudio-updateposition) 接口更新位置坐标后，才能调用此接口。

<span id="ISpatialAudio-disableremoteorientation"></span>
### DisableRemoteOrientation
```csharp
void bytertc.ISpatialAudio.DisableRemoteOrientation();
```
关闭本地用户朝向对本地用户发声效果的影响。
调用此接口后，房间内的其他用户收听本地发声时，声源都在收听者正面。


**注意**
+ 调用本接口关闭朝向功能后，在当前的空间音频实例的生命周期内无法再次开启。
+ 调用此接口不影响本地用户收听朝向的音频效果。要改变本地用户收听朝向，参看 [UpdateSelfOrientation](#ISpatialAudio-updateselforientation)。


<span id="ISpatialAudio-release"></span>
### Release
```csharp
void bytertc.ISpatialAudio.Release();
```
释放当前 [ISpatialAudio](#ispatialaudio) 对象占用的资源。


# IVideoDeviceManager
```csharp
public interface bytertc.IVideoDeviceManager
```

主要用于枚举、设置视频采集设备


`Defined in : IVideoDeviceManager.cs`

## 成员函数
| 返回 | 名称 |
| --- | --- |
| **IDeviceCollection** | [EnumerateVideoCaptureDevices](#IVideoDeviceManager-enumeratevideocapturedevices) |
| **int** | [SetVideoCaptureDevice](#IVideoDeviceManager-setvideocapturedevice) |
| **int** | [GetVideoCaptureDevice](#IVideoDeviceManager-getvideocapturedevice) |

## 函数说明
<span id="IVideoDeviceManager-enumeratevideocapturedevices"></span>
### EnumerateVideoCaptureDevices
```csharp
IDeviceCollection bytertc.IVideoDeviceManager.EnumerateVideoCaptureDevices();
```
获取当前系统内视频采集设备列表。

**返回值**
包含系统中所有视频采集设备的列表，参看 [IDeviceCollection](#idevicecollection)。


<span id="IVideoDeviceManager-setvideocapturedevice"></span>
### SetVideoCaptureDevice
```csharp
int bytertc.IVideoDeviceManager.SetVideoCaptureDevice(
    string deviceID)
```
设置当前视频采集设备

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| deviceID | **string** | 视频设备 ID，可以通过 [EnumerateVideoCaptureDevices](#IVideoDeviceManager-enumeratevideocapturedevices) 获取 |
**返回值**
+ 0：方法调用成功
+ !0：方法调用失败


<span id="IVideoDeviceManager-getvideocapturedevice"></span>
### GetVideoCaptureDevice
```csharp
int bytertc.IVideoDeviceManager.GetVideoCaptureDevice(
    ref string deviceID)
```
获取当前 SDK 正在使用的视频采集设备信息

**传入参数**
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| deviceID | **ref string** | 视频设备 ID |
**返回值**
+ 0：成功
+ !0：失败
