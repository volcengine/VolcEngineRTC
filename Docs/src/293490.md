---
is_dir: False    # True for dir; False for doc
status: 1    # 1 for online; 0 for offline
keywords: 实时音视频    # use ',' as separator
---

## BytedIM

IM 类，所有 API 交互都通过该类的实例来操作，实例化支持的参数参见 [IMOption](293494#imoption)。

| 方法 | 描述 |
| :-- | :-- |
| [init](293491#bytedim-init) | 初始化 SDK。<br>初始化时会完成与服务端的消息游标同步和历史信息同步。 |
| [createCustomMessage](293491#bytedim-createcustommessage) | 创建自定义消息。 |
| [createTextMessage](293491#bytedim-createtextmessage) | 创建文本消息。 |
| [sendMessage](293491#bytedim-sendmessage) | 发送消息。 |
| [deleteMessage](293491#bytedim-deletemessage) | 删除消息。（直播群不适用） |
| [recallMessage](293491#bytedim-recallmessage) | 撤回消息。（直播群不适用） |
| [modifyMessage](293491#bytedim-modifymessage) | 更新消息内容 (content) 或 ext 或 at 用户列表（支持同时更新）（直播群不适用） |
| [getMessageByServerId](293491#bytedim-getmessagebyserverid) | 根据指定会话中的消息服务端 ID 获取对应消息 （直播群不适用） |
| [getMessageReferenceList](293491#bytedim-getmessagereferencelist) | 获取引用消息链。（直播群不适用）<br>若消息 B 引用了消息 A，消息 C 引用了消息 B，那么 A -> B -> C 就是一条引用消息链。通过 A、B、C 任意一条消息都可以获取这条消息链。 |
| [modifyMessageProperty](293491#bytedim-modifymessageproperty) | 设置消息属性，常见使用场景：给某条消息点赞、加急等。（直播群不适用） |
| [getConversation](293491#bytedim-getconversation) | 获取指定单个本地会话。（直播群需通过 getConversationOnline 直接从服务端获取） |
| [getConversationOnline](293491#bytedim-getconversationonline) | 请求服务端更新本地会话后，获取指定单个会话。 |
| [getConversationList](293491#bytedim-getconversationlist) | 获取本地会话列表。 |
| [getConversationListOnline](293491#bytedim-getconversationlistonline) | 请求服务端更新本地会话后，获取会话列表。直播群列表请使用 [getLiveConversationListOnline](293491#getliveconversationlistonline)。 |
| [getMessagesByConversation](293491#bytedim-getmessagesbyconversation) | 从服务器获取会话内区间的消息，默认情况下从本地最早的消息开始拉取 (cursor = conversation.firstMessageIndex) 。拉取直播群区间消息请使用 getLiveGroupHistoryMessageListOnline。 |
| [getUserConversationList](293491#bytedim-getuserconversationlist) | 请求服务器获取用户的会话列表。 |
| [createConversation](293491#bytedim-createconversation) | 创建群聊。 |
| [leaveConversation](293491#bytedim-leaveconversation) | 离开群组。 |
| [deleteConversation](293491#bytedim-deleteconversation) | 删除会话。（直播群不适用） |
| [dissolveConversation](293491#bytedim-dissolveconversation) | 解散群聊。 |
| [setConversationSettingInfo](293491#bytedim-setconversationsettinginfo) | 设置会话附加信息，如置顶、免打扰、收藏等。（直播群不适用） |
| [setConversationWeakMuteConfig](293491#bytedim-setconversationweakmuteconfig) | 配置会话低打扰模式。（直播群不适用） |
| [upsertConversationSettingExtInfo](293491#bytedim-upsertconversationsettingextinfo) | 更新 Setting ext 拓展信息。（直播群不适用） |
| [setConversationCoreInfo](293491#bytedim-setconversationcoreinfo) | 设置群聊信息。 |
| [upsertConversationCoreExtInfo](293491#bytedim-upsertconversationcoreextinfo) | 更新 Core ext 拓展信息。 |
| [getConversationListByTop](293491#bytedim-getconversationlistbytop) | 获取顶置会话。（直播群不适用） |
| [getConversationListByFavorite](293491#bytedim-getconversationlistbyfavorite) | 获取收藏会话。（直播群不适用） |
| [markConversationRead](293491#bytedim-markconversationread) | 标记会话已读，以清除未读数。（直播群不适用） |
| [sendMessageReadReceipts](293491#bytedim-sendmessagereadreceipts) | 标记指定会话中的指定消息消息已读（发送已读回执）（v1.11.0 新增，在群聊中使用消息级已读回执需联系技术支持开通；直播群不适用） |
| [getMessagesReadReceiptOnline](293491#bytedim-getmessagesreadreceiptonline) | 获得指定消息的已读回执（v1.11.0 新增，在群聊中使用消息级已读回执需联系技术支持开通；直播群不适用） |
| [markConversationMessagesRead](293491#bytedim-markconversationmessagesread) | 标记会话内的所有消息已读（发送已读回执）（v1.11.0 新增，在群聊中使用消息级已读回执需联系技术支持开通；仅支持单聊，群聊和直播群不适用） |
| [addParticipants](293491#bytedim-addparticipants) | 添加群成员。（直播群不适用，如需加入直播群请在用户端加入直播群 joinLiveGroup） |
| [removeParticipants](293491#bytedim-removeparticipants) | 移除普通群成员/移除直播群内其它成员，v1.1.0 新增直播群功能。<br>注：如需自己退出直播群，请使用 leaveLiveGroup |
| [updateParticipant](293491#bytedim-updateparticipant) | 更新群成员信息。 |
| [getParticipants](293491#bytedim-getparticipants) | 获取 SDK 本地维护的群成员列表。（直播群不适用） |
| [getParticipantsOnline](293491#bytedim-getparticipantsonline) | 从服务端获取群成员列表。 |
| [setConversationMute](293491#bytedim-setconversationmute) | 设置群禁言（会话维度）。 |
| [setParticipantMuteTime](293491#bytedim-setparticipantmutetime) | 设置群禁言（成员维度）。 |
| [sendP2PMessage](293491#bytedim-sendp2pmessage) | 发送自定义透传消息（直播群不适用） |
| [dispose](293491#bytedim-dispose) | 手动卸载 SDK。 |


## MultimediaPlugin

多媒体消息插件，在 IM 实例化时传入后，IM 实例增加发送媒体消息的方法。

| 方法 | 描述 |
| :-- | :-- |
| [createImageMessage](293491#multimediaplugin-createimagemessage) | 创建图片消息。 |
| [createAudioMessage](293491#multimediaplugin-createaudiomessage) | 创建音频消息。 |
| [createVideoMessage](293491#multimediaplugin-createvideomessage) | 创建视频消息。 |
| [createFileMessage](293491#multimediaplugin-createfilemessage) | 创建文件消息。 |
| [refreshFileUrl](293491#multimediaplugin-refreshfileurl) | 根据消息内容刷新文件 URL。 |
| [validateFileUrl](293491#multimediaplugin-validatefileurl) | 校验文件 URL 是否在有效期。 |
| [getImageResizeUrls](293491#multimediaplugin-getimageresizeurls) | 获取图片 URL（缩放、转码）。 |
| [cancelMediaFileMessagUpload](293491#multimediaplugin-cancelmediafilemessagupload) | 取消文件上传。 |


## LivePlugin

直播群插件，在 IM 实例化时传入后，IM 实例增加直播群相关的方法。v1.1.0 新增。

| 方法 | 描述 |
| :-- | :-- |
| [joinLiveGroup](293491#liveplugin-joinlivegroup) | 加入直播群，加入成功时会启动直播 ping 和断线恢复重进（接口基于 addParticipants） |
| [leaveLiveGroup](293491#liveplugin-leavelivegroup) | 离开直播群，并且会停止直播 ping（接口基于 removeParticipants） |
| [setParticipantBlockTime](293491#liveplugin-setparticipantblocktime) | 拉黑直播群成员。 |
| [getMuteParticipantsOnline](293491#liveplugin-getmuteparticipantsonline) | 获取直播群禁言成员列表。 |
| [getBlockParticipantsOnline](293491#liveplugin-getblockparticipantsonline) | 获取直播群被拉黑成员列表。 |
| [getLiveParticipantMuteWhiteListOnline](293491#liveplugin-getliveparticipantmutewhitelistonline) | 获取直播群禁言白名单。 |
| [addLiveParticipantMuteWhiteList](293491#liveplugin-addliveparticipantmutewhitelist) | 添加指定成员到直播群禁言白名单。 |
| [removeLiveParticipantMuteWhiteList](293491#liveplugin-removeliveparticipantmutewhitelist) | 从直播群禁言白名单移除指定成员。 |
| [getLiveConversationListOnline](293491#liveplugin-getliveconversationlistonline) | 获取直播群列表。 |
| [getLiveParticipantsOnline](293491#liveplugin-getliveparticipantsonline) | 获取直播群在线成员列表。 |
| [getLiveParticipantCountOnline](293491#liveplugin-getliveparticipantcountonline) | 获取直播群在线人数 |
| [getLiveParticipantInfoOnline](293491#liveplugin-getliveparticipantinfoonline) | 获取直播群指定成员状态信息（例如是否在线、最后活跃时间），v1.1.2 新增。 |
| [getLiveParticipantDetailOnline](293491#liveplugin-getliveparticipantdetailonline) | 获取直播群指定成员资料（例如成员在群中的昵称、头像），v1.5.0 新增。 |
| [getLiveGroupHistoryMessageListOnline](293491#liveplugin-getlivegrouphistorymessagelistonline) | 获取直播群历史消息 |
| [updateLiveConversationMarks](293491#liveplugin-updateliveconversationmarks) | 更新直播群内的标记类型 |
| [getLiveConversationMarksOnline](293491#liveplugin-getliveconversationmarksonline) | 获取直播群内的标记类型 |
| [updateLiveParticipantsMarks](293491#liveplugin-updateliveparticipantsmarks) | 更新直播群内指定成员的标记，需要先在群中创建好对应标记类型 |


## ContactPlugin

联系人插件，提供好友关系等能力；在 IM 实例化时传入后，IM 实例增加联系人相关的方法。v1.2.0 新增。<br>注：使用用户资料能力需先通过服务端 API 注册对应的用户。

| 方法 | 描述 |
| :-- | :-- |
| [getFriendReceiveApplyListOnline](293491#contactplugin-getfriendreceiveapplylistonline) | 获取好友申请列表。 |
| [getFriendListOnline](293491#contactplugin-getfriendlistonline) | 获取好友列表。 |
| [applyFriend](293491#contactplugin-applyfriend) | 申请添加好友。 |
| [deleteFriend](293491#contactplugin-deletefriend) | 删除好友。 |
| [replyFriendApply](293491#contactplugin-replyfriendapply) | 回应好友申请。 |
| [markFriendReceiveApplyAsRead](293491#contactplugin-markfriendreceiveapplyasread) | 标记好友申请已读。（用于同步申请未读数等场景） |
| [addUserToBlack](293491#contactplugin-addusertoblack) | 将指定用户加入黑名单 |
| [removeUserFromBlack](293491#contactplugin-removeuserfromblack) | 将指定用户从黑名单移除 |
| [userIsInMyBlack](293491#contactplugin-userisinmyblack) | 检查用户是否在黑名单中 |
| [updateBlackUserState](293491#contactplugin-updateblackuserstate) | 更新指定用户黑名单条目（例如更新 ext） |
| [getBlacklistOnline](293491#contactplugin-getblacklistonline) | 获取用户黑名单 |
| [updateFriend](293491#contactplugin-updatefriend) | 更新好友信息 |
| [getUserProfilesOnline](293491#contactplugin-getuserprofilesonline) | 获取用户资料 |
| [setUserProfile](293491#contactplugin-setuserprofile) | 设置用户资料 |


## EventBus

| 方法 | 描述 |
| :-- | :-- |
| [subscribe](293491#eventbus-subscribe) | 创建一个事件订阅 |
| [unsubscribe](293491#eventbus-unsubscribe) | 取消一个事件订阅 |

